(()=>{var e={};e.id=7798,e.ids=[7798],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},27790:e=>{"use strict";e.exports=require("assert")},78893:e=>{"use strict";e.exports=require("buffer")},9714:e=>{"use strict";e.exports=require("constants")},84770:e=>{"use strict";e.exports=require("crypto")},17702:e=>{"use strict";e.exports=require("events")},92048:e=>{"use strict";e.exports=require("fs")},32615:e=>{"use strict";e.exports=require("http")},35240:e=>{"use strict";e.exports=require("https")},19801:e=>{"use strict";e.exports=require("os")},55315:e=>{"use strict";e.exports=require("path")},68621:e=>{"use strict";e.exports=require("punycode")},76162:e=>{"use strict";e.exports=require("stream")},74026:e=>{"use strict";e.exports=require("string_decoder")},74175:e=>{"use strict";e.exports=require("tty")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},6162:e=>{"use strict";e.exports=require("worker_threads")},71568:e=>{"use strict";e.exports=require("zlib")},90917:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>i.a,__next_app__:()=>x,originalPathname:()=>u,pages:()=>d,routeModule:()=>m,tree:()=>c}),t(5561),t(93713),t(71525),t(43240),t(24398),t(40133),t(20230),t(49356),t(90996);var r=t(30170),l=t(45002),a=t(83876),i=t.n(a),n=t(66299),o={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>n[e]);t.d(s,o);let c=["",{children:["customers",{children:["info",{children:["[customerID]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,5561)),"E:\\riot\\sparking\\sp_1\\src\\app\\customers\\info\\[customerID]\\page.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,93713)),"E:\\riot\\sparking\\sp_1\\src\\app\\customers\\info\\[customerID]\\layout.tsx"],error:[()=>Promise.resolve().then(t.bind(t,71525)),"E:\\riot\\sparking\\sp_1\\src\\app\\customers\\info\\[customerID]\\error.tsx"]}]},{error:[()=>Promise.resolve().then(t.bind(t,43240)),"E:\\riot\\sparking\\sp_1\\src\\app\\customers\\info\\error.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,24398)),"E:\\riot\\sparking\\sp_1\\src\\app\\customers\\layout.tsx"],error:[()=>Promise.resolve().then(t.bind(t,40133)),"E:\\riot\\sparking\\sp_1\\src\\app\\customers\\error.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,28204))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(t.bind(t,20230)),"E:\\riot\\sparking\\sp_1\\src\\app\\layout.tsx"],error:[()=>Promise.resolve().then(t.bind(t,49356)),"E:\\riot\\sparking\\sp_1\\src\\app\\error.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,90996,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,28204))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],d=["E:\\riot\\sparking\\sp_1\\src\\app\\customers\\info\\[customerID]\\page.tsx"],u="/customers/info/[customerID]/page",x={require:t,loadChunk:()=>Promise.resolve()},m=new r.AppPageRouteModule({definition:{kind:l.x.APP_PAGE,page:"/customers/info/[customerID]/page",pathname:"/customers/info/[customerID]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},15253:(e,s,t)=>{Promise.resolve().then(t.bind(t,77349))},35579:(e,s,t)=>{Promise.resolve().then(t.bind(t,45268))},86879:(e,s,t)=>{Promise.resolve().then(t.bind(t,49540))},77349:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>a});var r=t(97247),l=t(87467);function a({error:e,reset:s}){return r.jsx("div",{children:r.jsx(l.Z,{handleBtn:s,value:e.message})})}},45268:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>i});var r=t(97247),l=t(45590);t(2987),t(91844),t(73907),t(6493),t(28964);var a=t(23102);function i(){(0,a.I0)();let{datas:e}=(0,a.v9)(e=>e.get_access_roles);return r.jsx("div",{className:"p-4",children:r.jsx(l.Z,{})})}},49540:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>a});var r=t(97247),l=t(87467);function a({error:e,reset:s}){return r.jsx("div",{children:r.jsx(l.Z,{handleBtn:s,value:e.message})})}},45590:(e,s,t)=>{"use strict";t.d(s,{Z:()=>Y});var r=t(97247),l=t(39884),a=t(82140),i=t(28964),n=t(26161);function o(){return(0,r.jsxs)("div",{className:"flex flex-col gap-4 p-4",children:[r.jsx("p",{className:"text-xl",children:"Th\xf4ng tin kh\xe1ch h\xe0ng"}),r.jsx(n.Z,{})]})}var c=t(68534);function d(){return(0,r.jsxs)("div",{className:"flex flex-col gap-4 p-4 w-full",children:[r.jsx("p",{className:"text-xl",children:"H\xf3a đơn"}),r.jsx(c.Z,{})]})}var u=t(84290);function x(){return(0,r.jsxs)("div",{className:"flex flex-col gap-4 p-4 w-full",children:[r.jsx("p",{className:"text-xl",children:"H\xf3a đơn"}),r.jsx(u.Z,{})]})}var m=t(39731);function p(){return(0,r.jsxs)("div",{className:"flex flex-col gap-4 p-4 w-full",children:[r.jsx("p",{className:"text-xl",children:"Hợp đồng"}),r.jsx(m.Z,{})]})}var h=t(60082);function f(){return(0,r.jsxs)("div",{className:"flex flex-col gap-4 p-4 w-full",children:[r.jsx("p",{className:"text-xl",children:"B\xe1o gi\xe1"}),r.jsx(h.Z,{})]})}var g=t(23102),j=t(34178),v=t(99539),b=t(77784),_=t(77951),y=t(61410),w=t(12927),N=t(1880),Z=t(35090),P=t(88506),k=t(41201),C=t(98065),q=t(69160),I=t(48738),E=t(99801),S=t.n(E),T=t(6685),W=t(11320);function D({refBtnCustomer:e}){let[s,t]=(0,i.useState)(),{postdata:a}=(0,v.Z)(),n=(0,g.I0)(),[o]=(0,q.Z)(),{customerID:c}=(0,j.useParams)(),[d,u]=(0,i.useState)(!1),x=async e=>{let t=(0,I.Z)(Object.entries({...e,customer_info:c,picture_url:[s?.originFileObj]}).reduce((e,[s,t])=>(null!=t&&(e[s]=t),e),{})),r=await a(()=>T.Z.createAccountCustomer(t));(200===r||201===r)&&(o.resetFields(),u(!1),n((0,W.m)()))},m=(0,r.jsxs)("button",{style:{border:0,background:"none"},type:"button",children:[r.jsx(b.Z,{}),r.jsx("div",{style:{marginTop:8},children:"Upload"})]});return(0,r.jsxs)(r.Fragment,{children:[r.jsx(_.ZP,{hidden:!!e,className:"bg-blue-400 border-0 text-white font-semibold",icon:r.jsx(C.b0B,{}),onClick:()=>{u(!0)},ref:e,children:"Th\xeam t\xe0i khoản"}),r.jsx(y.Z,{title:"Tạo t\xe0i khoản",open:d,onCancel:()=>{u(!1)},footer:null,width:"100%",style:{maxWidth:"800px"},children:(0,r.jsxs)(w.Z,{layout:"vertical",onFinish:x,form:o,style:{display:"flex",flexWrap:"wrap",gap:"8px"},children:[(0,r.jsxs)("div",{className:"flex flex-wrap gap-2 h-fit w-fit rounded-lg p-1",children:[r.jsx(w.Z.Item,{name:"full_name",className:"!m-0",label:"T\xean kh\xe1ch",rules:[{required:!0,message:"Vui l\xf2ng nhập t\xean c\xf4ng ty!"}],style:{minWidth:"320px",flex:"1 1 0%"},children:r.jsx(N.default,{})}),r.jsx(w.Z.Item,{name:"email",label:"Email",rules:[{required:!0,message:"Vui l\xf2ng nhập email!"}],style:{minWidth:"320px",flex:"1 1 0%"},children:r.jsx(N.default,{})}),r.jsx(w.Z.Item,{name:"password",label:"Mật khẩu",rules:[{required:!0,message:"Vui l\xf2ng nhập password!"}],style:{minWidth:"320px",flex:"1 1 0%"},children:r.jsx(N.default.Password,{})}),r.jsx(w.Z.Item,{name:"position",label:"Vị tr\xed",style:{minWidth:"320px",flex:"1 1 0%"},children:r.jsx(N.default,{})}),r.jsx(w.Z.Item,{name:"gender",label:"Giới t\xednh",style:{minWidth:"320px",flex:"1 1 0%"},children:(0,r.jsxs)(l.Z,{placeholder:"Select a currency type",defaultValue:"male",children:[r.jsx(k.W,{value:"male",children:"Nam"}),r.jsx(k.W,{value:"female",children:"Nữ"}),r.jsx(k.W,{value:"other",children:"Kh\xe1c"})]})}),r.jsx(w.Z.Item,{name:"phone_number",label:"Số điện thoại",rules:[{required:!0,message:"Vui l\xf2ng nhập số điện thoại!"}],style:{minWidth:"320px",flex:"1 1 0%"},children:r.jsx(N.default,{})}),r.jsx(w.Z.Item,{name:"date_of_birth",label:"Ng\xe0y sinh",initialValue:"",className:" mb-0",style:{minWidth:"320px",flex:"1 1 0%"},getValueFromEvent:e=>e?.format("YYYY-MM-DD"),getValueProps:e=>({value:e?S()(e):""}),children:r.jsx(Z.default,{placeholder:"Chọn ng\xe0y sinh",style:{width:"100%"}})}),r.jsx(w.Z.Item,{name:"picture_url",label:"Ảnh đại diện",className:"!m-0",style:{minWidth:"320px",flex:"1 1 0%"},children:r.jsx(P.default,{maxCount:1,action:"",listType:"picture-card",onChange:({file:e})=>{t(e)},children:m})})]}),r.jsx(w.Z.Item,{style:{width:"100%",display:"flex",justifyContent:"end"},children:r.jsx(_.ZP,{type:"primary",htmlType:"submit",children:"Tạo"})})]})})]})}function F(){return r.jsx("div",{className:"flex flex-col gap-2",children:r.jsx("div",{className:"flex gap-2 items-center",children:r.jsx(D,{})})})}var V=t(93104),$=t(77709),G=t(16523),A=t(14887),B=t(36714),H=t(96538);function M(){let{customerID:e}=(0,j.useParams)(),[s,t]=(0,i.useState)(25),a=(0,g.I0)(),{datas:n}=(0,g.v9)(e=>e.get_account_customers),[o,c]=(0,i.useState)(),{postdata:d}=(0,v.Z)(),u=[{title:"#",className:"text-xs",dataIndex:"customer_id",render:(e,s,t)=>(0,r.jsxs)("div",{className:"flex flex-col gap-1 ",children:[(0,r.jsxs)("strong",{children:["#",t+1]}),(0,r.jsxs)("div",{className:"flex gap-2",children:[r.jsx(_.ZP,{type:"text",ghost:!0,className:"text-xs text-blue-600",onClick:()=>{window.location.href=`/customers/info/${e}`},children:"Xem"}),r.jsx(A.Z,{customer_id:e})]})]}),sorter:(e,s)=>(e.customer_id??"").localeCompare(s.customer_id??"")},{title:"T\xean kh\xe1ch h\xe0ng",className:"text-xs",dataIndex:"full_name",render:e=>r.jsx(r.Fragment,{children:e?.length>15?`${e.slice(0,15)}...`:e}),sorter:(e,s)=>(e.full_name??"").localeCompare(s.full_name??"")},{title:"Email",className:"text-xs",dataIndex:["email"],render:e=>r.jsx(r.Fragment,{children:e?.length>15?`${e.slice(0,15)}...`:e}),sorter:(e,s)=>e.email.localeCompare(s.email)},{title:"Chức vụ",className:"text-xs",dataIndex:["position"],sorter:(e,s)=>e.position.localeCompare(s.position)},{title:"Điện thoại",className:"text-xs",dataIndex:"phone_number",sorter:(e,s)=>e.phone_number.localeCompare(s.phone_number)},{title:"Đang hoạt động",className:"text-xs",dataIndex:"status",render:(s,t)=>r.jsx(r.Fragment,{children:r.jsx(V.Z,{defaultChecked:"active"===s,onChange:async s=>{let r=new FormData;r.append("status",s?"active":"hide"),200===await d(()=>T.Z.updateAccountCustomer(t.customer_id,r))&&(a((0,B.P)({customer_info:e})),a((0,W.m)()))}})})}],x=e=>{c(n?.filter(s=>String(s.customer_id+" "+s.email+" "+s.phone_number+" "+s?.position+" "+s?.full_name).toLowerCase().includes(e.toLowerCase())))},[m,p]=(0,i.useState)(!1),[h,f]=(0,i.useState)([]),b=async()=>{200===await d(()=>T.Z.deleteInfoCustomer(h))&&(a((0,B.P)({customer_info:e})),a((0,W.m)()),f([]),p(!1))};return(0,r.jsxs)("div",{className:"",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-2 flex-wrap gap-y-2",children:[(0,r.jsxs)("div",{className:"flex items-center gap-1",children:[r.jsx(l.Z,{defaultValue:s,style:{width:83},onChange:e=>t(e),options:[{value:10,label:10},{value:25,label:25},{value:50,label:50},{value:100,label:100},{value:500,label:500},{value:1e3,label:1e3},{value:1e8,label:"Tất cả"}]}),r.jsx(_.ZP,{hidden:!(h.length>0),children:"Xuất ra"}),r.jsx(_.ZP,{onClick:()=>{p(!0)},danger:!0,hidden:!(h.length>0),className:"text-xl",icon:r.jsx(G.FH3,{})})]}),r.jsx("div",{className:"flex gap-2 items-center",children:r.jsx(H.Z,{onChange:e=>{x(e.target.value)},placeholder:"T\xecm kiếm",style:{width:200}})})]}),r.jsx("div",{className:"w-full overflow-auto",children:r.jsx("div",{className:"min-w-fit",children:r.jsx($.Z,{columns:u,rowSelection:{onChange:(e,s)=>{f(s.map(e=>e.customer_id))}},dataSource:o,scroll:{x:"max-content"},pagination:{pageSize:s,showTotal:(e,s)=>`${s[0]}-${s[1]} of ${e} items`},showSorterTooltip:{target:"sorter-icon"}})})}),r.jsx(y.Z,{open:m,title:"X\xf3a dữ liệu",onOk:b,onCancel:()=>{p(!1)},children:"Bạn c\xf3 chắc chắn muốn x\xf3a kh\xf4ng ?"})]})}function L(){return r.jsx("div",{children:(0,r.jsxs)("div",{className:"flex flex-col gap-4 rounded-md p-4 shadow-[0_8px_30px_rgb(0,0,0,0.12)] bg-white",children:[r.jsx("div",{className:"rounded-md",children:r.jsx(F,{})}),r.jsx("div",{className:"rounded-md",children:r.jsx(M,{})})]})})}function O(){return(0,r.jsxs)("div",{className:"flex flex-col gap-4 p-4 w-full",children:[r.jsx("p",{className:"text-xl",children:"Người li\xean hệ"}),r.jsx(L,{})]})}var X=t(38960);function Y(){let e=(0,X.ZP)({maxWidth:639}),s=(0,j.useRouter)(),{datas:t}=(0,g.v9)(e=>e.infos_customer),{customerID:i}=(0,j.useParams)(),n=[{label:"Th\xf4ng tin kh\xe1ch h\xe0ng",key:"customer",children:r.jsx(o,{})},{label:"Li\xean hệ",key:"contact",children:r.jsx(O,{})},{label:"H\xf3a đơn",key:"invoice",children:r.jsx(d,{})},{label:"Dự \xe1n",key:"project",children:r.jsx(x,{})},{label:"Hợp đồng",key:"contract",children:r.jsx(p,{})},{label:"B\xe1o gi\xe1",key:"price_quote",children:r.jsx(f,{})}];return(0,r.jsxs)("div",{className:"flex flex-col",children:[r.jsx("div",{children:r.jsx(l.Z,{placeholder:"Kh\xe1ch h\xe0ng",style:{minWidth:120,flex:"1 1 0%"},defaultValue:i,onChange:e=>{s.push(`/customer/info/${e||t[0].info_id}`)},showSearch:!0,allowClear:!0,filterOption:(e,s)=>(s?.label??"").toLowerCase().includes(e.toLowerCase()),options:t.map(e=>({value:e.info_id,label:e.name_company}))})}),r.jsx("div",{className:"flex-1",children:r.jsx(a.Z,{items:n,tabPosition:`${e?"top":"right"}`})})]})}},71525:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>r});let r=(0,t(45347).createProxy)(String.raw`E:\riot\sparking\sp_1\src\app\customers\info\[customerID]\error.tsx#default`)},93713:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>l});var r=t(72051);function l({children:e}){return r.jsx(r.Fragment,{children:e})}},5561:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>r});let r=(0,t(45347).createProxy)(String.raw`E:\riot\sparking\sp_1\src\app\customers\info\[customerID]\page.tsx#default`)},43240:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>r});let r=(0,t(45347).createProxy)(String.raw`E:\riot\sparking\sp_1\src\app\customers\info\error.tsx#default`)}};var s=require("../../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),r=s.X(0,[9379,4671,4564,2703,2602,5090,5791,5794,2754,7132,6415,4523,8984,9081,7504,9722,6993,8188,1290,7233,8575,9756,8395,5983,82,8534,4290,9731,4313],()=>t(90917));module.exports=r})();