(()=>{var e={};e.id=3929,e.ids=[3929],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},27790:e=>{"use strict";e.exports=require("assert")},17702:e=>{"use strict";e.exports=require("events")},92048:e=>{"use strict";e.exports=require("fs")},32615:e=>{"use strict";e.exports=require("http")},35240:e=>{"use strict";e.exports=require("https")},19801:e=>{"use strict";e.exports=require("os")},55315:e=>{"use strict";e.exports=require("path")},68621:e=>{"use strict";e.exports=require("punycode")},76162:e=>{"use strict";e.exports=require("stream")},74175:e=>{"use strict";e.exports=require("tty")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},6162:e=>{"use strict";e.exports=require("worker_threads")},71568:e=>{"use strict";e.exports=require("zlib")},7182:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>i.a,__next_app__:()=>p,originalPathname:()=>x,pages:()=>o,routeModule:()=>u,tree:()=>d}),s(87366),s(11967),s(20230),s(49356),s(90996);var a=s(30170),r=s(45002),l=s(83876),i=s.n(l),n=s(66299),c={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>n[e]);s.d(t,c);let d=["",{children:["detail",{children:["contract",{children:["[id]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,87366)),"E:\\riot\\sparking\\sp_1\\src\\app\\detail\\contract\\[id]\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,11967)),"E:\\riot\\sparking\\sp_1\\src\\app\\detail\\layout.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,28204))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(s.bind(s,20230)),"E:\\riot\\sparking\\sp_1\\src\\app\\layout.tsx"],error:[()=>Promise.resolve().then(s.bind(s,49356)),"E:\\riot\\sparking\\sp_1\\src\\app\\error.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,90996,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,28204))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],o=["E:\\riot\\sparking\\sp_1\\src\\app\\detail\\contract\\[id]\\page.tsx"],x="/detail/contract/[id]/page",p={require:s,loadChunk:()=>Promise.resolve()},u=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/detail/contract/[id]/page",pathname:"/detail/contract/[id]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},27268:(e,t,s)=>{Promise.resolve().then(s.bind(s,5693))},14076:(e,t,s)=>{"use strict";s.d(t,{Z:()=>n});var a=s(28964),r=s.n(a),l=s(99081),i=function(){return(i=Object.assign||function(e){for(var t,s=1,a=arguments.length;s<a;s++)for(var r in t=arguments[s])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};let n=(0,a.forwardRef)(function(e,t){return r().createElement(l.P,i({},e,{chartType:"Pie",ref:t}))})},99219:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(26323).Z)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},89779:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(26323).Z)("user-check",[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]])},5693:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>w});var a=s(97247),r=s(77951),l=s(82140),i=s(28964),n=s(98065),c=s(38043),d=s(41479),o=s(77709);s(4184);var x=s(16523),p=s(34178),u=s(88192);function h(){let{id:e}=(0,p.useParams)(),[t,s]=(0,i.useState)(),[l,n]=(0,i.useState)([]),[c,u]=(0,i.useState)(),h=[{title:"",dataIndex:"activity_id",className:"text-xs",render:()=>a.jsx(a.Fragment,{children:a.jsx(r.ZP,{icon:a.jsx(x.QZE,{className:"text-yellow-400"}),type:"link"})})||"N/A",width:2},{title:"",dataIndex:"name",className:"text-xs",render:(e,t)=>{let s="",r="";switch(t.status.name_tag){case"process":s="gold",r="Đang thực hiện";break;case"completed":s="green",r="Bắt đầu";break;case"delete":s="red",r="Đ\xe3 x\xf3a";break;case"hide":s="gray",r="Đ\xe3 ẩn";break;default:s="default",r="Kh\xf4ng x\xe1c định"}return(0,a.jsxs)("div",{className:"flex gap-2 items-center",children:[a.jsx("a",{className:"capitalize",href:`/detail/activity/${t.activity_id}?activity=${t.activity_id}`,children:(e?.length??0)>40?`${(e??"").slice(0,40)}...`:e??"N/A"}),a.jsx(d.Z,{className:"",color:s,children:r})]})}},{title:"",dataIndex:["customer","name_company"],className:"text-xs"},{title:"",dataIndex:["customer","phone_number"],className:"text-xs"}];return a.jsx("div",{className:"flex flex-col gap-2 max-w-full w-full rounded-lg h-96",children:a.jsx("div",{className:"flex flex-col gap-2",children:a.jsx("div",{children:(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{children:[a.jsx("div",{className:"w-full flex items-center",children:(0,a.jsxs)("p",{className:"font-bold text-sm text-center",children:["Ng\xe0y h\xf4m nay ",(0,a.jsxs)("span",{className:"font-light",children:["(",l.length,")"]})]})}),a.jsx("div",{children:a.jsx(o.Z,{columns:h,dataSource:l,scroll:{x:"max-content"},showHeader:!1,pagination:!1,showSorterTooltip:{target:"sorter-icon"}})})]}),c&&Object.keys(c).map(e=>a.jsx(a.Fragment,{children:(0,a.jsxs)("div",{className:"my-4",children:[(0,a.jsxs)("p",{className:"font-bold text-sm",children:["Ng\xe0y ",e," ",(0,a.jsxs)("span",{className:"font-light",children:["(",c[e].length,")"]})," "]}),a.jsx("div",{children:a.jsx(o.Z,{columns:h,dataSource:c[e],scroll:{x:"max-content"},showHeader:!1,pagination:!1,showSorterTooltip:{target:"sorter-icon"}})})]})}))]})})})})}var m=s(34523),f=s.n(m),j=s(23102);function g({data:e}){let{datas:t}=(0,j.v9)(e=>e.infos_customer);return a.jsx("div",{children:(0,a.jsxs)("div",{className:"flex flex-col sm:flex-1 sm:w-auto w-96",children:[(0,a.jsxs)("div",{className:"border-t-[1px] flex w-full py-2",children:[a.jsx("p",{className:"flex-1 flex justify-start font-medium",children:"M\xe3 hợp đồng"}),a.jsx("p",{className:"flex-1 flex justify-start",children:e?.code_contract})]}),(0,a.jsxs)("div",{className:"border-t-[1px] flex w-full py-2",children:[a.jsx("p",{className:"flex-1 flex justify-start font-medium",children:"Kh\xe1ch h\xe0ng"}),a.jsx("a",{className:"flex-1 flex justify-start text-blue-500",children:e&&t.find(t=>t.info_id===e?.customer)?.name_company})]}),(0,a.jsxs)("div",{className:"border-t-[1px] flex w-full py-2",children:[a.jsx("p",{className:"flex-1 flex justify-start font-medium",children:"Chi ph\xed HĐ"}),(0,a.jsxs)("p",{className:"flex-1 flex justify-start",children:[(e?.price??0).toLocaleString("vi-VN"),"đ"]})]}),(0,a.jsxs)("div",{className:"border-t-[1px] flex w-full py-2",children:[a.jsx("p",{className:"flex-1 flex justify-start font-medium",children:"T\xecnh trạng"}),a.jsx("p",{className:"flex-1 flex justify-start",children:e?.status==="delete"?"Đ\xe3 x\xf3a":e?.status==="active"?"Hoạt động":e?.status==="hide"?"Ẩn":"Ho\xe0n th\xe0nh"})]}),(0,a.jsxs)("div",{className:"border-t-[1px] flex w-full py-2",children:[a.jsx("p",{className:"flex-1 flex justify-start font-medium",children:"Ng\xe0y tạo"}),a.jsx("p",{className:"flex-1 flex justify-start",children:f()(e?.created_at).format("DD/MM/YYYY")})]}),(0,a.jsxs)("div",{className:"border-t-[1px] flex w-full py-2",children:[a.jsx("p",{className:"flex-1 flex justify-start font-medium",children:"Ng\xe0y bắt đầu"}),a.jsx("p",{className:"flex-1 flex justify-start",children:f()(e?.date_start).format("DD/MM/YYYY")})]}),(0,a.jsxs)("div",{className:"border-t-[1px] flex w-full py-2",children:[a.jsx("p",{className:"flex-1 flex justify-start font-medium",children:"Hạn ho\xe0n th\xe0nh"}),a.jsx("p",{className:"flex-1 flex justify-start",children:f()(e?.date_expired).format("DD/MM/YYYY")})]})]})})}s(26488),s(68967);var y=s(14076);let v=()=>{let{id:e}=(0,p.useParams)(),[t,s]=(0,i.useState)(),r=async()=>{let t=await u.Z.dashboardContract(e);200===t.statusCode&&(console.log(t.data),s(t.data))};(0,i.useEffect)(()=>{e&&r()},[e]);let l={data:[{type:"Ho\xe0n tất",value:t?.completed??0},{type:"Đang thực hiện",value:t?.process??0},{type:"Đ\xe3 hủy",value:t?.delete??0}],angleField:"value",colorField:"type",innerRadius:.6,label:!1,legend:{color:{title:!1,position:"right",rowPadding:5}},annotations:[{type:"text",style:{text:`${(t?.completed??0)/(t?.total??1)*100}%`,x:"50%",y:"50%",textAlign:"center",fontSize:15,fontStyle:"bold"}}]};return a.jsx(a.Fragment,{children:t&&a.jsx(y.Z,{...l})})};var N=s(24989);function b(){let e=(0,p.useRouter)(),t=(0,i.useRef)(),[s,d]=(0,i.useState)(),[o,x]=(0,i.useState)(),{id:u}=(0,p.useParams)(),m=[{label:"Chi tiết hợp đồng",key:"detail",children:a.jsx(g,{data:o})},{label:"Hoạt động",key:"ac",children:(0,a.jsxs)("div",{className:"flex flex-col",children:[a.jsx("div",{className:"py-4",children:a.jsx(r.ZP,{className:"text-xs",icon:a.jsx(c.gyF,{}),onClick:()=>{t.current?.click()},children:"Th\xeam hoạt động"})}),a.jsx("div",{children:a.jsx(h,{})})]})}];return(0,a.jsxs)("div",{className:"flex flex-col w-full",children:[a.jsx("div",{className:"p-1",children:a.jsx(r.ZP,{type:"link",icon:a.jsx(n.Eg1,{}),onClick:()=>{e.back()},children:"Quay lại"})}),a.jsx("div",{className:"text-xl border-y-[1px] p-6",children:a.jsx("p",{children:"hoạt động đang theo d\xf5i"})}),(0,a.jsxs)("div",{className:"p-6",children:[a.jsx("p",{className:"font-semibold",children:"Tổng quan"}),(0,a.jsxs)("p",{className:"text-sm text-gray-400",children:["Hợp đồng ",o?.name_contract]}),(0,a.jsxs)("div",{className:"flex py-2 gap-2 items-center flex-wrap",children:[a.jsx("div",{className:"flex-1 max-w-96 shadow-2xl shadow-blue-500/20 rounded-md",children:a.jsx("div",{className:"h-32",children:a.jsx(v,{})})}),(0,a.jsxs)("div",{className:"flex gap-2 h-32 flex-1 justify-around shadow-[rgba(7,_65,_210,_0.1)_0px_9px_30px] rounded-md flex-wrap min-h-fit",children:[(0,a.jsxs)("div",{className:"flex flex-col gap-1 items-center justify-center p-2 min-w-fit",children:[a.jsx("p",{children:"Số hoạt động"}),a.jsx("p",{className:"font-semibold text-2xl",children:s?.total??0}),a.jsx("p",{children:"100% hoạt động"})]}),(0,a.jsxs)("div",{className:"flex flex-col gap-1 items-center justify-center p-2 min-w-fit",children:[a.jsx("p",{children:"HĐ xong"}),a.jsx("p",{className:"font-semibold text-2xl",children:s?.completed??0}),(0,a.jsxs)("p",{children:[(s?.completed??0)*100/(s?.total??1),"% hoạt động"]})]}),(0,a.jsxs)("div",{className:"flex flex-col gap-1 items-center justify-center p-2 min-w-fit",children:[a.jsx("p",{children:"HĐ đang thực hiện"}),a.jsx("p",{className:"font-semibold text-2xl",children:s?.process??0}),(0,a.jsxs)("p",{children:[(s?.process??0)*100/(s?.total??1),"% hoạt động"]})]}),(0,a.jsxs)("div",{className:"flex flex-col gap-1 items-center justify-center p-2 min-w-fit",children:[a.jsx("p",{children:"HĐ hủy"}),a.jsx("p",{className:"font-semibold text-2xl",children:s?.delete??0}),(0,a.jsxs)("p",{children:[(s?.delete??0)*100/(s?.total??1),"% hoạt động"]})]})]})]}),a.jsx("div",{children:a.jsx(l.Z,{className:"w-full custom-tabs",items:m,tabPosition:"top"})})]}),a.jsx(N.Z,{refBtnActivity:t})]})}function w(){return(0,j.I0)(),a.jsx(a.Fragment,{children:a.jsx(b,{})})}s(80046),s(84169)},87366:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});let a=(0,s(45347).createProxy)(String.raw`E:\riot\sparking\sp_1\src\app\detail\contract\[id]\page.tsx#default`)},28204:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>l}),s(72051);var a=s(54564);let r={size:{width:32,height:32},contentType:"image/png"};async function l(e){let{__metadata_id__:t,...s}=e.params,l=(0,a.fillMetadataSegment)(".",s,"icon"),{generateImageMetadata:i}=r;function n(e,t){let s={alt:e.alt,type:e.contentType||"image/png",url:l+(t?"/"+t:"")+"?4a97cfd375538d02"},{size:a}=e;return a&&(s.sizes=a.width+"x"+a.height),s}return i?(await i({params:s})).map((e,t)=>{let s=(e.id||t)+"";return n(e,s)}):[n(r,"")]}},4184:()=>{},26488:()=>{},40768:(e,t,s)=>{"use strict";s.d(t,{f:()=>n});var a=s(28964),r=s(22251),l=s(97247),i=a.forwardRef((e,t)=>(0,l.jsx)(r.WV.label,{...e,ref:t,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(e.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));i.displayName="Label";var n=i}};var t=require("../../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[9379,4671,4564,2703,2602,5090,5791,5794,2754,7132,5479,4523,8984,9081,8188,1290,7233,8575,4989,1535],()=>s(7182));module.exports=a})();