(()=>{var e={};e.id=4981,e.ids=[4981],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},27790:e=>{"use strict";e.exports=require("assert")},17702:e=>{"use strict";e.exports=require("events")},92048:e=>{"use strict";e.exports=require("fs")},32615:e=>{"use strict";e.exports=require("http")},35240:e=>{"use strict";e.exports=require("https")},19801:e=>{"use strict";e.exports=require("os")},55315:e=>{"use strict";e.exports=require("path")},68621:e=>{"use strict";e.exports=require("punycode")},76162:e=>{"use strict";e.exports=require("stream")},74175:e=>{"use strict";e.exports=require("tty")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},6162:e=>{"use strict";e.exports=require("worker_threads")},71568:e=>{"use strict";e.exports=require("zlib")},47275:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GlobalError:()=>l.a,__next_app__:()=>u,originalPathname:()=>m,pages:()=>d,routeModule:()=>x,tree:()=>o}),a(71284),a(39766),a(20230),a(49356),a(90996);var r=a(30170),s=a(45002),n=a(83876),l=a.n(n),i=a(66299),c={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>i[e]);a.d(t,c);let o=["",{children:["management",{children:["detail_work",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,71284)),"E:\\riot\\sparking\\sp_1\\src\\app\\management\\detail_work\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,39766)),"E:\\riot\\sparking\\sp_1\\src\\app\\management\\layout.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(a.bind(a,28204))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(a.bind(a,20230)),"E:\\riot\\sparking\\sp_1\\src\\app\\layout.tsx"],error:[()=>Promise.resolve().then(a.bind(a,49356)),"E:\\riot\\sparking\\sp_1\\src\\app\\error.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,90996,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(a.bind(a,28204))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],d=["E:\\riot\\sparking\\sp_1\\src\\app\\management\\detail_work\\page.tsx"],m="/management/detail_work/page",u={require:a,loadChunk:()=>Promise.resolve()},x=new r.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/management/detail_work/page",pathname:"/management/detail_work",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},78487:(e,t,a)=>{Promise.resolve().then(a.bind(a,47344))},7427:(e,t,a)=>{Promise.resolve().then(a.bind(a,42734))},87763:(e,t,a)=>{"use strict";a.d(t,{Z:()=>i});var r=a(79488),s=a(28964);let n={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2L263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z"}}]},name:"copy",theme:"outlined"};var l=a(11017);let i=s.forwardRef(function(e,t){return s.createElement(l.Z,(0,r.Z)({},e,{ref:t,icon:n}))})},24427:(e,t,a)=>{"use strict";a.d(t,{Z:()=>i});var r=a(79488),s=a(28964);let n={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M257.7 752c2 0 4-.2 6-.5L431.9 722c2-.4 3.9-1.3 5.3-2.8l423.9-423.9a9.96 9.96 0 000-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2a33.5 33.5 0 009.4 29.8c6.6 6.4 14.9 9.9 23.8 9.9zm67.4-174.4L687.8 215l73.3 73.3-362.7 362.6-88.9 15.7 15.6-89zM880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32z"}}]},name:"edit",theme:"outlined"};var l=a(11017);let i=s.forwardRef(function(e,t){return s.createElement(l.Z,(0,r.Z)({},e,{ref:t,icon:n}))})},66460:(e,t,a)=>{"use strict";a.d(t,{Z:()=>i});var r=a(79488),s=a(28964);let n={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M864 170h-60c-4.4 0-8 3.6-8 8v518H310v-73c0-6.7-7.8-10.5-13-6.3l-141.9 112a8 8 0 000 12.6l141.9 112c5.3 4.2 13 .4 13-6.3v-75h498c35.3 0 64-28.7 64-64V178c0-4.4-3.6-8-8-8z"}}]},name:"enter",theme:"outlined"};var l=a(11017);let i=s.forwardRef(function(e,t){return s.createElement(l.Z,(0,r.Z)({},e,{ref:t,icon:n}))})},472:(e,t,a)=>{"use strict";var r=a(47116),s={"text/plain":"Text","text/html":"Url",default:"Text"};e.exports=function(e,t){var a,n,l,i,c,o,d,m,u=!1;t||(t={}),l=t.debug||!1;try{if(c=r(),o=document.createRange(),d=document.getSelection(),(m=document.createElement("span")).textContent=e,m.ariaHidden="true",m.style.all="unset",m.style.position="fixed",m.style.top=0,m.style.clip="rect(0, 0, 0, 0)",m.style.whiteSpace="pre",m.style.webkitUserSelect="text",m.style.MozUserSelect="text",m.style.msUserSelect="text",m.style.userSelect="text",m.addEventListener("copy",function(a){if(a.stopPropagation(),t.format){if(a.preventDefault(),void 0===a.clipboardData){l&&console.warn("unable to use e.clipboardData"),l&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var r=s[t.format]||s.default;window.clipboardData.setData(r,e)}else a.clipboardData.clearData(),a.clipboardData.setData(t.format,e)}t.onCopy&&(a.preventDefault(),t.onCopy(a.clipboardData))}),document.body.appendChild(m),o.selectNodeContents(m),d.addRange(o),!document.execCommand("copy"))throw Error("copy command was unsuccessful");u=!0}catch(r){l&&console.error("unable to copy using execCommand: ",r),l&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(t.format||"text",e),t.onCopy&&t.onCopy(window.clipboardData),u=!0}catch(r){l&&console.error("unable to copy using clipboardData: ",r),l&&console.error("falling back to prompt"),a="message"in t?t.message:"Copy to clipboard: #{key}, Enter",n=(/mac os x/i.test(navigator.userAgent)?"⌘":"Ctrl")+"+C",i=a.replace(/#{\s*key\s*}/g,n),window.prompt(i,e)}}finally{d&&("function"==typeof d.removeRange?d.removeRange(o):d.removeAllRanges()),m&&document.body.removeChild(m),c()}return u}},47116:e=>{e.exports=function(){var e=document.getSelection();if(!e.rangeCount)return function(){};for(var t=document.activeElement,a=[],r=0;r<e.rangeCount;r++)a.push(e.getRangeAt(r));switch(t.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":t.blur();break;default:t=null}return e.removeAllRanges(),function(){"Caret"===e.type&&e.removeAllRanges(),e.rangeCount||a.forEach(function(t){e.addRange(t)}),t&&t.focus()}}},47344:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>eF});var r=a(97247),s=a(40947),n=a(77951),l=a(82140),i=a(28964),c=a(53211),o=a(54019),d=a(31464),m=a(92177),u=a(88192),x=a(74375),h=a(34178),p=a(15001),f=a.n(p),g=a(17467),j=a(76362),y=a(20256),v=a(42205),b=a(77558),w=a(84411),N=a(66353),k=a(42572),S=a(23202),Z=a(16202),C=a(58150),_=a(19705);let P=(e,t)=>new _.C(e).setAlpha(t).toRgbString(),T=(e,t)=>new _.C(e).lighten(t).toHexString(),O=e=>{let t=(0,Z.generate)(e,{theme:"dark"});return{1:t[0],2:t[1],3:t[2],4:t[3],5:t[6],6:t[5],7:t[4],8:t[6],9:t[5],10:t[4]}},E=(e,t)=>{let a=e||"#000",r=t||"#fff";return{colorBgBase:a,colorTextBase:r,colorText:P(r,.85),colorTextSecondary:P(r,.65),colorTextTertiary:P(r,.45),colorTextQuaternary:P(r,.25),colorFill:P(r,.18),colorFillSecondary:P(r,.12),colorFillTertiary:P(r,.08),colorFillQuaternary:P(r,.04),colorBgSolid:P(r,.95),colorBgSolidHover:P(r,1),colorBgSolidActive:P(r,.9),colorBgElevated:T(a,12),colorBgContainer:T(a,8),colorBgLayout:T(a,0),colorBgSpotlight:T(a,26),colorBgBlur:P(r,.04),colorBorder:T(a,26),colorBorderSecondary:T(a,19)}},B={defaultSeed:N.u_.token,useToken:function(){let[e,t,a]=(0,w.ZP)();return{theme:e,token:t,hashId:a}},defaultAlgorithm:y.Z,darkAlgorithm:(e,t)=>{let a=Object.keys(v.M).map(t=>{let a=(0,Z.generate)(e[t],{theme:"dark"});return Array(10).fill(1).reduce((e,r,s)=>(e[`${t}-${s+1}`]=a[s],e[`${t}${s+1}`]=a[s],e),{})}).reduce((e,t)=>e=Object.assign(Object.assign({},e),t),{});return Object.assign(Object.assign(Object.assign({},null!=t?t:(0,y.Z)(e)),a),(0,C.Z)(e,{generateColorPalettes:O,generateNeutralColorPalettes:E}))},compactAlgorithm:(e,t)=>{let a=null!=t?t:(0,y.Z)(e),r=a.fontSizeSM,s=a.controlHeight-4;return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},a),function(e){let{sizeUnit:t,sizeStep:a}=e,r=a-2;return{sizeXXL:t*(r+10),sizeXL:t*(r+6),sizeLG:t*(r+2),sizeMD:t*(r+2),sizeMS:t*(r+1),size:t*r,sizeSM:t*r,sizeXS:t*(r-1),sizeXXS:t*(r-1)}}(null!=t?t:e)),(0,S.Z)(r)),{controlHeight:s}),(0,k.Z)(Object.assign(Object.assign({},a),{controlHeight:s})))},getDesignToken:e=>{let t=(null==e?void 0:e.algorithm)?(0,j.createTheme)(e.algorithm):(0,j.createTheme)(y.Z),a=Object.assign(Object.assign({},v.Z),null==e?void 0:e.token);return(0,j.getComputedToken)(a,{override:null==e?void 0:e.token},t,b.Z)},defaultConfig:N.u_,_internalContext:N.Mj};var F=a(66159);function D(e){return(D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function I(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,r)}return a}function q(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?I(Object(a),!0).forEach(function(t){A(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):I(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function A(e,t,a){var r;return(r=function(e,t){if("object"!=D(e)||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,t||"default");if("object"!=D(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==D(r)?r:String(r))in e)?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var R=function(e){var t=e.componentCls,a=e.colorBgContainer,r=e.fontSize,s=e.fontSizeSM,n=e.padding,l=e.paddingXS,i=e.marginSM,c=e.marginXXS,o=e.controlHeight,d=e.lineHeightSM,m=e.colorText,u=e.colorTextSecondary,x=e.colorTextTertiary,h=e.motionDurationSlow;return A({},t,q(q({},(0,F.Wf)(e)),{},A(A(A(A(A({position:"relative",backgroundColor:a},"".concat(t,"-inner"),{display:"flex",paddingBlock:n}),"".concat(t,"-avatar"),{position:"relative",flexShrink:0,marginInlineEnd:i,cursor:"pointer",img:{width:o,height:o,borderRadius:"50%"}}),"".concat(t,"-content"),{position:"relative",flex:"auto",minWidth:0,wordWrap:"break-word","&-author":{display:"flex",flexWrap:"wrap",justifyContent:"flex-start",marginBottom:c,"& > a, & > span":{paddingInlineEnd:l,fontSize:s,lineHeight:d},"&-name":{color:u,fontSize:r,transition:"color ".concat(h),"> *":{color:u,"&:hover":{color:u}}},"&-time":{color:x,whiteSpace:"nowrap",cursor:"auto"}},"&-detail p":{whiteSpace:"pre-wrap",marginBlock:0}}),"".concat(t,"-actions"),{marginTop:i,marginBottom:0,paddingInlineStart:0,"> li":{display:"inline-block",color:u,"> span":{marginInlineEnd:i,color:u,fontSize:s,cursor:"pointer",transition:"color ".concat(h),userSelect:"none","&:hover":{color:m}}}}),"".concat(t,"-nested"),{marginInlineStart:44})))};function W(e){return(W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var L=["actions","author","avatar","children","className","content","prefixCls","datetime"];function $(){return($=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}function z(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=Array(t);a<t;a++)r[a]=e[a];return r}var M=g.ZP.ConfigContext;let U=function(e){var t,a,r,s,n,l,c,o,d,m,u=e.actions,x=e.author,h=e.avatar,p=e.children,y=e.className,v=e.content,b=e.prefixCls,w=e.datetime,N=function(e,t){if(null==e)return{};var a,r,s=function(e,t){if(null==e)return{};var a,r,s={},n=Object.keys(e);for(r=0;r<n.length;r++)a=n[r],t.indexOf(a)>=0||(s[a]=e[a]);return s}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(r=0;r<n.length;r++)a=n[r],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}(e,L),k=i.useContext(M),S=k.getPrefixCls,Z=k.direction,C=S("comment",b),_=function(e){if(Array.isArray(e))return e}((r=(a=B.useToken()).theme,s=a.token,n=a.hashId,l=i.useContext(g.ZP.ConfigContext).iconPrefixCls,c=[(0,j.useStyleRegister)({theme:r,token:s,hashId:n,path:["compatible","Comment",C,l]},function(){return[R(q({componentCls:".".concat(C)},s))]}),n]))||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var r,s,n,l,i=[],c=!0,o=!1;try{for(n=(a=a.call(e)).next;!(c=(r=n.call(a)).done)&&(i.push(r.value),2!==i.length);c=!0);}catch(e){o=!0,s=e}finally{try{if(!c&&null!=a.return&&(l=a.return(),Object(l)!==l))return}finally{if(o)throw s}}return i}}(c,2)||function(e,t){if(e){if("string"==typeof e)return z(e,2);var a=Object.prototype.toString.call(e).slice(8,-1);if("Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return z(e,2)}}(c,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),P=_[0],T=_[1],O=h?i.createElement("div",{className:"".concat(C,"-avatar")},"string"==typeof h?i.createElement("img",{src:h,alt:"comment-avatar"}):h):null,E=u&&u.length?i.createElement("ul",{className:"".concat(C,"-actions")},u.map(function(e,t){return i.createElement("li",{key:"action-".concat(t)},e)})):null,F=(x||w)&&i.createElement("div",{className:"".concat(C,"-content-author")},x&&i.createElement("span",{className:"".concat(C,"-content-author-name")},x),w&&i.createElement("span",{className:"".concat(C,"-content-author-time")},w)),D=i.createElement("div",{className:"".concat(C,"-content")},F,i.createElement("div",{className:"".concat(C,"-content-detail")},v),E),I=f()(C,(o={},d="".concat(C,"-rtl"),m="rtl"===Z,(t=function(e,t){if("object"!=W(e)||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,t||"default");if("object"!=W(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(d,"string"),(d="symbol"==W(t)?t:String(t))in o)?Object.defineProperty(o,d,{value:m,enumerable:!0,configurable:!0,writable:!0}):o[d]=m,o),y,T);return P(i.createElement("div",$({},N,{className:I}),i.createElement("div",{className:"".concat(C,"-inner")},O,D),p?i.createElement("div",{className:f()("".concat(C,"-nested"))},p):null))};var H=a(48765),V=a(1880),G=a(23102),X=a(99539);let{TextArea:K}=V.default;function J(){let{datas:e}=(0,G.v9)(e=>e.get_profile),{postdata:t}=(0,X.Z)(),[a,s]=(0,i.useState)(""),[l,c]=(0,i.useState)(!1),[o,p]=(0,i.useState)([]),f=(0,h.useSearchParams)(),g=async()=>{let e=await u.Z.getComments(f.get("id")??"");200===e.statusCode&&p(e.data)},j=async()=>{c(!0);let e=await t(()=>u.Z.createComment({description:a,work:f.get("id")??""}));e&&(c(!1),201===e&&g())};return(0,r.jsxs)("div",{className:"flex flex-col px-4",children:[r.jsx(U,{avatar:r.jsx(d.C,{src:e?.picture_url,alt:`${e?.first_name} ${e?.last_name}`}),content:(0,r.jsxs)(r.Fragment,{children:[r.jsx(H.l0.Item,{children:r.jsx(K,{onChange:e=>{s(e.target.value)},value:a,rows:4})}),r.jsx(H.l0.Item,{children:r.jsx(n.ZP,{htmlType:"submit",loading:l,onClick:j,type:"primary",children:"Gửi"})})]})}),r.jsx(x.Z,{pagination:{position:"bottom",align:"center"},header:`${o.length} b\xecnh luận`,dataSource:o,renderItem:e=>r.jsx("li",{children:r.jsx(U,{author:(0,r.jsxs)("a",{children:[e.user_create?.first_name," ",e.user_create?.last_name]}),avatar:r.jsx(d.C,{src:e.user_create?.picture_url,alt:`${e.user_create?.first_name} ${e.user_create?.last_name}`}),content:r.jsx("p",{children:e.description}),datetime:r.jsx(m.Z,{title:new Date(e?.created_at??"")?.toLocaleString("vi-VN",{timeZone:"UTC",hour12:!1}),children:r.jsx("span",{children:new Date(e?.created_at??"")?.toLocaleString("vi-VN",{timeZone:"UTC",hour12:!1})})})})})})]})}function Q({dataSource:e}){return r.jsx(r.Fragment,{children:(0,r.jsxs)("div",{className:"flex flex-col gap-8",children:[(0,r.jsxs)("div",{children:[r.jsx("p",{className:"p-4 bg-gray-100",children:"Th\xf4ng tin chung"}),(0,r.jsxs)("div",{className:"flex flex-wrap gap-x-16 gap-y-6 p-4",children:[(0,r.jsxs)("div",{className:"flex max-w-md flex-1 min-w-96 justify-between",children:[r.jsx("p",{className:"font-base text-gray-400",children:"T\xean c\xf4ng việc"}),r.jsx("p",{className:"font-medium",children:e?.name})]}),(0,r.jsxs)("div",{className:"flex max-w-md flex-1 min-w-96 justify-between",children:[r.jsx("p",{className:"font-base text-gray-400",children:"Trạng th\xe1i"}),r.jsx("p",{className:"font-medium",children:e?.status?.name})]}),(0,r.jsxs)("div",{className:"flex max-w-md flex-1 min-w-96 justify-between",children:[r.jsx("p",{className:"font-base text-gray-400",children:"Tiến độ"}),r.jsx("div",{className:"w-56",children:e?.tasks?.length&&e.tasks.length>0?r.jsx(o.Z,{percent:(e.tasks?.filter(e=>"success"===e.status).length??0)/(e.tasks?.length??1)*100}):r.jsx(o.Z,{percent:100})})]}),(0,r.jsxs)("div",{className:"flex max-w-md flex-1 min-w-96 justify-between",children:[r.jsx("p",{className:"font-base text-gray-400",children:"Thời gian dự kiến"}),r.jsx("p",{className:"font-medium",children:new Date(e?.time_end??"").toLocaleDateString("vi-vn")})]}),(0,r.jsxs)("div",{className:"flex max-w-md flex-1 min-w-96 justify-between",children:[r.jsx("p",{className:"font-base text-gray-400",children:"Người giao việc"}),(0,r.jsxs)("p",{className:"font-medium",children:[e?.user_create?.first_name," ",e?.user_create?.last_name]})]}),(0,r.jsxs)("div",{className:"flex max-w-md flex-1 min-w-96 justify-between",children:[r.jsx("p",{className:"font-base text-gray-400 min-w-fit",children:"Người thực hiện"}),r.jsx("div",{className:"flex gap-1 w-full items-center font-medium justify-end",children:r.jsx(d.C.Group,{max:{count:5,style:{color:"#f56a00",backgroundColor:"#fde3cf"}},children:e?.list_user?.map((e,t)=>r.jsx(m.Z,{title:e?.first_name??""+e?.last_name??"",placement:"top",children:r.jsx(d.C,{src:e?.picture_url,alt:e?.first_name??""+e?.last_name??"",style:{backgroundColor:"#87d068"}})},t))})})]}),(0,r.jsxs)("div",{className:"flex max-w-md flex-1 min-w-96 justify-between",children:[r.jsx("p",{className:"font-base text-gray-400",children:"Ưu ti\xean"}),r.jsx("p",{className:"font-medium",children:e?.urgent?"L\xe0m gấp":"B\xecnh thường"})]}),(0,r.jsxs)("div",{className:"flex max-w-md flex-1 min-w-96 justify-between",children:[r.jsx("p",{className:"font-base text-gray-400",children:"Loại c\xf4ng việc"}),r.jsx("p",{className:"font-medium",children:e?.type?.name})]}),(0,r.jsxs)("div",{className:"flex max-w-md flex-1 min-w-96 justify-between flex-col",children:[r.jsx("p",{className:"font-base text-gray-400",children:"M\xf4 tả"}),r.jsx("p",{className:"font-medium break-words text-wrap",children:e?.description})]})]})]}),(0,r.jsxs)("div",{children:[r.jsx("p",{className:"p-4",children:"Thảo luận"}),r.jsx("div",{children:r.jsx(J,{})})]})]})})}var Y=a(77660),ee=a(48738),et=a(88506),ea=a(77709),er=a(38043),es=a(61410),en=a(12927),el=a(69160),ei=a(75142),ec=a(6665),eo=a(98065);let{Dragger:ed}=et.default;function em({refBtnFolder:e,id:t,resetData:a}){let[s,c]=(0,i.useState)([]),[o]=(0,el.Z)(),{postdata:d}=(0,X.Z)(),[m,x]=(0,i.useState)(!1),h=async e=>{let r=s.map(e=>e.originFileObj),n={...e,url:r,files:s.map(e=>({name:e.name})),work:t},l=(0,ee.Z)(n);try{let e=await d(()=>u.Z.createFolder(l));201===e&&(o.resetFields(),x(!1),a())}catch(e){console.error("Error creating product:",e)}},p=async()=>{o.submit()};return(0,r.jsxs)(r.Fragment,{children:[r.jsx(n.ZP,{hidden:!!e,icon:r.jsx(eo.b0B,{}),onClick:()=>{x(!0)},ref:e,children:"Th\xeam folder"}),(0,r.jsxs)(es.Z,{title:"Tạo folder",open:m,onCancel:()=>{x(!1)},footer:null,width:"100%",style:{maxWidth:"800px"},children:[r.jsx(l.Z,{defaultActiveKey:"1",style:{width:"100%"},type:"line",children:r.jsx(ei.Z,{tab:"Th\xf4ng tin folder",children:(0,r.jsxs)(en.Z,{layout:"vertical",form:o,onFinish:h,style:{display:"flex",flexWrap:"wrap",columnGap:"12px"},children:[r.jsx(en.Z.Item,{name:"name",label:"T\xean folder",rules:[{required:!0,type:"string",message:"Vui l\xf2ng nhập t\xean folder"}],style:{minWidth:"100%",flex:"1 1 0%"},children:r.jsx(V.default,{})}),r.jsx(en.Z.Item,{name:"description",label:"M\xf4 tả",style:{width:"100%"},children:r.jsx(V.default.TextArea,{placeholder:"M\xf4 tả",autoSize:{minRows:3}})}),r.jsx(en.Z.Item,{name:"files",label:"Th\xeam file",style:{minWidth:"100%",flex:"1 1 0%"},children:(0,r.jsxs)(ed,{name:"file",multiple:!0,onChange(e){let{status:t}=e.file;"uploading"!==t&&c(e.fileList)},onDrop(){},children:[r.jsx("p",{className:"ant-upload-drag-icon",children:r.jsx(ec.Z,{})}),r.jsx("p",{className:"ant-upload-text",children:"Click or drag file to this area to upload"}),r.jsx("p",{className:"ant-upload-hint",children:"Support for a single or bulk upload. Strictly prohibited from uploading company data or other banned files."})]})})]})},1)}),r.jsx("div",{className:"flex justify-end w-full mt-4",children:r.jsx(n.ZP,{type:"primary",onClick:p,children:"Tạo"})})]})]})}let{Dragger:eu}=et.default;function ex({refBtnFile:e,id:t,resetData:a}){let[s,c]=(0,i.useState)([]),[o]=(0,el.Z)(),{postdata:d}=(0,X.Z)(),[m,x]=(0,i.useState)(!1),h=async()=>{let e={url:s.map(e=>e.originFileObj),files:s.map(e=>({name:e.name})),folder:t},r=(0,ee.Z)(e);try{let e=await d(()=>u.Z.createFile(r));201===e&&(o.resetFields(),x(!1),a())}catch(e){console.error("Error creating product:",e)}},p=async()=>{o.submit()};return(0,r.jsxs)(r.Fragment,{children:[r.jsx(n.ZP,{hidden:!!e,icon:r.jsx(eo.b0B,{}),onClick:()=>{x(!0)},ref:e,children:"Th\xeam file"}),(0,r.jsxs)(es.Z,{title:"Th\xeam file",open:m,onCancel:()=>{x(!1)},footer:null,width:"100%",style:{maxWidth:"800px"},children:[r.jsx(l.Z,{defaultActiveKey:"1",style:{width:"100%"},type:"line",children:r.jsx(ei.Z,{tab:"Th\xf4ng tin file",children:r.jsx(en.Z,{layout:"vertical",form:o,onFinish:h,style:{display:"flex",flexWrap:"wrap",columnGap:"12px"},children:r.jsx(en.Z.Item,{name:"files",label:"Th\xeam file",style:{minWidth:"100%",flex:"1 1 0%"},children:(0,r.jsxs)(eu,{name:"file",multiple:!0,onChange(e){let{status:t}=e.file;"uploading"!==t&&c(e.fileList)},onDrop(){},children:[r.jsx("p",{className:"ant-upload-drag-icon",children:r.jsx(ec.Z,{})}),r.jsx("p",{className:"ant-upload-text",children:"Click or drag file to this area to upload"}),r.jsx("p",{className:"ant-upload-hint",children:"Support for a single or bulk upload. Strictly prohibited from uploading company data or other banned files."})]})})})},1)}),r.jsx("div",{className:"flex justify-end w-full mt-4",children:r.jsx(n.ZP,{type:"primary",onClick:p,children:"Th\xeam"})})]})]})}function eh(){let e=(0,h.useSearchParams)(),t=(0,i.useRef)(),a=(0,i.useRef)(),[s,l]=(0,i.useState)([]),[c,o]=(0,i.useState)(""),[d,m]=(0,i.useState)([]),{postdata:x}=(0,X.Z)(),p=(e,t)=>{let a=document.createElement("a");a.href=e,a.setAttribute("download",t),document.body.appendChild(a),a.click(),a.remove()},f=(0,G.I0)(),g=async({file:t},a)=>{if(t?.url&&t?.status==="removed")200===await x(()=>u.Z.deletePictureWork(t.uid))&&j();else{let r={activity:e.get("id"),url:[t.originFileObj],type:a?"start":"end"};if(r){let e=(0,ee.Z)(r);201===await x(()=>u.Z.createPictureWork(e))&&j()}}},j=async()=>{let t=e.get("id"),a=await u.Z.getWorkById(t??"");if(200===a.statusCode){let e=a.data;m(e.folders??[]),l(e.picture_urls?.map(e=>({uid:e.picture_id,name:e.type,status:"done",url:e.url}))??[])}};return(0,r.jsxs)("div",{className:"my-2 flex flex-col gap-8",children:[(0,r.jsxs)("div",{children:[r.jsx("div",{className:"flex items-center text-xs font-medium text-[#EB8823] hover:opacity-85 cursor-pointer mb-2",children:r.jsx("p",{className:"pointer-events-none",children:"Ảnh c\xf4ng việc"})}),r.jsx("div",{className:"!m-0",style:{minWidth:"320px",flex:"1 1 0%"},children:r.jsx(et.default,{action:"",listType:"picture-card",fileList:s,onPreview:e=>{f((0,Y.BZ)(e.url))},onChange:e=>{g(e,!1)},multiple:!0})})]}),(0,r.jsxs)("div",{children:[r.jsx("div",{className:"flex items-center text-xs font-medium text-[#EB8823] hover:opacity-85 mb-2",children:(0,r.jsxs)("p",{className:"flex items-center",children:["Folder",r.jsx(n.ZP,{type:"link",onClick:()=>{t.current?.click()},children:r.jsx(er.S$f,{className:"text-2xl"})})]})}),r.jsx("div",{children:r.jsx(ea.Z,{columns:[{title:"M\xe3 folder",dataIndex:"folder_id",className:"text-xs"},{title:"T\xean folder",dataIndex:"name",className:"text-xs",render:e=>e?`${e}`:"N/A"},{title:"M\xf4 tả",dataIndex:"description",className:"text-xs",render:e=>e?`${e}`:"N/A"},{title:"Danh s\xe1ch file",dataIndex:"description",className:"text-xs",render:(e,t)=>r.jsx(r.Fragment,{children:(0,r.jsxs)("div",{className:"flex flex-col items-center",children:[t.files?.map(e=>r.jsx(r.Fragment,{children:r.jsx(n.ZP,{type:"link",onClick:()=>{p(e.url,e.name)},children:e.name},e.file_id)})),r.jsx(n.ZP,{className:"w-fit",onClick:()=>{o(t.folder_id),a.current?.click()},type:"primary",children:"Th\xeam File"})]})})}],dataSource:d,scroll:{x:"max-content"},pagination:{showTotal:(e,t)=>`${t[0]}-${t[1]} of ${e} items`},showSorterTooltip:{target:"sorter-icon"}})})]}),r.jsx(em,{resetData:j,id:e.get("id")??"",refBtnFolder:t}),r.jsx(ex,{resetData:j,id:c??"",refBtnFile:a})]})}var ep=a(52524),ef=a(53803),eg=a(16523),ej=a(32054),ey=a(39884);function ev({refBtn:e}){let[t,a]=(0,i.useState)(),[s,l]=(0,i.useState)([]),{postdata:c}=(0,X.Z)(),[o,x]=(0,i.useState)(!1),[p,f]=(0,i.useState)([]),g=(0,h.useSearchParams)(),{datas:j}=(0,G.v9)(e=>e.get_users),[y,v]=(0,i.useState)(!1),b=async()=>{let e=await u.Z.getWorkById(g.get("id")??"");200===e.statusCode&&(a(e.data),f(e.list_user?.map(e=>e.user_id)??[]))},w=async()=>{let e=await c(()=>u.Z.updateWork(g.get("id")??"",{list_users:p}));(200===e||201===e)&&(b(),x(!1))};return(0,r.jsxs)(r.Fragment,{children:[r.jsx(n.ZP,{ref:e,hidden:!!e,onClick:()=>{v(!0),b()}}),r.jsx(es.Z,{title:"Danh s\xe1ch thực hiện",open:y,onCancel:()=>{v(!1)},footer:null,width:"100%",style:{maxWidth:"600px"},children:(0,r.jsxs)("div",{className:"flex flex-col",children:[t?.list_user?.map(e=>r.jsx(r.Fragment,{children:r.jsxs("div",{className:"flex gap-2 cursor-pointer hover:bg-gray-100 p-2 rounded-sm items-center",children:[r.jsx(d.C,{src:e.picture_url}),r.jsxs("div",{className:"flex text-xs flex-col h-full justify-between",children:[r.jsxs("p",{className:"font-medium",children:[e.first_name," ",e.last_name]}),r.jsx("p",{className:"text-gray-400",children:j?.find(e=>e.user_id==e.user_id)?.group_user?.name_group})]})]})})),o?(0,r.jsxs)("div",{className:"flex items-center gap-1",children:[r.jsx(d.C.Group,{max:{count:5,style:{color:"#f56a00",backgroundColor:"#fde3cf"}},children:p?.map((e,t)=>{let a=j?.find(t=>t.user_id===e);return r.jsx(m.Z,{title:a?.first_name??""+a?.last_name??"",placement:"top",children:r.jsx(d.C,{src:a?.picture_url,alt:a?.first_name??""+a?.last_name??"",style:{backgroundColor:"#87d068"}})},t)})}),o?(0,r.jsxs)(r.Fragment,{children:[r.jsx(ey.Z,{mode:"multiple",allowClear:!0,maxTagCount:"responsive",style:{width:"220px"},value:p,placeholder:"Please select",onChange:e=>{f(e)},options:s?.map(e=>({label:r.jsx("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:r.jsxs("div",{children:[r.jsx("strong",{children:e.label}),r.jsx("div",{style:{fontSize:"12px",color:"gray"},children:e.group})]})}),value:e.value}))}),r.jsx(ef.FJM,{className:"w-6 h-6 text-green-500 cursor-pointer",onClick:e=>{w(),e.stopPropagation(),e.preventDefault()}})]}):r.jsx(er.S$f,{className:"w-8 h-8 text-[#ED8C1F] cursor-pointer",onClick:()=>{x(!o)}})]}):r.jsx(n.ZP,{icon:r.jsx(er.zUF,{className:"text-2xl"}),className:"flex gap-2 cursor-pointer hover:bg-gray-100 p-2 rounded-sm items-center",onClick:()=>{x(!0)},children:r.jsx("p",{children:"Thay đổi"})})]})})]})}var eb=a(64991);function ew({refBtn:e}){let t=(0,i.useRef)(),{postdata:a}=(0,X.Z)(),l=(0,h.useSearchParams)(),[o,d]=(0,i.useState)(!1),[m,x]=(0,i.useState)(),p=async()=>{let e=await u.Z.getWorkById(l.get("id")??"");200===e.statusCode&&x(e.data)},f=e=>r.jsx(r.Fragment,{children:(0,r.jsxs)("div",{className:"p-2 flex flex-col w-full",children:[(0,r.jsxs)("div",{className:"flex gap-2 items-center",children:[r.jsx(eg.f$3,{}),(0,r.jsxs)("p",{className:"break-words text-wrap",children:[new Date(e.time_start).toLocaleString("vi-VN",{timeZone:"UTC",hour12:!1})," - ",new Date(e.time_end).toLocaleString("vi-VN",{timeZone:"UTC",hour12:!1})]})]}),(0,r.jsxs)("div",{className:"flex gap-2 items-center",children:[r.jsx(c.kk4,{}),r.jsx("p",{className:"break-words text-wrap",children:e.description})]})]})}),g=async(e,t)=>{let r=await a(()=>u.Z.updateTask(e,{status:t}));(200===r||201===r)&&p()};return(0,r.jsxs)(r.Fragment,{children:[r.jsx(n.ZP,{ref:e,hidden:!0,onClick:()=>{d(!0)}}),r.jsx(es.Z,{title:"Danh s\xe1ch task",open:o,footer:null,onCancel:()=>{d(!1)},width:"600px",children:(0,r.jsxs)("div",{className:"flex flex-col",children:[(0,r.jsxs)("div",{className:"flex items-center gap-1",children:[r.jsx(ef.AEx,{}),r.jsx("p",{children:"Task"}),r.jsx(n.ZP,{className:"text-2xl",icon:r.jsx(er.S$f,{}),type:"link",onClick:()=>{t.current?.click()}})]}),r.jsx(H.Ex,{percent:(m?.tasks?.filter(e=>"waitting"===e.status).length??0)/(m?.tasks?.length??1)*100,success:{percent:(m?.tasks?.filter(e=>"success"===e.status).length??0)/(m?.tasks?.length??1)*100}}),r.jsx("div",{className:"flex flex-col gap-2 p-2",children:m?.tasks?.map(e=>"waitting"===e.status?r.jsx(r.Fragment,{children:r.jsx(s.Z,{title:e.name.toUpperCase(),content:f(e),trigger:"hover",children:r.jsxs("p",{className:"py-2 border-b-[1px] flex justify-between items-center",children:[e.name,r.jsxs("span",{className:"flex",children:[r.jsx(n.ZP,{icon:r.jsx(ef.FJM,{className:"text-green-400 text-2xl"}),type:"link",onClick:()=>{g(e.task_id,"success")}})," ",r.jsx(n.ZP,{icon:r.jsx(er.FMH,{className:"text-red-400  text-3xl"}),type:"link",onClick:()=>{g(e.task_id,"fail")}})," "]})]})})}):r.jsx(r.Fragment,{children:r.jsx(s.Z,{title:e.name,content:f(e),trigger:"hover",children:r.jsx("p",{className:"py-2 border-b-[1px] text-green-400",children:e.name})})}))}),r.jsx(eb.Z,{refBtnTask:t,id:l.get("id"),resetData:p})]})})]})}var eN=a(47248),ek=a(60655),eS=a(35090),eZ=a(41201),eC=a(40407);function e_({refBtn:e,handleOnclick:t}){let{postdata:a}=(0,X.Z)(),s=(0,h.useSearchParams)(),[l,c]=(0,i.useState)(!1),d=[{quality:"good",name:"Tốt"},{quality:"excellent",name:"Xuất sắc"},{quality:"satisfactory",name:"Đạt y\xeau cầu"},{quality:"fail",name:"Thất bại"},{quality:"needs_improvement",name:"Chưa đạt y\xeau cầu"}],m=[{status:"fail",name:"Thất bại"},{status:"waitting",name:"Đang thực hiện"},{status:"success",name:"Ho\xe0n th\xe0nh"}],[x,p]=(0,i.useState)({progress:5,status:"waitting"}),f=async()=>{201===await a(()=>u.Z.createReview({...x,work:s.get("id")}))&&(c(!1),t())};return(0,r.jsxs)(r.Fragment,{children:[r.jsx(n.ZP,{hidden:!!e,className:"  text-xs text-yellow-500 font-semibold",type:"text",ref:e,onClick:()=>{c(!0)}}),(0,r.jsxs)(eC.Z,{title:"Mẫu đ\xe1nh gi\xe1",open:l,onCancel:()=>{c(!1)},footer:null,width:"100%",style:{maxWidth:"800px"},children:[(0,r.jsxs)("div",{className:"flex",children:[(0,r.jsxs)("div",{className:"flex flex-col w-fit",children:[r.jsx("p",{className:"font-semibold p-2 border-[1px] min-h-14 flex items-center",children:"Ti\xeau ch\xed đ\xe1nh gi\xe1"}),r.jsx("p",{className:"p-2 border-[1px] min-h-14 flex items-center",children:"Tiến độ c\xf4ng việc"}),r.jsx("p",{className:"p-2 border-[1px] min-h-14 flex items-center",children:"Chất lượng c\xf4ng việc"}),r.jsx("p",{className:"p-2 border-[1px] min-h-14 flex items-center",children:"Thời gian ho\xe0n th\xe0nh"}),r.jsx("p",{className:"p-2 border-[1px] min-h-14 flex items-center",children:"Trạng th\xe1i"}),r.jsx("p",{className:"p-2 border-[1px] min-h-14 flex items-center",children:"\xdd kiến"})]}),(0,r.jsxs)("div",{className:"flex flex-col flex-1",children:[(0,r.jsxs)("div",{className:"flex",children:[(0,r.jsxs)("div",{className:"flex flex-col flex-1",children:[r.jsx("p",{className:"font-semibold p-2 border-[1px] min-h-14 flex items-center",children:"Người thực hiện b\xe1o c\xe1o"}),r.jsx("div",{className:"p-2 border-[1px] min-h-14 flex items-center",children:r.jsx(o.Z,{percent:x.progress})}),r.jsx("p",{className:"p-2 border-[1px] min-h-14 flex items-center",children:d.find(e=>x.quality===e.quality)?.name}),r.jsx("p",{className:"p-2 border-[1px] min-h-14 flex items-center",children:x.time_end?.toLocaleDateString("vi-VN")}),r.jsx("p",{className:"p-2 border-[1px] min-h-14 flex items-center",children:m.find(e=>x.status===e.status)?.name})]}),(0,r.jsxs)("div",{className:"flex flex-col flex-1",children:[r.jsx("p",{className:"font-semibold p-2 border-[1px] min-h-14 flex items-center",children:"Người quản l\xfd đ\xe1nh gi\xe1"}),r.jsx("div",{className:"p-2 border-[1px]  min-h-14 flex items-center",children:(0,r.jsxs)(ek.ZP.Group,{defaultValue:"5",size:"small",onChange:e=>{"100"===e.target.value&&p(e=>({...e,status:"success"})),"100"!==e.target.value&&p(e=>({...e,status:"waitting"})),p(t=>({...t,progress:Number(e.target.value)}))},children:[r.jsx(ek.ZP.Button,{value:"5",children:"5"}),r.jsx(ek.ZP.Button,{value:"10",children:"10"}),r.jsx(ek.ZP.Button,{value:"20",children:"20"}),r.jsx(ek.ZP.Button,{value:"30",children:"30"}),r.jsx(ek.ZP.Button,{value:"50",children:"50"}),r.jsx(ek.ZP.Button,{value:"70",children:"70"}),r.jsx(ek.ZP.Button,{value:"80",children:"80"}),r.jsx(ek.ZP.Button,{value:"90",children:"90"}),r.jsx(ek.ZP.Button,{value:"100",children:"100"})]})}),r.jsx("div",{className:"p-2 border-[1px] min-h-14 flex items-center",children:r.jsx(ey.Z,{placeholder:"Chọn",className:"w-full",onChange:e=>{p(t=>({...t,quality:e}))},children:d.map(e=>r.jsx(r.Fragment,{children:r.jsx(eZ.W,{value:e.quality,children:e.name},e.quality)}))})}),r.jsx("div",{className:"p-2 border-[1px] min-h-14 flex items-center",children:r.jsx(eS.default,{className:"w-full",onChange:e=>{p(t=>({...t,time_end:e?new Date(e.toString()):void 0}))}})}),r.jsx("div",{className:"p-2 border-[1px] min-h-14 flex items-center",children:r.jsx(ey.Z,{placeholder:"Chọn",className:"w-full",value:x.status,onChange:e=>{p(t=>({...t,status:e}))},children:m.map(e=>r.jsx(r.Fragment,{children:r.jsx(eZ.W,{value:e.status,children:e.name},e.status)}))})})]})]}),r.jsx("div",{className:"p-2 border-[1px] h-full flex items-center",children:r.jsx(V.default,{placeholder:"\xdd kiến đ\xe1nh gi\xe1",onChange:e=>{p(t=>({...t,description:e.target.value}))}})})]})]}),(0,r.jsxs)("div",{className:"flex w-full justify-start mt-4 gap-2",children:[r.jsx(n.ZP,{type:"primary",onClick:()=>{f()},children:"Đ\xe1nh gi\xe1"}),r.jsx(n.ZP,{children:"Hủy bỏ"})]})]})]})}var eP=a(41479);function eT({refBtn:e,dataSource:t}){let[a,s]=(0,i.useState)(!1),l=[{quality:"good",star:4},{quality:"excellent",star:5},{quality:"satisfactory",star:3},{quality:"needs_improvement",star:2},{quality:"fail",star:1}],c=[{title:"Người đ\xe1nh gi\xe1",className:"text-xs",dataIndex:"user",render:(e,t)=>r.jsx(r.Fragment,{children:r.jsx(d.C,{src:t?.user_create?.picture_url,alt:t?.user_create?.first_name??""+t?.user_create?.last_name??"",style:{backgroundColor:"#87d068"}})})},{title:"Thời gian",dataIndex:"name",className:"text-xs",render:(e,t)=>new Date(t?.created_at??"").toLocaleString("vi-VN",{timeZone:"UTC",hour12:!1})||"N/A"},{title:"Đ\xe1nh gi\xe1 tiến độ",dataIndex:"progress",className:"text-xs",render:e=>e?`${e}%`:"N/A"},{title:"Kết quả đ\xe1nh gi\xe1",dataIndex:["quality"],className:"text-xs",render:e=>{let t=l.find(t=>t.quality===e);return r.jsx(r.Fragment,{children:(0,r.jsxs)("div",{className:"flex items-center gap-1",children:[Array.from({length:t?.star??0}).map(()=>r.jsx(r.Fragment,{children:r.jsx(ef.QJe,{className:"text-yellow-500"})})),Array.from({length:5-(t?.star??0)}).map(()=>r.jsx(r.Fragment,{children:r.jsx(ef.QJe,{})})),r.jsx("p",{className:"font-semibold capitalize",children:e})]})})}},{title:"\xdd kiến đ\xe1nh gi\xe1",dataIndex:"description",className:"text-xs",render:e=>e||"N/A"},{title:"Trạng th\xe1i",dataIndex:"status",className:"text-xs",render:e=>{let t="",a="";switch(e){case"success":t="green",a="Ho\xe0n th\xe0nh";break;case"fail":t="red",a="Thất bại";break;case"waitting":t="gold",a="Đang thực hiện";break;default:t="default",a="Kh\xf4ng x\xe1c định"}return r.jsx(r.Fragment,{children:r.jsx(eP.Z,{color:t,children:a})})}},{title:"Kết th\xfac thực tế",dataIndex:"time_end",className:"text-xs",render:e=>e?new Date(e).toLocaleDateString("vi-VN"):"N/A"}];return(0,r.jsxs)(r.Fragment,{children:[r.jsx(n.ZP,{hidden:!!e,className:"  text-xs text-yellow-500 font-semibold",type:"text",ref:e,onClick:()=>{s(!0)}}),r.jsx(eC.Z,{title:"Lịch sử đ\xe1nh gi\xe1",open:a,onCancel:()=>{s(!1)},footer:null,width:"100%",style:{maxWidth:"800px"},children:r.jsx(ea.Z,{columns:c,dataSource:t,scroll:{x:"max-content"},pagination:{showTotal:(e,t)=>`${t[0]}-${t[1]} of ${e} items`},showSorterTooltip:{target:"sorter-icon"}})})]})}let eO={display:"flex",flexDirection:"column",gap:8};function eE({work:e,fetchData:t}){let{postdata:a}=(0,X.Z)();(0,h.useSearchParams)();let{datas:s}=(0,G.v9)(e=>e.get_type_work),n=async r=>{200===await a(()=>u.Z.updateWork(e?.work_id??"",{status:r.target.value}))&&t()};return r.jsx(r.Fragment,{children:r.jsx(ek.ZP.Group,{style:eO,onChange:n,value:e?.status?.status_work_id,options:s.find(t=>t.type_work_id===e?.type?.type_work_id)?.status?.map(e=>({label:e.name,value:e.status_work_id}))})})}function eB(){let[e,t]=(0,i.useState)([]),[a,o]=(0,i.useState)(),[d,m]=(0,i.useState)(!1),x=(0,h.useSearchParams)(),p=(0,i.useRef)(),f=(0,i.useRef)(),g=(0,i.useRef)(),j=(0,i.useRef)(),y=(0,i.useRef)(),v=async()=>{let e=await u.Z.getReviews(x.get("id")??""),a=await u.Z.getWorkById(x.get("id")??""),r=await u.Z.checkReview(x.get("id")??"");200===e.statusCode&&t(e.data),200===r.statusCode&&m(r.data),200===a.statusCode&&o(a.data)},b=()=>{v()},w=[{label:r.jsx("p",{className:"text-xs font-medium",children:"Chi tiết"}),key:"detail",children:r.jsx(Q,{dataSource:a})},{label:r.jsx("p",{className:"text-xs font-medium",children:"Đ\xednh k\xe8m"}),key:"attach",children:r.jsx(eh,{})}];return(0,r.jsxs)("div",{children:[r.jsx("div",{className:"flex px-4 flex-col",children:r.jsx(l.Z,{className:"w-full custom-tabs 1text-xs !font-medium",items:w,tabBarExtraContent:(0,r.jsxs)("div",{className:"flex gap-1 items-center",children:[r.jsx(s.Z,{content:r.jsx(eE,{fetchData:v,work:a}),children:(0,r.jsxs)(n.ZP,{className:"flex flex-col items-center justify-center h-16",type:"text",children:[r.jsx(c.hwI,{className:"text-xl"}),r.jsx("span",{className:"text-xs font-medium",children:"Trạng th\xe1i"})]})}),(0,r.jsxs)(n.ZP,{className:"flex flex-col items-center justify-center h-16",type:"text",onClick:()=>{p.current?.click()},children:[r.jsx(ep.i9Z,{className:"text-xl"}),r.jsx("span",{className:"text-xs font-medium",children:"Thực hiện"})]}),(0,r.jsxs)(n.ZP,{className:"flex flex-col items-center justify-center h-16",type:"text",onClick:()=>{y.current?.click()},children:[r.jsx(ef.W95,{className:"text-xl"}),r.jsx("span",{className:"text-xs font-medium",children:"Đầu việc"})]}),d?r.jsx(r.Fragment,{children:e.length>0?(0,r.jsxs)(n.ZP,{className:"flex flex-col items-center justify-center h-16",type:"text",onClick:()=>{g.current?.click()},children:[r.jsx(ef.ceS,{className:"text-xl"}),r.jsx("span",{className:"text-xs font-medium",children:"Lịch sử đ\xe1nh gi\xe1"})]}):(0,r.jsxs)(n.ZP,{className:"flex flex-col items-center justify-center h-16",type:"text",onClick:()=>{f.current?.click()},children:[r.jsx(eg.b12,{className:"text-xl"}),r.jsx("span",{className:"text-xs font-medium",children:"Đ\xe1nh gi\xe1"})]})}):r.jsx(r.Fragment,{children:e.length>0?(0,r.jsxs)(n.ZP,{className:"flex flex-col items-center justify-center h-16",type:"text",onClick:()=>{g.current?.click()},children:[r.jsx(ef.ceS,{className:"text-xl"}),r.jsx("span",{className:"text-xs font-medium",children:"Lịch sử đ\xe1nh gi\xe1"})]}):r.jsx(r.Fragment,{})}),(0,r.jsxs)(n.ZP,{className:"flex flex-col items-center justify-center h-16",type:"text",children:[r.jsx(ej.rkW,{className:"text-xl"}),r.jsx("span",{className:"text-xs font-medium",children:"B\xe1o c\xe1o"})]})]}),tabPosition:"top"})}),r.jsx(ev,{refBtn:p}),r.jsx(ew,{refBtn:y}),r.jsx(eN.Z,{refBtnWork:j}),r.jsx(e_,{refBtn:f,handleOnclick:()=>b()}),r.jsx(eT,{refBtn:g,dataSource:e})]})}function eF(){return(0,G.I0)(),r.jsx("div",{children:r.jsx(eB,{})})}a(94569),a(6493)},42734:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>h});var r=a(97247),s=a(43739),n=a(32990);a(28964);var l=a(23102),i=a(24305),c=a(38960),o=a(96180),d=a(16523),m=a(34178);let u=()=>{let e=(0,m.useRouter)(),t=(0,m.useSearchParams)(),a=(0,l.I0)(),s=(0,c.ZP)({maxWidth:639}),u=(0,l.v9)(e=>e.status_tab_menu),x=[{key:"work",label:"C\xf4ng việc",icon:r.jsx(o.irL,{}),children:[{key:"process_work",label:r.jsx("div",{className:"w-full h-full",onClick:()=>{let r=new URLSearchParams(t.toString());r.set("type","perform"),e.push(`/management/all_work?${r.toString()}`),s&&a((0,i.js)())},children:r.jsx("span",{children:"Bạn thực hiện"})})},{key:"assigned_work",label:r.jsx("div",{className:"w-full h-full",onClick:()=>{let r=new URLSearchParams(t.toString());r.set("type","assigned"),e.push(`/management/all_work?${r.toString()}`),s&&a((0,i.js)())},children:r.jsx("span",{children:"Bạn đ\xe3 giao"})})},{key:"department_work",label:r.jsx("div",{className:"w-full h-full",onClick:()=>{let r=new URLSearchParams(t.toString());r.set("type","group"),e.push(`/management/all_work?${r.toString()}`),s&&a((0,i.js)())},children:r.jsx("span",{children:"Phong ban bạn"})})},{key:"all_work",label:r.jsx("div",{className:"w-full h-full",onClick:()=>{let r=new URLSearchParams(t.toString());r.delete("type"),e.push(`/management/all_work?${r.toString()}`),s&&a((0,i.js)())},children:r.jsx("span",{children:"Tất cả"})})}]},{key:"project",label:"Dự \xe1n",icon:r.jsx(d.XJM,{}),children:[{key:"do_project",label:r.jsx("div",{className:"w-full h-full",onClick:()=>{let r=new URLSearchParams(t.toString());r.set("type_project","perform"),r.delete("type"),e.push(`/management/all_project?${r.toString()}`),s&&a((0,i.js)())},children:r.jsx("span",{children:"Bạn thực hiện"})})},{key:"management_work",label:r.jsx("div",{className:"w-full h-full",onClick:()=>{let r=new URLSearchParams(t.toString());r.set("type_project","management"),r.delete("type"),e.push(`/management/all_project?${r.toString()}`),s&&a((0,i.js)())},children:r.jsx("span",{children:"Bạn quản trị"})})},{key:"department_project",label:r.jsx("div",{className:"w-full h-full",onClick:()=>{let r=new URLSearchParams(t.toString());r.set("type_project","group"),r.delete("type"),e.push(`/management/all_project?${r.toString()}`),s&&a((0,i.js)())},children:r.jsx("span",{children:"Ph\xf2ng ban bạn"})})},{key:"all_project",label:r.jsx("div",{className:"w-full h-full",onClick:()=>{let r=new URLSearchParams(t.toString());r.delete("type_project"),r.delete("type"),e.push(`/management/all_project?${r.toString()}`),s&&a((0,i.js)())},children:r.jsx("span",{children:"Tất cả"})})}]}];return r.jsx("div",{className:`transition-all bg-[#1A2A36] max-h-full fixed bottom-0 left-0 top-16 overflow-y-auto py-4 ${u.isOpen?"sm:w-52 w-full":"w-0 "}`,children:r.jsx(n.Z,{defaultValue:"all_project",className:"bg-[#1A2A36] !text-white",style:{width:"100%"},theme:"dark",color:"white",defaultSelectedKeys:["1"],defaultOpenKeys:["sub1"],mode:"inline",items:x})})};a(80046),a(94569),a(84169),a(2987),a(50678),a(1625),a(83682),a(64749);var x=a(67552);function h({children:e}){(0,x.Z)(["admin-top"]);let t=(0,l.v9)(e=>e.status_tab_menu);(0,m.useRouter)();let{datas:a,loading:n}=(0,l.v9)(e=>e.get_profile);return(0,l.I0)(),r.jsx(r.Fragment,{children:(0,r.jsxs)("div",{className:"flex flex-col h-full",children:[r.jsx(s.Z,{}),a&&r.jsx(r.Fragment,{children:(0,r.jsxs)("div",{className:" flex flex-1 overflow-y-hidden overflow-x-auto min-h-fit",children:[r.jsx("div",{className:`h-full sm:relative inset-x-0 absolute z-40 transition-all   ${t.isOpen?"sm:min-w-52":"w-0 "}`,children:r.jsx(u,{})}),r.jsx("div",{className:` transition-all flex-1 overflow-y-scroll sm:w-auto w-screen  ${(t.isOpen,"")}`,children:e})]})})]})})}},64991:(e,t,a)=>{"use strict";a.d(t,{Z:()=>j});var r=a(97247),s=a(99539),n=a(88192),l=a(77951),i=a(61410),c=a(82140),o=a(12927),d=a(1880),m=a(39884),u=a(35090),x=a(69160),h=a(41201),p=a(75142),f=a(28964),g=a(98065);function j({refBtnTask:e,id:t,resetData:a}){let[j]=(0,x.Z)(),{postdata:y}=(0,s.Z)(),[v,b]=(0,f.useState)(!1),w=async e=>{let r=await y(()=>n.Z.createTask({...e,work:t}));(200===r||201===r)&&(a(),b(!1))},N=async()=>{j.submit()};return(0,r.jsxs)(r.Fragment,{children:[r.jsx(l.ZP,{hidden:!!e,icon:r.jsx(g.b0B,{}),onClick:()=>{b(!0)},ref:e,children:"Th\xeam task"}),(0,r.jsxs)(i.Z,{title:"Tạo task",open:v,onCancel:()=>{b(!1)},footer:null,width:"100%",style:{maxWidth:"800px"},children:[r.jsx(c.Z,{defaultActiveKey:"1",style:{width:"100%"},type:"line",children:r.jsx(p.Z,{tab:"Th\xf4ng tin task",children:(0,r.jsxs)(o.Z,{layout:"vertical",form:j,onFinish:w,style:{display:"flex",flexWrap:"wrap",columnGap:"12px"},children:[r.jsx(o.Z.Item,{name:"name",label:"T\xean task",rules:[{required:!0,type:"string",message:"Vui l\xf2ng nhập t\xean c\xf4ng việc"}],style:{minWidth:"100%",flex:"1 1 0%"},children:r.jsx(d.default,{})}),r.jsx(o.Z.Item,{name:"status",label:"Trạng th\xe1i",style:{minWidth:"240px",flex:"1 1 0%"},children:(0,r.jsxs)(m.Z,{placeholder:"Chọn trạng th\xe1i",showSearch:!0,filterOption:(e,t)=>(Array.isArray(t?.children)?t.children.join(""):t?.children??"").toLowerCase().includes(e.toLowerCase()),children:[r.jsx(h.W,{value:"waitting",children:"Đang thực hiện"},"1"),r.jsx(h.W,{value:"success",children:"Th\xe0nh c\xf4ng"},"2"),r.jsx(h.W,{value:"fail",children:"Thất bại"},"3")]})}),r.jsx(o.Z.Item,{name:"description",label:"M\xf4 tả",style:{width:"100%"},children:r.jsx(d.default.TextArea,{placeholder:"Description",autoSize:{minRows:3}})}),r.jsx(o.Z.Item,{name:"time_start",className:" mb-0",style:{minWidth:"320px",flex:"1 1 0%"},children:r.jsx(u.default,{placeholder:"Chọn ng\xe0y bắt đầu",style:{width:"100%"}})}),r.jsx(o.Z.Item,{className:" mb-0",name:"time_end",rules:[{required:!0}],style:{minWidth:"320px",flex:"1 1 0%"},children:r.jsx(u.default,{placeholder:"Chọn ng\xe0y kết th\xfac",style:{width:"100%"}})})]})},1)}),r.jsx("div",{className:"flex justify-end w-full mt-4",children:r.jsx(l.ZP,{type:"primary",onClick:N,children:"Tạo"})})]})]})}},71284:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>r});let r=(0,a(45347).createProxy)(String.raw`E:\riot\sparking\sp_1\src\app\management\detail_work\page.tsx#default`)},39766:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>r});let r=(0,a(45347).createProxy)(String.raw`E:\riot\sparking\sp_1\src\app\management\layout.tsx#default`)}};var t=require("../../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),r=t.X(0,[9379,4671,4564,2703,2602,5090,5791,5794,2754,7132,5479,8984,6180,5977,2054,5810,2949,9654,8765,8188,1290,7233,8575,4989,3176,749],()=>a(47275));module.exports=r})();