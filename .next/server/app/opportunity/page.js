(()=>{var e={};e.id=3506,e.ids=[3506],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},27790:e=>{"use strict";e.exports=require("assert")},17702:e=>{"use strict";e.exports=require("events")},92048:e=>{"use strict";e.exports=require("fs")},32615:e=>{"use strict";e.exports=require("http")},35240:e=>{"use strict";e.exports=require("https")},19801:e=>{"use strict";e.exports=require("os")},55315:e=>{"use strict";e.exports=require("path")},68621:e=>{"use strict";e.exports=require("punycode")},76162:e=>{"use strict";e.exports=require("stream")},74175:e=>{"use strict";e.exports=require("tty")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},6162:e=>{"use strict";e.exports=require("worker_threads")},71568:e=>{"use strict";e.exports=require("zlib")},35937:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>r.a,__next_app__:()=>u,originalPathname:()=>p,pages:()=>d,routeModule:()=>x,tree:()=>c}),s(27091),s(93355),s(36811),s(20230),s(49356),s(90996);var a=s(30170),n=s(45002),l=s(83876),r=s.n(l),i=s(66299),o={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>i[e]);s.d(t,o);let c=["",{children:["opportunity",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,27091)),"E:\\riot\\sparking\\sp_1\\src\\app\\opportunity\\page.tsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,93355)),"E:\\riot\\sparking\\sp_1\\src\\app\\opportunity\\layout.tsx"],error:[()=>Promise.resolve().then(s.bind(s,36811)),"E:\\riot\\sparking\\sp_1\\src\\app\\opportunity\\error.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,28204))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(s.bind(s,20230)),"E:\\riot\\sparking\\sp_1\\src\\app\\layout.tsx"],error:[()=>Promise.resolve().then(s.bind(s,49356)),"E:\\riot\\sparking\\sp_1\\src\\app\\error.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,90996,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,28204))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],d=["E:\\riot\\sparking\\sp_1\\src\\app\\opportunity\\page.tsx"],p="/opportunity/page",u={require:s,loadChunk:()=>Promise.resolve()},x=new a.AppPageRouteModule({definition:{kind:n.x.APP_PAGE,page:"/opportunity/page",pathname:"/opportunity",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},51502:(e,t,s)=>{Promise.resolve().then(s.bind(s,8642))},8642:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>V});var a=s(97247),n=s(49509),l=s(28964),r=s(77951),i=s(61410),o=s(12927),c=s(1880),d=s(77709),p=s(99539),u=s(69160),x=s(38043),m=s(67427),h=s(23102),y=s(19023),g=s(64676),j=s(963);let f=({refBtnType:e})=>{let[t,s]=(0,l.useState)(!1),[n,f]=(0,l.useState)(-1),_=(0,h.I0)(),{datas:b}=(0,h.v9)(e=>e.type_opportunity),Z=e=>{console.log(e),f(e),k.setFieldsValue(b?.[e])},[v,w]=(0,l.useState)(!1),{postdata:N}=(0,p.Z)(),[C]=(0,u.Z)(),[k]=(0,u.Z)(),[S,P]=(0,l.useState)(""),I=async()=>{200===await N(()=>y.Z.deleteTypeOpportunity([S??""]))&&(_((0,g.N)()),P(""))},T=async e=>{try{let t=await N(()=>y.Z.createTypeOpportunity(e));201===t&&(_((0,g.N)()),C.resetFields(),w(!1))}catch(e){console.error("Error creating product:",e)}},F=async e=>{try{let t=await N(()=>y.Z.updateTypeOpportunity(b?.[n??0].type_opportunity_id,e));200===t&&(_((0,g.N)()),_((0,j.N)({})),f(-1))}catch(e){console.error("Error creating product:",e)}};return(0,a.jsxs)(a.Fragment,{children:[a.jsx(r.ZP,{className:"bg-blue-400 border-0 text-white font-semibold",onClick:()=>{s(!0)},hidden:!!e,ref:e,children:"Loại cơ hội"}),a.jsx(i.Z,{title:(0,a.jsxs)("div",{style:{display:"flex",gap:"5px",alignItems:"center"},children:[a.jsx("span",{children:"Loại cơ hội"}),a.jsx(r.ZP,{className:"text-white font-semibold bg-orange-500",icon:a.jsx(x.gyF,{}),type:"default",onClick:()=>{C.resetFields(),w(!v)}})]}),open:t,onCancel:()=>{s(!1)},footer:null,width:"100%",style:{maxWidth:"800px"},children:(0,a.jsxs)("div",{className:"flex flex-col gap-2",children:[a.jsx("div",{className:"bg-slate-200 px-1 py-2 rounded-md",hidden:!v,children:(0,a.jsxs)(o.Z,{form:C,onFinish:T,style:{display:"flex",flexWrap:"wrap",gap:"8px"},children:[a.jsx(o.Z.Item,{name:"name",rules:[{required:!0,message:"Vui l\xf2ng nhập t\xean loại"}],style:{flex:"1 1 0%",margin:"0"},children:a.jsx(c.default,{placeholder:"Nhập t\xean loại"})}),a.jsx(o.Z.Item,{name:"name_tag",rules:[{required:!0,message:"Vui l\xf2ng nhập t\xean tag"}],style:{flex:"1 1 0%",margin:"0"},children:a.jsx(c.default,{placeholder:"Nhập t\xean tag"})}),a.jsx(o.Z.Item,{style:{display:"flex",justifyContent:"end",margin:"0"},children:a.jsx(r.ZP,{className:"bg-green-500 text-white font-semibold",onClick:()=>{C.submit()},children:"Th\xeam"})})]})}),a.jsx("div",{className:"bg-slate-200 px-1 py-2 rounded-md",hidden:!(n>-1),children:(0,a.jsxs)(o.Z,{form:k,onFinish:F,style:{display:"flex",flexWrap:"wrap",gap:"8px"},children:[a.jsx(o.Z.Item,{name:"name",rules:[{required:!0,message:"Vui l\xf2ng nhập t\xean loại"}],style:{flex:"1 1 0%",margin:"0"},children:a.jsx(c.default,{placeholder:"Nhập t\xean loại"})}),a.jsx(o.Z.Item,{name:"name_tag",rules:[{required:!0,message:"Vui l\xf2ng nhập t\xean tag"}],style:{flex:"1 1 0%",margin:"0"},children:a.jsx(c.default,{placeholder:"Nhập t\xean tag"})}),(0,a.jsxs)(o.Z.Item,{style:{display:"flex",gap:"2px",justifyContent:"end",margin:"0"},children:[a.jsx(r.ZP,{className:"bg-yellow-500 text-white font-semibold",htmlType:"submit",children:"Cập nhật"}),a.jsx(r.ZP,{className:"bg-red-500 text-white font-semibold",onClick:()=>{f(-1)},children:"Huỷ"})]})]})}),a.jsx("div",{className:"border-t-2 w-full overflow-x-auto",children:a.jsx("div",{className:"w-full",children:a.jsx(d.Z,{columns:[{title:"M\xe3 loại",dataIndex:"type_opportunity_id",key:"type_opportunity_id",render:(e,t,s)=>(0,a.jsxs)("div",{className:"flex gap-1 items-center",children:["#",s+1,".",e]})},{title:"T\xean loại",dataIndex:"name",width:"40%",key:"name",render:e=>a.jsx(a.Fragment,{children:a.jsx("strong",{className:"flex gap-2 items-center",children:e})})},{title:"T\xean tag",dataIndex:"name_tag",width:"35%",key:"name_tag",render:(e,t,s)=>a.jsx(a.Fragment,{children:(0,a.jsxs)("strong",{className:"flex gap-2 items-center",children:[e,a.jsx(r.ZP,{type:"link",onClick:()=>{Z(s)},icon:a.jsx(m.FNg,{})}),a.jsx(r.ZP,{className:"  text-xs text-red-500 font-semibold",type:"text",onClick:()=>P(t?.type_opportunity_id),children:"X\xf3a"})]})})}],scroll:{x:"max-content"},className:"custom-table",dataSource:b,pagination:{pageSize:10,showTotal:(e,t)=>`${t[0]}-${t[1]} of ${e} items`},showSorterTooltip:{target:"sorter-icon"}})})})]})}),a.jsx(i.Z,{open:""!==S,title:"X\xf3a dữ liệu",onOk:I,onCancel:()=>{P("")},children:"Bạn c\xf3 chắc chắn muốn x\xf3a kh\xf4ng ?"})]})};var _=s(53803),b=s(98065);s(14814);var Z=s(11318);let v=({refBtnSource:e})=>{let[t,s]=(0,l.useState)(!1),[n,g]=(0,l.useState)([]),f=(0,h.I0)(),{datas:v}=(0,h.v9)(e=>e.source_opportunity),[w,N]=(0,l.useState)(!1),{postdata:C}=(0,p.Z)(),k=e=>{g([...n,e])},S=e=>{g(n.filter(t=>t!==e))},[P]=(0,u.Z)(),[I,T]=(0,l.useState)(""),F=async()=>{200===await C(()=>y.Z.deleteSourceOpportunity([I??""]))&&(f((0,Z.u)()),T(""))},q=[{title:"M\xe3 nguồn",dataIndex:"type_source_id",key:"type_source_id",render:(e,t,s)=>(0,a.jsxs)("div",{className:"flex gap-1 items-center",children:["#",s+1,".",e]})},{title:"T\xean nguồn",dataIndex:"name",key:"name",width:"50%",render:(e,t,s)=>a.jsx(a.Fragment,{children:n.includes(s)?(0,a.jsxs)(o.Z,{onFinish:e=>{O(e.name,t.type_source_id,s)},style:{display:"flex",flexWrap:"wrap",gap:"8px"},children:[a.jsx(o.Z.Item,{name:"name",rules:[{required:!0,message:"Vui l\xf2ng nhập t\xean mới"}],style:{margin:"0"},children:a.jsx(c.default,{placeholder:"Nhập t\xean nguồn",defaultValue:e})}),(0,a.jsxs)(o.Z.Item,{style:{gap:"2px",display:"flex",justifyContent:"end",margin:"0"},children:[a.jsx(r.ZP,{className:"font-semibold border-transparent group",type:"link",htmlType:"submit",icon:a.jsx(_.l_A,{className:"group-hover:text-green-500"})}),a.jsx(r.ZP,{className:"font-semibold border-transparent group",type:"link",onClick:()=>{S(s)},icon:a.jsx(b.bjh,{className:"group-hover:text-red-500"})})]})]}):(0,a.jsxs)("strong",{className:"flex gap-2 items-center",children:[e,a.jsx(r.ZP,{type:"link",onClick:()=>{k(s)},icon:a.jsx(m.FNg,{})}),a.jsx(r.ZP,{className:"  text-xs text-red-500 font-semibold",type:"text",onClick:()=>T(t?.type_source_id),children:"X\xf3a"})]})})}],W=async e=>{try{let t=await C(()=>y.Z.createSourceOpportunity(e));201===t&&(f((0,Z.u)()),P.resetFields())}catch(e){console.error("Error creating unit product:",e)}},O=async(e,t,s)=>{try{let a=await C(()=>y.Z.updateSourceOpportunity(t,e));200===a&&(f((0,j.N)({})),f((0,Z.u)()),S(s))}catch(e){console.error("Error creating unit product:",e)}};return(0,a.jsxs)(a.Fragment,{children:[a.jsx(r.ZP,{className:"bg-blue-400 border-0 text-white font-semibold",onClick:()=>{s(!0)},hidden:!!e,ref:e,children:"Nguồn cơ hội"}),a.jsx(i.Z,{title:(0,a.jsxs)("div",{style:{display:"flex",gap:"5px",alignItems:"center"},children:[a.jsx("span",{children:"Nguồn cơ hội"}),a.jsx(r.ZP,{className:"text-white font-semibold bg-orange-500",icon:a.jsx(x.gyF,{}),type:"default",onClick:()=>{P.resetFields(),N(!w)}})]}),open:t,onCancel:()=>{s(!1)},footer:null,width:"100%",style:{maxWidth:"800px"},children:(0,a.jsxs)("div",{className:"flex flex-col gap-2",children:[a.jsx("div",{className:"bg-slate-200 px-1 py-2 rounded-md",hidden:!w,children:(0,a.jsxs)(o.Z,{form:P,onFinish:W,style:{display:"flex",flexWrap:"wrap",gap:"8px"},children:[a.jsx(o.Z.Item,{name:"name",rules:[{required:!0,message:"Vui l\xf2ng nhập t\xean đơn vị"}],style:{flex:"1 1 0%",margin:"0"},children:a.jsx(c.default,{placeholder:"Nhập t\xean đơn vị"})}),a.jsx(o.Z.Item,{style:{display:"flex",justifyContent:"end",margin:"0"},children:a.jsx(r.ZP,{className:"bg-green-500 text-white font-semibold",onClick:()=>{P.submit()},children:"Th\xeam"})})]})}),a.jsx("div",{className:"border-t-2 w-full overflow-x-auto",children:a.jsx("div",{className:"w-full",children:a.jsx(d.Z,{columns:q,scroll:{x:"max-content"},className:"custom-table",dataSource:v,pagination:{pageSize:10,showTotal:(e,t)=>`${t[0]}-${t[1]} of ${e} items`},showSorterTooltip:{target:"sorter-icon"}})})})]})}),a.jsx(i.Z,{open:""!==I,title:"X\xf3a dữ liệu",onOk:F,onCancel:()=>{T("")},children:"Bạn c\xf3 chắc chắn muốn x\xf3a kh\xf4ng ?"})]})};var w=s(39884),N=s(95718),C=s(65794),k=s(35090);let S=()=>{let[e,t]=(0,l.useState)(!1),s=(0,l.useRef)(),n=(0,l.useRef)(),d=(0,h.I0)();(0,h.I0)();let{datas:x}=(0,h.v9)(e=>e.type_opportunity),{datas:m}=(0,h.v9)(e=>e.source_opportunity),{datas:g}=(0,h.v9)(e=>e.province_system),{datas:_}=(0,h.v9)(e=>e.get_users),{postdata:Z}=(0,p.Z)(),[S]=(0,u.Z)(),P=async e=>{try{console.log(e);let s=await Z(()=>y.Z.createOpportunity(e));201===s&&(d((0,j.N)({})),S.resetFields(),t(!1))}catch(e){console.error("Error creating opportunity:",e)}};return(0,a.jsxs)(a.Fragment,{children:[a.jsx(r.ZP,{className:"bg-blue-400 border-0 text-white font-semibold",icon:a.jsx(b.b0B,{}),onClick:()=>{t(!0)},children:"Tạo cơ hội"}),a.jsx(i.Z,{title:"Điền form cơ hội",open:e,onCancel:()=>{t(!1)},footer:null,width:"100%",style:{maxWidth:"800px"},children:(0,a.jsxs)(o.Z,{layout:"vertical",form:S,onFinish:P,style:{display:"flex",flexWrap:"wrap",gap:"12px"},children:[a.jsx(o.Z.Item,{name:"name_contact",label:"T\xean người li\xean hệ",style:{minWidth:"320px",flex:"1 1 0%"},rules:[{required:!0,message:"Vui l\xf2ng nhập t\xean"}],children:a.jsx(c.default,{placeholder:"T\xean"})}),a.jsx(o.Z.Item,{name:"company_name",label:"T\xean c\xf4ng ty",style:{minWidth:"320px",flex:"1 1 0%"},children:a.jsx(c.default,{placeholder:"T\xean c\xf4ng ty"})}),a.jsx(o.Z.Item,{name:"type_opportunity",label:"Loại cơ hội",rules:[{required:!0,message:"Please select an opportunity type!"}],style:{minWidth:"220px",flex:"1 1 0%"},children:a.jsx(w.Z,{placeholder:"Select type",dropdownRender:e=>(0,a.jsxs)(a.Fragment,{children:[e,a.jsx(N.Z,{style:{margin:"8px 0"}}),a.jsx(r.ZP,{type:"link",onClick:()=>{n.current?.click()},children:"+ Th\xeam t\xf9y chọn mới"})]}),children:x?.map(e=>a.jsx(w.Z.Option,{value:e.type_opportunity_id,children:e.name},e.type_opportunity_id))})}),a.jsx(o.Z.Item,{name:"type_source",label:"Nguồn cơ hội",rules:[{required:!0,message:"Please select a source type!"}],style:{minWidth:"220px",flex:"1 1 0%"},children:a.jsx(w.Z,{placeholder:"Select source",dropdownRender:e=>(0,a.jsxs)(a.Fragment,{children:[e,a.jsx(N.Z,{style:{margin:"8px 0"}}),a.jsx(r.ZP,{type:"link",onClick:()=>{s.current?.click()},children:"+ Th\xeam t\xf9y chọn mới"})]}),children:m?.map(e=>a.jsx(w.Z.Option,{value:e.type_source_id,children:e.name},e.type_source_id))})}),a.jsx(o.Z.Item,{name:"user_support",label:"Nh\xe2n vi\xean hỗ trợ",style:{minWidth:"220px",flex:"1 1 0%"},children:a.jsx(w.Z,{placeholder:"Select staff",children:_?.map(e=>a.jsxs(w.Z.Option,{value:e.user_id,children:[e.first_name," ",e.last_name]},e.user_id))})}),a.jsx(o.Z.Item,{name:"email",label:"Email",style:{minWidth:"320px",flex:"1 1 0%"},children:a.jsx(c.default,{placeholder:"Email"})}),a.jsx(o.Z.Item,{name:"phone_number",label:"Số điện thoại",style:{minWidth:"320px",flex:"1 1 0%"},children:a.jsx(c.default,{placeholder:"Số điện thoại"})}),a.jsx(o.Z.Item,{name:"address",label:"Địa chỉ",style:{minWidth:"320px",flex:"1 1 0%"},children:a.jsx(c.default,{placeholder:"Địa chỉ"})}),a.jsx(o.Z.Item,{name:"province",label:"Khu vực",style:{minWidth:"320px",flex:"1 1 0%"},children:a.jsx(w.Z,{placeholder:"Select province",children:g?.map(e=>a.jsx(w.Z.Option,{value:e.province_id,children:e.name_province},e.province_id))})}),a.jsx(o.Z.Item,{name:"website",label:"Website",style:{minWidth:"320px",flex:"1 1 0%"},children:a.jsx(c.default,{placeholder:"Website"})}),a.jsx(o.Z.Item,{name:"position",label:"Chức vụ",style:{minWidth:"320px",flex:"1 1 0%"},children:a.jsx(c.default,{placeholder:"Position"})}),a.jsx(o.Z.Item,{name:"price",label:"Gi\xe1 trị (vnđ)",style:{minWidth:"320px",flex:"1 1 0%"},children:a.jsx(C.Z,{placeholder:"Price",className:"w-full",formatter:e=>`${e}`.replace(/\B(?=(\d{3})+(?!\d))/g,","),parser:e=>e?.replace(/\$\s?|(,*)/g,"")})}),a.jsx(o.Z.Item,{name:"latch_date",label:"Hạn chốt",style:{minWidth:"320px",flex:"1 1 0%"},children:a.jsx(k.default,{placeholder:"Select date",style:{width:"100%"}})}),a.jsx(o.Z.Item,{name:"description",label:"M\xf4 tả",style:{width:"100%"},children:a.jsx(c.default.TextArea,{placeholder:"Description",autoSize:{minRows:3}})}),a.jsx(o.Z.Item,{style:{width:"100%",display:"flex",justifyContent:"end"},children:a.jsx(r.ZP,{type:"primary",htmlType:"submit",children:"Tạo"})})]})}),a.jsx(f,{refBtnType:n}),a.jsx(v,{refBtnSource:s})]})};var P=s(34178);function I(){(0,P.useSearchParams)();let{RangePicker:e}=k.default;(0,h.I0)();let[t,s]=(0,l.useState)({}),{datas:n}=(0,h.v9)(e=>e.type_opportunity),{datas:r}=(0,h.v9)(e=>e.source_opportunity),{datas:i}=(0,h.v9)(e=>e.get_users);return(0,a.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,a.jsxs)("div",{className:"flex gap-1 flex-wrap",children:[a.jsx(S,{}),a.jsx(f,{}),a.jsx(v,{})]}),a.jsx("p",{className:"text-sm font-semibold text-[#1BA399]",children:"Được lọc theo:"}),(0,a.jsxs)("div",{className:"flex flex-wrap w-full items-center justify-end gap-2   pb-4 ",children:[a.jsx(w.Z,{placeholder:"Loại cơ hội",style:{minWidth:120,flex:"1 1 0%"},onChange:e=>{s({...t,type_opportunity:e})},showSearch:!0,allowClear:!0,filterOption:(e,t)=>(t?.label??"").toLowerCase().includes(e.toLowerCase()),options:n.map(e=>({value:e.type_opportunity_id,label:e.name}))}),a.jsx(w.Z,{placeholder:"Nguồn cơ hội",style:{minWidth:120,flex:"1 1 0%"},onChange:e=>{s({...t,type_source:e})},showSearch:!0,allowClear:!0,filterOption:(e,t)=>(t?.label??"").toLowerCase().includes(e.toLowerCase()),options:r.map(e=>({value:e.type_source_id,label:e.name}))}),a.jsx(w.Z,{placeholder:"Trạng th\xe1i",style:{minWidth:120,flex:"1 1 0%"},onChange:e=>{s({...t,status:e})},showSearch:!0,allowClear:!0,filterOption:(e,t)=>(t?.label??"").toLowerCase().includes(e.toLowerCase()),options:[{value:"delete",label:"Đ\xe3 x\xf3a"},{value:"hide",label:"Đ\xe3 ẩn"},{value:"success",label:"Th\xe0nh c\xf4ng"},{value:"pending",label:"Đang tiếp cận"},{value:"cancel",label:"Đ\xe3 hủy"},{value:"pause",label:"Đ\xe3 tạm dừng"}]}),a.jsx(w.Z,{placeholder:"Người phụ tr\xe1ch",style:{minWidth:120,flex:"1 1 0%"},onChange:e=>{s({...t,user_support:e})},showSearch:!0,allowClear:!0,filterOption:(e,t)=>(t?.label??"").toLowerCase().includes(e.toLowerCase()),options:i?.map(e=>({value:e.user_id,label:e.first_name+" "+e.last_name}))}),a.jsx(e,{style:{minWidth:120,flex:"1 1 0%"},onChange:(e,a)=>{s({...t,date_start:a[0],date_end:a[1]})}})]})]})}var T=s(41479),F=s(96538),q=s(76181),W=s(16523),O=s(67552),E=s(69486);function L(){let e=(0,O.Z)(["admin-top","opportunity","opportunity-edit"]),[t,s]=(0,l.useState)(""),[n,o]=(0,l.useState)(""),[u,x]=(0,l.useState)(""),m=(0,l.useRef)(),[g,f]=(0,l.useState)(""),[_,b]=(0,l.useState)(""),{datas:Z}=(0,h.v9)(e=>e.get_opportunities),[v,N]=(0,l.useState)(25),[C,k]=(0,l.useState)(),S=async(e,t)=>{try{let s=await $(()=>y.Z.updateOpportunity(e,t));200===s&&V((0,j.N)({}))}catch(e){console.error("Error creating product:",e)}},I=[{title:"#",className:"",dataIndex:"opportunity_id",render:(t,n,l)=>(0,a.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,a.jsxs)("strong",{children:["#",l+1]}),a.jsx("div",{className:"flex flex-wrap w-96",children:e&&(0,a.jsxs)(a.Fragment,{children:[a.jsx(r.ZP,{type:"link",ghost:!0,className:"text-xs text-blue-600 w-fit",onClick:()=>{s(t),m.current&&m?.current.click()},children:"B\xe1o gi\xe1"}),a.jsx(q.Z,{ID:t}),"success"!==n.status&&(0,a.jsxs)(a.Fragment,{children:[a.jsx(r.ZP,{type:"link",className:"w-fit",onClick:()=>{S(t,{status:"success"})},children:"Chuyển đổi kh\xe1ch h\xe0ng"}),a.jsx(r.ZP,{type:"link",hidden:"pause"===n.status||"cancel"===n.status,className:"w-fit text-yellow-400 text-xs font-semibold",onClick:()=>{f(t)},children:"Tạm dừng"}),a.jsx(r.ZP,{type:"link",hidden:"pause"!==n.status,className:"w-fit text-green-500 text-xs font-semibold",onClick:()=>{S(t,{status:"pending"})},children:"Tiếp tục"}),a.jsx(r.ZP,{type:"link",hidden:"cancel"===n.status,className:"w-fit text-red-500 text-xs font-semibold",onClick:()=>{b(t)},children:"Thất bại"}),a.jsx(r.ZP,{type:"link",hidden:"cancel"!==n.status&&"pause"!==n.status,className:"w-fit text-indigo-500 text-xs font-semibold",onClick:()=>{x(n?.reason??"")},children:"L\xfd do"})]})]})})]}),sorter:(e,t)=>e.opportunity_id.localeCompare(t.opportunity_id)},{title:"T\xean li\xean hệ",className:"",dataIndex:"name_contact",render:e=>e&&e.length>15?`${e.slice(0,15)}...`:e,sorter:(e,t)=>(e.name_contact||"").localeCompare(t.name_contact||"")},{title:"C\xf4ng ty",className:"",dataIndex:"company_name",sorter:(e,t)=>(e.company_name||"").localeCompare(t.company_name||""),render:e=>a.jsx(a.Fragment,{children:e})},{title:"Email",className:"",dataIndex:"email",sorter:(e,t)=>(e.company_name||"").localeCompare(t.company_name||""),render:e=>a.jsx(a.Fragment,{children:e})},{title:"Số điện thoại",className:"",dataIndex:"phone_number",sorter:(e,t)=>(e.company_name||"").localeCompare(t.company_name||""),render:e=>a.jsx(a.Fragment,{children:e})},{title:"Nh\xe2n vi\xean hỗ trợ",className:"",dataIndex:["user_support"],sorter:(e,t)=>(e.user_support?.last_name||"").localeCompare(t.user_support?.last_name||""),render:e=>(0,a.jsxs)(a.Fragment,{children:[e?.first_name," ",e?.last_name]})},{title:"T\xecnh trạng",className:"",dataIndex:["status"],sorter:(e,t)=>(e.status||"").localeCompare(t.status||""),render:e=>a.jsx(a.Fragment,{children:a.jsx(T.Z,{color:"cancel"===e?"gray":"send"===e?"blue":"pending"===e?"blue-inverse":"delete"===e?"red":"success"===e?"green":"pause"===e?"yellow":"",children:"cancel"===e?"Đ\xe3 hủy":"hide"===e?"Đang ẩn":"pending"===e?"Đang chờ":"delete"===e?"Đ\xe3 x\xf3a":"success"===e?"Th\xe0nh c\xf4ng":"send"===e?"Đ\xe3 gửi b\xe1o gi\xe1":"pause"===e?"Tạm dừng":""})})},{title:"Nguồn cơ hội",className:"",dataIndex:["type_source","name"],sorter:(e,t)=>(e.company_name||"").localeCompare(t.company_name||""),render:e=>a.jsx(a.Fragment,{children:e})},{title:"Ng\xe0y tạo",className:"",dataIndex:"created_at",render:e=>new Date(e).toLocaleDateString("vi-VN"),sorter:(e,t)=>new Date(e.created_at).getTime()-new Date(t.created_at).getTime()}],L=e=>{k(Z?.filter(t=>String(t.opportunity_id+" "+t.name_contact+" "+t.company_name+" "+t.price).toLowerCase().includes(e.toLowerCase())))},{postdata:$}=(0,p.Z)(),V=(0,h.I0)(),[A,B]=(0,l.useState)(!1),[R,z]=(0,l.useState)([]),G=async()=>{200===await $(()=>y.Z.deleteOpportunities(R))&&(V((0,j.N)({})),z([]),B(!1))};return(0,P.useSearchParams)(),(0,a.jsxs)("div",{className:"",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-2 flex-wrap gap-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[a.jsx(w.Z,{defaultValue:v,style:{width:83},onChange:e=>N(e),options:[{value:10,label:10},{value:25,label:25},{value:50,label:50},{value:100,label:100},{value:500,label:500},{value:1e3,label:1e3},{value:1e8,label:"All"}]}),a.jsx(r.ZP,{hidden:!(R.length>0),children:"Xuất ra"}),a.jsx(r.ZP,{onClick:()=>{B(!0)},danger:!0,hidden:!(R.length>0),className:"text-xl",icon:a.jsx(W.FH3,{})}),a.jsx(i.Z,{open:A,title:"X\xf3a dữ liệu",onOk:G,onCancel:()=>{B(!1)},children:"Bạn c\xf3 chắc chắn muốn x\xf3a kh\xf4ng ?"})]}),a.jsx("div",{className:"flex items-center",children:a.jsx(F.Z,{onChange:e=>L(e.target.value),placeholder:"Search",style:{width:200}})})]}),a.jsx("div",{className:"w-full overflow-auto",children:a.jsx("div",{className:"min-w-fit",children:a.jsx(d.Z,{columns:I,rowSelection:{onChange:(e,t)=>{z(t.map(e=>e.opportunity_id))}},dataSource:C,scroll:{x:"max-content"},pagination:{pageSize:v,showTotal:(e,t)=>`${t[0]}-${t[1]} of ${e} items`},showSorterTooltip:{target:"sorter-icon"}})})}),a.jsx(E.Z,{idOpportunity:t,refBtn:m}),a.jsx(i.Z,{open:""!==_||""!==g,title:""!==_?"L\xfd do thất bại":"L\xfd do tạm dừng",onOk:()=>{let e=""===_?g:_;""===g?(S(e,{status:"cancel",reason:n}),b("")):(S(e,{status:"pause",reason:n}),f(""))},onCancel:()=>{b(""),f("")},children:a.jsx(c.default.TextArea,{placeholder:"L\xfd do",onChange:e=>{o(e.target.value)},autoSize:{minRows:5}})}),a.jsx(i.Z,{open:""!==u,title:"L\xfd do",onCancel:()=>{x("")},footer:!1,children:a.jsx(c.default.TextArea,{value:u,autoSize:{minRows:5}})})]})}function $(){let e=(0,O.Z)(["admin-top","opportunity","opportunity-edit"]);return a.jsx("div",{children:(0,a.jsxs)("div",{className:"flex flex-col gap-4 rounded-md p-4 shadow-[0_8px_30px_rgb(0,0,0,0.12)] bg-white",children:[e&&a.jsx("div",{className:"rounded-md",children:a.jsx(I,{})}),a.jsx("div",{className:"rounded-md",children:a.jsx(L,{})})]})})}function V(){(0,h.I0)();let e=(0,O.Z)(["admin-top","opportunity","opportunity-read"]);return a.jsx("div",{className:"p-4",children:e?a.jsx($,{}):a.jsx(n.Z,{})})}s(73907),s(6493)},27091:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});let a=(0,s(45347).createProxy)(String.raw`E:\riot\sparking\sp_1\src\app\opportunity\page.tsx#default`)},14814:()=>{}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[9379,4671,4564,2703,2602,5090,5791,5794,2754,7132,8188,1290,7233,5983,7556],()=>s(35937));module.exports=a})();