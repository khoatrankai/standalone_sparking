(()=>{var e={};e.id=4365,e.ids=[4365],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},27790:e=>{"use strict";e.exports=require("assert")},17702:e=>{"use strict";e.exports=require("events")},92048:e=>{"use strict";e.exports=require("fs")},32615:e=>{"use strict";e.exports=require("http")},35240:e=>{"use strict";e.exports=require("https")},19801:e=>{"use strict";e.exports=require("os")},55315:e=>{"use strict";e.exports=require("path")},76162:e=>{"use strict";e.exports=require("stream")},74175:e=>{"use strict";e.exports=require("tty")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},71568:e=>{"use strict";e.exports=require("zlib")},91488:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>n.a,__next_app__:()=>u,originalPathname:()=>p,pages:()=>c,routeModule:()=>h,tree:()=>d}),r(98932),r(28128),r(60158),r(20230),r(49356),r(90996);var l=r(30170),s=r(45002),a=r(83876),n=r.n(a),i=r(66299),o={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>i[e]);r.d(t,o);let d=["",{children:["propose",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,98932)),"E:\\riot\\sparking\\sp_1\\src\\app\\propose\\page.tsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,28128)),"E:\\riot\\sparking\\sp_1\\src\\app\\propose\\layout.tsx"],error:[()=>Promise.resolve().then(r.bind(r,60158)),"E:\\riot\\sparking\\sp_1\\src\\app\\propose\\error.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,28204))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,20230)),"E:\\riot\\sparking\\sp_1\\src\\app\\layout.tsx"],error:[()=>Promise.resolve().then(r.bind(r,49356)),"E:\\riot\\sparking\\sp_1\\src\\app\\error.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,90996,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,28204))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["E:\\riot\\sparking\\sp_1\\src\\app\\propose\\page.tsx"],p="/propose/page",u={require:r,loadChunk:()=>Promise.resolve()},h=new l.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/propose/page",pathname:"/propose",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},66970:(e,t,r)=>{Promise.resolve().then(r.bind(r,68614))},60996:(e,t,r)=>{Promise.resolve().then(r.bind(r,80450))},35303:()=>{},41479:(e,t,r)=>{"use strict";r.d(t,{Z:()=>W});var l=r(28964),s=r(15001),a=r.n(s),n=r(14959),i=r(84217),o=r(41459),d=r(18788),c=r(13286),p=r(55624),u=r(76362),h=r(19705),x=r(66159),m=r(74244),g=r(35188);let f=e=>{let{paddingXXS:t,lineWidth:r,tagPaddingHorizontal:l,componentCls:s,calc:a}=e,n=a(l).sub(r).equal(),i=a(t).sub(r).equal();return{[s]:Object.assign(Object.assign({},(0,x.Wf)(e)),{display:"inline-block",height:"auto",marginInlineEnd:e.marginXS,paddingInline:n,fontSize:e.tagFontSize,lineHeight:e.tagLineHeight,whiteSpace:"nowrap",background:e.defaultBg,border:`${(0,u.unit)(e.lineWidth)} ${e.lineType} ${e.colorBorder}`,borderRadius:e.borderRadiusSM,opacity:1,transition:`all ${e.motionDurationMid}`,textAlign:"start",position:"relative",[`&${s}-rtl`]:{direction:"rtl"},"&, a, a:hover":{color:e.defaultColor},[`${s}-close-icon`]:{marginInlineStart:i,fontSize:e.tagIconSize,color:e.colorTextDescription,cursor:"pointer",transition:`all ${e.motionDurationMid}`,"&:hover":{color:e.colorTextHeading}},[`&${s}-has-color`]:{borderColor:"transparent",[`&, a, a:hover, ${e.iconCls}-close, ${e.iconCls}-close:hover`]:{color:e.colorTextLightSolid}},"&-checkable":{backgroundColor:"transparent",borderColor:"transparent",cursor:"pointer",[`&:not(${s}-checkable-checked):hover`]:{color:e.colorPrimary,backgroundColor:e.colorFillSecondary},"&:active, &-checked":{color:e.colorTextLightSolid},"&-checked":{backgroundColor:e.colorPrimary,"&:hover":{backgroundColor:e.colorPrimaryHover}},"&:active":{backgroundColor:e.colorPrimaryActive}},"&-hidden":{display:"none"},[`> ${e.iconCls} + span, > span + ${e.iconCls}`]:{marginInlineStart:n}}),[`${s}-borderless`]:{borderColor:"transparent",background:e.tagBorderlessBg}}},j=e=>{let{lineWidth:t,fontSizeIcon:r,calc:l}=e,s=e.fontSizeSM;return(0,m.mergeToken)(e,{tagFontSize:s,tagLineHeight:(0,u.unit)(l(e.lineHeightSM).mul(s).equal()),tagIconSize:l(r).sub(l(t).mul(2)).equal(),tagPaddingHorizontal:8,tagBorderlessBg:e.defaultBg})},v=e=>({defaultBg:new h.C(e.colorFillQuaternary).onBackground(e.colorBgContainer).toHexString(),defaultColor:e.colorText}),y=(0,g.I$)("Tag",e=>f(j(e)),v);var b=function(e,t){var r={};for(var l in e)Object.prototype.hasOwnProperty.call(e,l)&&0>t.indexOf(l)&&(r[l]=e[l]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var s=0,l=Object.getOwnPropertySymbols(e);s<l.length;s++)0>t.indexOf(l[s])&&Object.prototype.propertyIsEnumerable.call(e,l[s])&&(r[l[s]]=e[l[s]]);return r};let _=l.forwardRef((e,t)=>{let{prefixCls:r,style:s,className:n,checked:i,onChange:o,onClick:d}=e,c=b(e,["prefixCls","style","className","checked","onChange","onClick"]),{getPrefixCls:u,tag:h}=l.useContext(p.E_),x=u("tag",r),[m,g,f]=y(x),j=a()(x,`${x}-checkable`,{[`${x}-checkable-checked`]:i},null==h?void 0:h.className,n,g,f);return m(l.createElement("span",Object.assign({},c,{ref:t,style:Object.assign(Object.assign({},s),null==h?void 0:h.style),className:j,onClick:e=>{null==o||o(!i),null==d||d(e)}})))});var C=r(57530);let w=e=>(0,C.Z)(e,(t,r)=>{let{textColor:l,lightBorderColor:s,lightColor:a,darkColor:n}=r;return{[`${e.componentCls}${e.componentCls}-${t}`]:{color:l,background:a,borderColor:s,"&-inverse":{color:e.colorTextLightSolid,background:n,borderColor:n},[`&${e.componentCls}-borderless`]:{borderColor:"transparent"}}}}),N=(0,g.bk)(["Tag","preset"],e=>w(j(e)),v),Z=(e,t,r)=>{let l=function(e){return"string"!=typeof e?e:e.charAt(0).toUpperCase()+e.slice(1)}(r);return{[`${e.componentCls}${e.componentCls}-${t}`]:{color:e[`color${r}`],background:e[`color${l}Bg`],borderColor:e[`color${l}Border`],[`&${e.componentCls}-borderless`]:{borderColor:"transparent"}}}},S=(0,g.bk)(["Tag","status"],e=>{let t=j(e);return[Z(t,"success","Success"),Z(t,"processing","Info"),Z(t,"error","Error"),Z(t,"warning","Warning")]},v);var k=function(e,t){var r={};for(var l in e)Object.prototype.hasOwnProperty.call(e,l)&&0>t.indexOf(l)&&(r[l]=e[l]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var s=0,l=Object.getOwnPropertySymbols(e);s<l.length;s++)0>t.indexOf(l[s])&&Object.prototype.propertyIsEnumerable.call(e,l[s])&&(r[l[s]]=e[l[s]]);return r};let P=l.forwardRef((e,t)=>{let{prefixCls:r,className:s,rootClassName:u,style:h,children:x,icon:m,color:g,onClose:f,bordered:j=!0,visible:v}=e,b=k(e,["prefixCls","className","rootClassName","style","children","icon","color","onClose","bordered","visible"]),{getPrefixCls:_,direction:C,tag:w}=l.useContext(p.E_),[Z,P]=l.useState(!0),W=(0,n.Z)(b,["closeIcon","closable"]);l.useEffect(()=>{void 0!==v&&P(v)},[v]);let I=(0,i.o2)(g),T=(0,i.yT)(g),q=I||T,$=Object.assign(Object.assign({backgroundColor:g&&!q?g:void 0},null==w?void 0:w.style),h),O=_("tag",r),[E,L,A]=y(O),V=a()(O,null==w?void 0:w.className,{[`${O}-${g}`]:q,[`${O}-has-color`]:g&&!q,[`${O}-hidden`]:!Z,[`${O}-rtl`]:"rtl"===C,[`${O}-borderless`]:!j},s,u,L,A),B=e=>{e.stopPropagation(),null==f||f(e),e.defaultPrevented||P(!1)},[,D]=(0,o.Z)((0,o.w)(e),(0,o.w)(w),{closable:!1,closeIconRender:e=>{let t=l.createElement("span",{className:`${O}-close-icon`,onClick:B},e);return(0,d.wm)(e,t,e=>({onClick:t=>{var r;null===(r=null==e?void 0:e.onClick)||void 0===r||r.call(e,t),B(t)},className:a()(null==e?void 0:e.className,`${O}-close-icon`)}))}}),F="function"==typeof b.onClick||x&&"a"===x.type,z=m||null,M=z?l.createElement(l.Fragment,null,z,x&&l.createElement("span",null,x)):x,G=l.createElement("span",Object.assign({},W,{ref:t,className:V,style:$}),M,D,I&&l.createElement(N,{key:"preset",prefixCls:O}),T&&l.createElement(S,{key:"status",prefixCls:O}));return E(F?l.createElement(c.Z,{component:"Tag"},G):G)});P.CheckableTag=_;let W=P},68614:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});var l=r(97247),s=r(87467);function a({error:e,reset:t}){return l.jsx("div",{children:l.jsx(s.Z,{handleBtn:t,value:e.message})})}},80450:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>$});var l=r(97247),s=r(28964),a=r(35090),n=r(39884),i=r(99539),o=r(93025),d=r(284);let c={createPropose:async e=>{try{return(await o.Z.post("/propose",{...e,price:Number(e.price)})).data}catch(e){throw(0,d.S)(e),e}}};var p=r(77951),u=r(61410),h=r(82140),x=r(12927),m=r(1880),g=r(65794),f=r(77709),j=r(69160),v=r(34258),y=r(41201),b=r(75142),_=r(98065),C=r(16523),w=r(23102);function N(){let{datas:e}=(0,w.v9)(e=>e.province_system),{datas:t}=(0,w.v9)(e=>e.vat_system),[r,a]=(0,s.useState)(!1),[o,d]=(0,s.useState)([]),N=[{title:"Loại sản phẩm",dataIndex:"type",key:"type",render:e=>l.jsx("div",{className:"flex gap-1 items-center",children:"VT"===e?(0,l.jsxs)(l.Fragment,{children:[l.jsx("div",{className:"min-w-1 min-h-1 rounded-full bg-blue-500"}),l.jsx("div",{className:"min-w-1 min-h-1 rounded-full bg-blue-500"}),e]}):(0,l.jsxs)(l.Fragment,{children:[" ",l.jsx("div",{className:"min-w-1 min-h-1 rounded-full bg-red-500"}),e]})})},{title:"M\xe3 sản phẩm",dataIndex:"code_product",key:"code_product"},{title:"T\xean sản phẩm",dataIndex:"name_product",key:"name_product"},{title:"Số lượng",dataIndex:"quantity_product",key:"quantity"},{title:"M\xf4 tả",dataIndex:"description",key:"description"},{title:"Thuế VAT",dataIndex:"vat",key:"vat",render:e=>(0,l.jsxs)(l.Fragment,{children:[t?.find(t=>t.vat_id===e)?.type_vat,"%"]})},{title:"Gi\xe1 sản phẩm (VNĐ)",dataIndex:"price_product",key:"price_product",render:e=>`${e.toLocaleString("vi-VN")}đ`},{title:"",dataIndex:"",key:"",render:()=>(0,l.jsxs)("div",{className:"flex gap-2 items-center",children:[l.jsx(p.ZP,{type:"primary",className:"bg-yellow-500",icon:l.jsx(C.zmo,{})}),l.jsx(p.ZP,{type:"primary",className:"bg-red-500",icon:l.jsx(C.ZkW,{})})]})}],[Z]=(0,j.Z)(),[S]=(0,j.Z)(),{datas:k}=(0,w.v9)(e=>e.infos_customer),{postdata:P}=(0,i.Z)(),{datas:W}=(0,w.v9)(e=>e.get_users),[I,T]=(0,s.useState)(),[q,$]=(0,s.useState)(!1),O=async e=>{let t=await P(()=>c.createPropose(e));(200===t||201===t)&&$(!1)},E=async e=>{console.log(e),d([...o,e])},L=async()=>{Z.submit()};return(0,l.jsxs)(l.Fragment,{children:[l.jsx(p.ZP,{className:"bg-blue-400 border-0 text-white font-semibold",icon:l.jsx(_.b0B,{}),onClick:()=>{$(!0)},children:"Th\xeam đề xuất"}),(0,l.jsxs)(u.Z,{title:"Tạo đề xuất",open:q,onCancel:()=>{$(!1)},footer:null,width:"100%",style:{maxWidth:"800px"},children:[(0,l.jsxs)(h.Z,{defaultActiveKey:"1",style:{width:"100%"},type:"line",children:[l.jsx(b.Z,{tab:"Th\xf4ng tin đề xuất",children:(0,l.jsxs)(x.Z,{form:Z,onFinish:O,style:{display:"flex",flexWrap:"wrap",gap:"8px"},children:[l.jsx(x.Z.Item,{name:"name_propose",label:"T\xean đề xuất",rules:[{required:!0,message:"Please input the proposal name!"}],style:{width:"100%"},children:l.jsx(m.default,{})}),l.jsx(x.Z.Item,{name:"type_related",label:"Li\xean quan đến",rules:[{required:!0}],style:{minWidth:"320px",flex:"1 1 0%"},children:(0,l.jsxs)(n.Z,{placeholder:"Select a type",onChange:e=>{T(e)},children:[l.jsx(y.W,{value:"OP",children:"Cơ hội"}),l.jsx(y.W,{value:"CT",children:"Kh\xe1ch h\xe0ng"})]})}),I&&l.jsx(x.Z.Item,{name:"related_id",label:`${"CT"===I?"ID Kh\xe1ch h\xe0ng":"ID Cơ hội"}`,rules:[{required:!0}],style:{minWidth:"320px",flex:"1 1 0%"},children:"CT"===I&&l.jsx(n.Z,{placeholder:"Select a related_id",showSearch:!0,filterOption:(e,t)=>(t?.children?.join("")??"").toLowerCase().includes(e.toLowerCase()),children:k?.map(e=>l.jsxs(y.W,{value:e.info_id,children:[e?.infoContacts?.[0]?.customer.full_name,"(",e.name_company,")"]},e.info_id))})}),l.jsx(x.Z.Item,{name:"date_start",label:"Ng\xe0y bắt đầu",rules:[{required:!0}],style:{minWidth:"320px",flex:"1 1 0%"},children:l.jsx(m.default,{type:"datetime-local"})}),l.jsx(x.Z.Item,{name:"date_end",label:"Ng\xe0y kết th\xfac",rules:[{required:!0}],style:{minWidth:"320px",flex:"1 1 0%"},children:l.jsx(m.default,{type:"datetime-local"})}),l.jsx(x.Z.Item,{name:"status",label:"Trạng th\xe1i",rules:[{required:!0}],style:{minWidth:"240px",flex:"1 1 0%"},children:(0,l.jsxs)(n.Z,{placeholder:"Select status",children:[l.jsx(y.W,{value:"draff",children:"Draff"}),l.jsx(y.W,{value:"send",children:"Send"}),l.jsx(y.W,{value:"open",children:"Open"}),l.jsx(y.W,{value:"edit",children:"Edit"}),l.jsx(y.W,{value:"refuse",children:"Refuse"}),l.jsx(y.W,{value:"accept",children:"Accept"})]})}),l.jsx(x.Z.Item,{name:"type_discount",label:"Loại thuế",rules:[{required:!0}],style:{minWidth:"240px",flex:"1 1 0%"},children:(0,l.jsxs)(n.Z,{placeholder:"Select discount type",children:[l.jsx(y.W,{value:"none",children:"None"}),l.jsx(y.W,{value:"before",children:"Before"}),l.jsx(y.W,{value:"after",children:"After"})]})}),l.jsx(x.Z.Item,{name:"type_money",label:"Đơn vị tiền",rules:[{required:!0}],style:{minWidth:"240px",flex:"1 1 0%"},children:(0,l.jsxs)(n.Z,{placeholder:"Select a currency type",children:[l.jsx(y.W,{value:"vnd",children:"VND"}),l.jsx(y.W,{value:"usd",children:"USD"})]})}),l.jsx(x.Z.Item,{name:"staff_support",label:"Người phụ tr\xe1ch",rules:[{required:!0}],style:{minWidth:"240px",flex:"1 1 0%"},children:l.jsx(n.Z,{placeholder:"Chọn nh\xe2n vi\xean",showSearch:!0,filterOption:(e,t)=>(Array.isArray(t?.children)?t.children.join(""):t?.children??"").toLowerCase().includes(e.toLowerCase()),children:W?.map(e=>l.jsxs(y.W,{value:e.user_id,children:[e.first_name," ",e.last_name]},e.user_id))})}),l.jsx(x.Z.Item,{name:"email",label:"Email",rules:[{required:!0,type:"email",message:"Please enter a valid email!"}],style:{minWidth:"240px",flex:"1 1 0%"},children:l.jsx(m.default,{})}),l.jsx(x.Z.Item,{name:"phone_number",label:"Số điện thoại",rules:[{required:!0,message:"Please enter a valid phone number!"}],style:{minWidth:"240px",flex:"1 1 0%"},children:l.jsx(m.default,{})}),l.jsx(x.Z.Item,{name:"send_to",label:"Gửi đến",rules:[{required:!0}],style:{minWidth:"240px",flex:"1 1 0%"},children:l.jsx(m.default,{})}),l.jsx(x.Z.Item,{name:"province",label:"Khu vực",rules:[{required:!0}],style:{minWidth:"240px",flex:"1 1 0%"},children:l.jsx(n.Z,{placeholder:"Chọn khu vực",children:e?.map(e=>l.jsx(y.W,{value:e.province_id,children:e.name_province},e.province_id))})})]})},1),l.jsx(b.Z,{tab:"Th\xf4ng tin sản phẩm",children:(0,l.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,l.jsxs)("div",{className:"flex gap-2",children:[l.jsx(n.Z,{placeholder:"Chọn sản phẩm cần th\xeam",showSearch:!0,filterOption:(e,t)=>(Array.isArray(t?.children)?t.children.join(""):t?.children??"").toLowerCase().includes(e.toLowerCase()),children:W?.map(e=>l.jsxs(y.W,{value:e.user_id,children:[e.first_name," ",e.last_name]},e.user_id))}),l.jsx(p.ZP,{type:"primary",onClick:()=>{S.resetFields(),a(!r)},children:"Th\xeam kh\xe1c"})]}),l.jsx("div",{className:"bg-slate-200 px-1 py-2 rounded-md",hidden:!r,children:(0,l.jsxs)(x.Z,{form:S,onFinish:E,style:{display:"flex",flexWrap:"wrap",gap:"8px"},children:[l.jsx(x.Z.Item,{name:"code_product",rules:[{required:!1}],style:{minWidth:"200px",flex:"1 1 0%",margin:"0"},children:l.jsx(m.default,{placeholder:"M\xe3 sản phẩm"})}),l.jsx(x.Z.Item,{name:"name_product",rules:[{required:!0,message:"Vui l\xf2ng nhập th\xf4ng tin sản phẩm"}],style:{minWidth:"240px",flex:"1 1 0%",margin:"0"},children:l.jsx(m.default,{placeholder:"T\xean sản phẩm"})}),l.jsx(x.Z.Item,{name:"quantity_product",rules:[{required:!0,message:"Vui l\xf2ng nhập th\xf4ng tin số lượng"}],style:{minWidth:"150px",flex:"1 1 0%",margin:"0"},children:l.jsx(g.Z,{className:"w-full",placeholder:"Số lượng"})}),l.jsx(x.Z.Item,{name:"price_product",rules:[{required:!0,message:"Vui l\xf2ng nhập th\xf4ng tin gi\xe1 trị"}],style:{minWidth:"150px",flex:"1 1 0%",margin:"0"},children:l.jsx(g.Z,{className:"w-full",placeholder:"Gi\xe1 trị"})}),l.jsx(x.Z.Item,{name:"type",rules:[{required:!1}],style:{minWidth:"100px",flex:"1 1 0%",margin:"0"},children:(0,l.jsxs)(n.Z,{placeholder:"Chọn loại sản phẩm",children:[l.jsx(y.W,{value:"TB",children:"Thiết bị"},"TB"),l.jsx(y.W,{value:"VT",children:"Vật tư"},"VT")]})}),l.jsx(x.Z.Item,{name:"vat",rules:[{required:!0}],style:{minWidth:"100px",flex:"1 1 0%",margin:"0"},children:l.jsx(n.Z,{placeholder:"Chọn thuế",children:t?.map(e=>l.jsxs(y.W,{value:e.vat_id,children:[e.type_vat,"%"]},e.vat_id))})}),l.jsx(x.Z.Item,{name:"description",rules:[{required:!0,message:"Vui l\xf2ng nhập th\xf4ng tin m\xf4 tả"}],style:{width:"100%",margin:"0"},children:l.jsx(v.Z,{placeholder:"M\xf4 tả",autoSize:{minRows:3}})}),l.jsx(x.Z.Item,{style:{width:"100%",display:"flex",justifyContent:"end",margin:"0"},children:l.jsx(p.ZP,{className:"bg-green-500 text-white font-semibold",onClick:()=>{S.submit()},children:"Th\xeam"})})]})}),l.jsx("div",{className:"border-t-2 w-full overflow-x-auto",children:l.jsx("div",{className:"w-fit",children:l.jsx(f.Z,{columns:N,dataSource:o,scroll:{x:"max-content"},pagination:{pageSize:10,showTotal:(e,t)=>`${t[0]}-${t[1]} of ${e} items`},showSorterTooltip:{target:"sorter-icon"}})})})]})},2)]}),l.jsx("div",{className:"flex justify-end w-full mt-4",children:l.jsx(p.ZP,{type:"primary",onClick:L,children:"Tạo"})})]})]})}let{RangePicker:Z}=a.default;function S({setFilterData:e,filterData:t}){let{datas:r}=(0,w.v9)(e=>e.get_users);return(0,l.jsxs)("div",{className:"flex items-start gap-4 w-full flex-col",children:[l.jsx("div",{className:"flex gap-1 flex-wrap",children:l.jsx(N,{})}),(0,l.jsxs)("div",{className:"flex flex-wrap w-full items-center justify-end gap-2   pb-4 ",children:[l.jsx(n.Z,{defaultValue:"0",style:{minWidth:120,flex:"1 1 0%"},onChange:r=>{e({...t,type:r})},options:[{value:"0",label:"Tất cả"},{value:"1",label:"Đ\xe3 hết hạn"},{value:"2",label:"Cơ hội"},{value:"3",label:"Kh\xe1ch h\xe0ng"}]}),l.jsx(n.Z,{placeholder:"Ng\xe0y",style:{minWidth:120,flex:"1 1 0%"},onChange:r=>{e({...t,type_date:r})},options:[{value:"0",label:"Ng\xe0y đề xuất"},{value:"1",label:"Ng\xe0y hết hạn"}]}),l.jsx(n.Z,{placeholder:"T\xecnh trạng",onChange:r=>{e({...t,status:r})},style:{minWidth:120,flex:"1 1 0%"},options:[{value:"draff",label:"Draff"},{value:"send",label:"Send"},{value:"open",label:"Open"},{value:"edit",label:"Edit"},{value:"refuse",label:"Refuse"},{value:"accept",label:"Accept"}]}),l.jsx(Z,{style:{minWidth:120,flex:"1 1 0%"},onChange:(r,l)=>{e({...t,date_start:l[0],date_end:l[1]})}}),l.jsx(n.Z,{placeholder:"Người phụ tr\xe1ch",showSearch:!0,filterOption:(e,t)=>(t?.children?.join("")??"").toLowerCase().includes(e.toLowerCase()),onChange:r=>{e({...t,staff_support:r})},style:{minWidth:120,flex:"1 1 0%"},children:r?.map(e=>l.jsxs(y.W,{value:e.user_id,children:[e.first_name," ",e.last_name]},e.user_id))})]})]})}var k=r(41479),P=r(41832),W=r(96538),I=r(16415);function T({dataSource:e}){let[t,r]=(0,s.useState)(25),[a,i]=(0,s.useState)(e),o=t=>{i(e?.filter(e=>String(e.created_at+" "+e.date_end+" "+e.date_start+" "+e.name_propose+" "+e.price+" "+e.propose_id+" "+e.send_to+" "+e.status).toLowerCase().includes(t.toLowerCase())))};return(0,l.jsxs)("div",{className:"",children:[(0,l.jsxs)("div",{className:"flex justify-between items-center mb-2 flex-wrap gap-y-2",children:[(0,l.jsxs)("div",{className:"flex items-center gap-1",children:[l.jsx(n.Z,{defaultValue:t,style:{width:83},onChange:e=>r(e),options:[{value:10,label:10},{value:25,label:25},{value:50,label:50},{value:100,label:100},{value:500,label:500},{value:1e3,label:1e3},{value:1e8,label:"Tất cả"}]}),l.jsx(P.Z,{className:"ml-1",trigger:["click"],children:l.jsx(p.ZP,{children:"Xuất ra"})}),l.jsx(p.ZP,{children:l.jsx(I.Rc_,{})})]}),l.jsx("div",{className:"flex items-center",children:l.jsx(W.Z,{onChange:e=>{o(e.target.value)},placeholder:"T\xecm kiếm",style:{width:200}})})]}),l.jsx("div",{className:"w-full overflow-auto",children:l.jsx("div",{className:"min-w-fit",children:l.jsx(f.Z,{columns:[{title:"Đề xuất#",className:"text-xs",dataIndex:"propose_id",render:(e,t,r)=>(0,l.jsxs)("div",{className:"flex flex-col gap-1 ",children:[(0,l.jsxs)("strong",{children:["#",r+1,"."]}),(0,l.jsxs)("div",{className:"flex gap-2",children:[l.jsx(p.ZP,{type:"text",ghost:!0,className:"text-xs text-blue-600",children:"Xem"}),l.jsx(p.ZP,{type:"text",ghost:!0,className:"text-xs text-yellow-600",children:"Chỉnh sửa"})]})]}),sorter:(e,t)=>e.propose_id.localeCompare(t.propose_id)},{title:"Ti\xeau đề",className:"text-xs",dataIndex:"name_propose",render:e=>l.jsx(l.Fragment,{children:e.length>15?`${e.slice(0,15)}...`:e}),sorter:(e,t)=>e.name_propose.localeCompare(t.name_propose)},{title:"Gửi đến",className:"text-xs",dataIndex:"send_to",render:e=>l.jsx(l.Fragment,{children:e.length>15?`${e.slice(0,15)}...`:e}),sorter:(e,t)=>e.send_to.localeCompare(t.send_to)},{title:"Tổng cộng",className:"text-xs",dataIndex:"price",sorter:(e,t)=>e.price-t.price,render:e=>`${e.toLocaleString("vi-VN")}đ`},{title:"Ng\xe0y đề xuất",className:"text-xs",dataIndex:"date_start",render:e=>e?new Date(e).toLocaleDateString("vi-VN"):"N/A",sorter:(e,t)=>e.date_start.localeCompare(t.date_start)},{title:"Ng\xe0y hết hạn",className:"text-xs",dataIndex:"date_end",render:e=>e?new Date(e).toLocaleDateString("vi-VN"):"N/A",sorter:(e,t)=>e.date_end.localeCompare(t.date_end)},{title:"Ng\xe0y tạo",className:"text-xs",dataIndex:"created_at",render:e=>e?new Date(e).toLocaleDateString("vi-VN"):"N/A",sorter:(e,t)=>e.created_at.localeCompare(t.created_at)},{title:"T\xecnh trạng",className:"text-xs",dataIndex:"status",render:e=>l.jsx(l.Fragment,{children:(0,l.jsxs)(k.Z,{color:"draff"===e?"gray":"send"===e?"lightblue":"open"===e?"blue":"edit"===e?"yellow":"refuse"===e?"red":"accept"===e?"green":"",children:[e.charAt(0).toUpperCase()+e.slice(1)," "]})}),sorter:(e,t)=>e.status.localeCompare(t.status)}],rowSelection:{},dataSource:a,scroll:{x:"max-content"},pagination:{pageSize:t,showTotal:(e,t)=>`${t[0]}-${t[1]} of ${e} items`},showSorterTooltip:{target:"sorter-icon"}})})})]})}function q(){let[e,t]=(0,s.useState)({});return(0,l.jsxs)("div",{className:"flex flex-col gap-4 rounded-md p-4 shadow-[0_8px_30px_rgb(0,0,0,0.12)] bg-white",children:[l.jsx("div",{className:"rounded-md",children:l.jsx(S,{filterData:e,setFilterData:t})}),l.jsx("div",{className:"rounded-md",children:l.jsx(T,{dataSource:[]})})]})}function $(){return l.jsx("div",{className:"p-4",children:l.jsx(q,{})})}},60158:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>l});let l=(0,r(45347).createProxy)(String.raw`E:\riot\sparking\sp_1\src\app\propose\error.tsx#default`)},28128:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a,metadata:()=>s});var l=r(72051);let s={title:"Đề xuất"};function a({children:e}){return l.jsx(l.Fragment,{children:e})}},98932:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>l});let l=(0,r(45347).createProxy)(String.raw`E:\riot\sparking\sp_1\src\app\propose\page.tsx#default`)},28204:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a}),r(72051);var l=r(54564);let s={size:{width:32,height:32},contentType:"image/png"};async function a(e){let{__metadata_id__:t,...r}=e.params,a=(0,l.fillMetadataSegment)(".",r,"icon"),{generateImageMetadata:n}=s;function i(e,t){let r={alt:e.alt,type:e.contentType||"image/png",url:a+(t?"/"+t:"")+"?4a97cfd375538d02"},{size:l}=e;return l&&(r.sizes=l.width+"x"+l.height),r}return n?(await n({params:r})).map((e,t)=>{let r=(e.id||t)+"";return i(e,r)}):[i(s,"")]}}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),l=t.X(0,[9379,4671,4564,2703,2602,5090,5791,5794,6415,8188],()=>r(91488));module.exports=l})();