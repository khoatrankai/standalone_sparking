exports.id=1290,exports.ids=[1290],exports.modules={41290:(e,t,l)=>{"use strict";l.d(t,{Z:()=>S});var n=l(97247),s=l(99539),i=l(11320),r=l(26326),a=l(6685),d=l(77784),c=l(77951),o=l(61410),h=l(12927),x=l(1880),m=l(39884),u=l(95718),p=l(88506),j=l(41201),g=l(28964),f=l(98065),y=l(23102),b=l(50432),Z=l(69160),v=l(48738),w=l(16523),N=l(75003),C=l(53211),_=l(38043);l(46342);var k=l(72754),W=l.n(k);function I({refBtnCustomer:e,setData:t}){let[l,s]=(0,g.useState)(!1),[i,r]=(0,g.useState)(!1),[a,d]=(0,g.useState)(null),[h,x]=(0,g.useState)(null),{Dragger:m}=p.default,u=async e=>{r(!0);try{W().recognize(e,"vie",{}).then(({data:{text:e}})=>{x(e)})}catch{return""}};return(0,n.jsxs)(n.Fragment,{children:[n.jsx(c.ZP,{hidden:!!e,className:"bg-blue-400 border-0 text-white font-semibold",icon:n.jsx(C.jCY,{}),onClick:()=>{s(!0)},ref:e,children:"Qu\xe9t th\xf4ng tin"}),(0,n.jsxs)(o.Z,{title:"Qu\xe9t th\xf4ng tin",open:l,onCancel:()=>{s(!1)},footer:null,width:"100%",style:{maxWidth:"600px"},children:[(0,n.jsxs)(m,{name:"file",multiple:!1,beforeUpload:e=>(d(URL.createObjectURL(e)),!0),onChange(e){let{status:t}=e.file;"done"===t?console.log(e):"error"===t&&console.log(e)},onDrop(e){console.log("Dropped files",e.dataTransfer.files)},showUploadList:!1,className:`${a?"hidden":""}`,children:[n.jsx("p",{className:"ant-upload-drag-icon flex justify-center items-center",children:n.jsx(_.LCy,{className:"text-6xl"})}),n.jsx("p",{className:"ant-upload-text",children:"Click or drag file to this area to upload"}),n.jsx("p",{className:"ant-upload-hint",children:"Support for a single or bulk upload. Strictly prohibited from uploading company data or other banned files."})]}),a&&(0,n.jsxs)("div",{style:{marginTop:20},className:"relative w-fit  rounded-md overflow-hidden",children:[n.jsx(c.ZP,{className:"absolute top-2 right-2 z-40",icon:n.jsx(f.Jvf,{className:" text-2xl  text-white hover:text-red-500"}),type:"text",onClick:()=>{d(null)}}),n.jsx(N.Z,{className:"w-full h-full object-contain",width:500,src:a,preview:!1}),(0,n.jsxs)("div",{className:` ${i?"absolute inset-0 z-50 bg-black/70 flex items-center gap-2 flex-col justify-center":"hidden"}`,children:[n.jsx("div",{className:"loader"}),n.jsx("p",{className:"text-white pt-4",children:"Đang nhận diện xin vui l\xf2ng chờ"})]})]}),n.jsx("div",{className:`flex w-full justify-end items-center mt-4 ${a?"":"hidden"}`,children:n.jsx(c.ZP,{className:"text-sm",type:"primary",onClick:()=>{u(a??"")},children:"Lấy th\xf4ng tin"})})]})]})}function S({refBtnCustomer:e}){let[t,l]=(0,g.useState)(),N=(0,g.useRef)(),[C,_]=(0,g.useState)(),{datas:k}=(0,y.v9)(e=>e.province_system),W=(0,g.useRef)(),{postdata:S}=(0,s.Z)(),T=(0,y.I0)(),{datas:F}=(0,y.v9)(e=>e.get_users),{datas:P}=(0,y.v9)(e=>e.get_group_customer),[V]=(0,Z.Z)(),[L,q]=(0,g.useState)(!1),O=async e=>{let t=(0,v.Z)(Object.entries({...e,picture_url:[C?.originFileObj]}).reduce((e,[t,l])=>(null!=l&&(e[t]=l),e),{})),l=await S(()=>a.Z.createInfoCustomer(t));(200===l||201===l)&&(V.resetFields(),q(!1),T((0,r.K)()),T((0,i.m)()))},U=(0,n.jsxs)("button",{style:{border:0,background:"none"},type:"button",children:[n.jsx(d.Z,{}),n.jsx("div",{style:{marginTop:8},children:"Upload"})]});return(0,n.jsxs)(n.Fragment,{children:[n.jsx(c.ZP,{hidden:!!e,className:"bg-blue-400 border-0 text-white font-semibold",icon:n.jsx(f.b0B,{}),onClick:()=>{q(!0)},ref:e,children:"Th\xeam kh\xe1ch h\xe0ng"}),(0,n.jsxs)(o.Z,{title:"Tạo kh\xe1ch h\xe0ng",open:L,onCancel:()=>{q(!1)},footer:null,width:"100%",style:{maxWidth:"800px"},children:[n.jsx(c.ZP,{onClick:()=>{N.current?.click()},icon:n.jsx(w.vfz,{}),children:"Qu\xe9t cccd"}),(0,n.jsxs)(h.Z,{layout:"vertical",onFinish:O,form:V,style:{display:"flex",flexWrap:"wrap",gap:"8px"},children:[(0,n.jsxs)("div",{className:"flex flex-wrap gap-2 h-fit w-fit rounded-lg p-1",children:[n.jsx(h.Z.Item,{name:"name_company",className:"!m-0",label:"T\xean c\xf4ng ty",rules:[{required:!0,message:"Vui l\xf2ng nhập t\xean c\xf4ng ty!"}],style:{minWidth:"320px",flex:"1 1 0%"},children:n.jsx(x.default,{})}),n.jsx(h.Z.Item,{name:"group_customer",label:"Nh\xf3m kh\xe1ch h\xe0ng",rules:[{required:!0,message:"Vui l\xf2ng nhập nh\xf3m kh\xe1ch h\xe0ng!"}],style:{minWidth:"320px",flex:"1 1 0%"},children:n.jsx(m.Z,{placeholder:"Chọn nh\xf3m",showSearch:!0,filterOption:(e,t)=>(Array.isArray(t?.children)?t.children.join(""):t?.children??"").toLowerCase().includes(e.toLowerCase()),dropdownRender:e=>(0,n.jsxs)(n.Fragment,{children:[e,n.jsx(u.Z,{style:{margin:"8px 0"}}),n.jsx(c.ZP,{type:"link",onClick:()=>{W.current?.click()},children:"+ Th\xeam t\xf9y chọn mới"})]}),children:P?.map(e=>n.jsx(j.W,{value:e.group_id,children:e.name_group},e.group_id))})}),n.jsx(h.Z.Item,{name:"tax_code",label:"M\xe3 số thuế",rules:[{required:!0,message:"Vui l\xf2ng nhập m\xe3 số thuế!"}],style:{minWidth:"320px",flex:"1 1 0%"},children:n.jsx(x.default,{})}),n.jsx(h.Z.Item,{name:"address_delivery",label:"Địa chỉ giao h\xe0ng",style:{minWidth:"320px",flex:"1 1 0%"},children:n.jsx(x.default,{})}),n.jsx(h.Z.Item,{name:"province",label:"Tỉnh/Th\xe0nh phố",rules:[{required:!0,message:"Vui l\xf2ng nhập tỉnh/th\xe0nh phố!"}],style:{minWidth:"320px",flex:"1 1 0%"},children:n.jsx(m.Z,{placeholder:"Chọn khu vực",children:k?.map(e=>n.jsx(j.W,{value:e.province_id,children:e.name_province},e.province_id))})}),n.jsx(h.Z.Item,{name:"phone_number",label:"Số điện thoại",rules:[{required:!0,message:"Vui l\xf2ng nhập số điện thoại!"}],style:{minWidth:"320px",flex:"1 1 0%"},children:n.jsx(x.default,{})}),n.jsx(h.Z.Item,{name:"type_money",label:"Loại tiền tệ",style:{minWidth:"320px",flex:"1 1 0%"},children:(0,n.jsxs)(m.Z,{placeholder:"Select a currency type",defaultValue:"vnd",children:[n.jsx(j.W,{value:"vnd",children:"VND"}),n.jsx(j.W,{value:"usd",children:"USD"})]})}),n.jsx(h.Z.Item,{name:"staff_support",label:"Nh\xe2n vi\xean hỗ trợ",style:{minWidth:"320px",flex:"1 1 0%"},children:n.jsx(m.Z,{placeholder:"Chọn nh\xe2n vi\xean",showSearch:!0,filterOption:(e,t)=>(t?.children?.join("")??"").toLowerCase().includes(e.toLowerCase()),children:F?.map(e=>n.jsxs(j.W,{value:e.user_id,children:[e.first_name," ",e.last_name]},e.user_id))})}),n.jsx(h.Z.Item,{name:"website",label:"Website",style:{minWidth:"320px",flex:"1 1 0%"},children:n.jsx(x.default,{})}),n.jsx(h.Z.Item,{name:"picture_url",label:"Ảnh đại diện",className:"!m-0",style:{minWidth:"320px",flex:"1 1 0%"},children:n.jsx(p.default,{maxCount:1,action:"",listType:"picture-card",onChange:({file:e})=>{_(e)},children:U})})]}),n.jsx(h.Z.Item,{style:{width:"100%",display:"flex",justifyContent:"end"},children:n.jsx(c.ZP,{type:"primary",htmlType:"submit",children:"Tạo"})})]})]}),n.jsx(I,{refBtnCustomer:N,setData:l}),n.jsx(b.Z,{refBtnGroup:W})]})}l(93025),l(284),l(48431)},50432:(e,t,l)=>{"use strict";l.d(t,{Z:()=>f});var n=l(97247),s=l(28964),i=l(77951),r=l(61410),a=l(12927),d=l(1880),c=l(77709),o=l(99539),h=l(69160),x=l(38043),m=l(67427),u=l(23102),p=l(6685),j=l(2987),g=l(26326);let f=({refBtnGroup:e})=>{let[t,l]=(0,s.useState)(!1),[f,y]=(0,s.useState)(""),[b,Z]=(0,s.useState)(-1),v=(0,u.I0)(),{datas:w}=(0,u.v9)(e=>e.get_group_customer),N=e=>{Z(e),I.setFieldsValue(w?.[e])},[C,_]=(0,s.useState)(!1),{postdata:k}=(0,o.Z)(),[W]=(0,h.Z)(),[I]=(0,h.Z)(),S=async()=>{200===await k(()=>p.Z.deleteGroupCustomer([f??""]))&&(v((0,j.V)()),y(""))},T=async e=>{try{let t=await k(()=>p.Z.createGroupCustomer(e));201===t&&(v((0,j.V)()),W.resetFields(),_(!1))}catch(e){console.error("Error creating product:",e)}},F=async e=>{try{let t=await k(()=>p.Z.updateGroupCustomer(w?.[b??0].group_id,e));200===t&&(v((0,j.V)()),v((0,g.K)()),Z(-1))}catch(e){console.error("Error creating product:",e)}};return(0,n.jsxs)(n.Fragment,{children:[n.jsx(i.ZP,{hidden:!!e,className:"bg-blue-400 border-0 text-white font-semibold",onClick:()=>{l(!0)},ref:e,children:"Nh\xf3m kh\xe1ch h\xe0ng"}),n.jsx(r.Z,{title:(0,n.jsxs)("div",{style:{display:"flex",gap:"5px",alignItems:"center"},children:[n.jsx("span",{children:"Nh\xf3m kh\xe1ch h\xe0ng"}),n.jsx(i.ZP,{className:"text-white font-semibold bg-orange-500",icon:n.jsx(x.gyF,{}),type:"default",onClick:()=>{W.resetFields(),_(!C)}})]}),open:t,onCancel:()=>{l(!1)},footer:null,width:"100%",style:{maxWidth:"800px"},children:(0,n.jsxs)("div",{className:"flex flex-col gap-2",children:[n.jsx("div",{className:"bg-slate-200 px-1 py-2 rounded-md",hidden:!C,children:(0,n.jsxs)(a.Z,{form:W,onFinish:T,style:{display:"flex",flexWrap:"wrap",gap:"8px"},children:[n.jsx(a.Z.Item,{name:"name_group",rules:[{required:!0,message:"Vui l\xf2ng nhập t\xean nh\xf3m"}],style:{flex:"1 1 0%",margin:"0"},children:n.jsx(d.default,{placeholder:"Nhập t\xean nh\xf3m"})}),n.jsx(a.Z.Item,{style:{display:"flex",justifyContent:"end",margin:"0"},children:n.jsx(i.ZP,{className:"bg-green-500 text-white font-semibold",onClick:()=>{W.submit()},children:"Th\xeam"})})]})}),n.jsx("div",{className:"bg-slate-200 px-1 py-2 rounded-md",hidden:!(b>-1),children:(0,n.jsxs)(a.Z,{form:I,onFinish:F,style:{display:"flex",flexWrap:"wrap",gap:"8px"},children:[n.jsx(a.Z.Item,{name:"name_group",rules:[{required:!0,message:"Vui l\xf2ng nhập t\xean nh\xf3m"}],style:{flex:"1 1 0%",margin:"0"},children:n.jsx(d.default,{placeholder:"Nhập t\xean nh\xf3m"})}),(0,n.jsxs)(a.Z.Item,{style:{display:"flex",gap:"2px",justifyContent:"end",margin:"0"},children:[n.jsx(i.ZP,{className:"bg-yellow-500 text-white font-semibold",htmlType:"submit",children:"Cập nhật"}),n.jsx(i.ZP,{className:"bg-red-500 text-white font-semibold",onClick:()=>{Z(-1)},children:"Huỷ"})]})]})}),n.jsx("div",{className:"border-t-2 w-full overflow-x-auto",children:n.jsx("div",{className:"w-full",children:n.jsx(c.Z,{columns:[{title:"M\xe3 nh\xf3m",dataIndex:"group_id",key:"group_id",render:(e,t,l)=>(0,n.jsxs)("div",{className:"flex gap-1 items-center",children:["#",l+1,".",e]})},{title:"T\xean nh\xf3m",dataIndex:"name_group",width:"50%",key:"name_group",render:(e,t,l)=>n.jsx(n.Fragment,{children:(0,n.jsxs)("strong",{className:"flex gap-2 items-center",children:[e,n.jsx(i.ZP,{type:"link",onClick:()=>{N(l)},icon:n.jsx(m.FNg,{})}),n.jsx(i.ZP,{className:"  text-xs text-red-500 font-semibold",type:"text",onClick:()=>y(t?.group_id),children:"X\xf3a"})]})})}],scroll:{x:"max-content"},className:"custom-table",dataSource:w,pagination:{pageSize:10,showTotal:(e,t)=>`${t[0]}-${t[1]} of ${e} items`},showSorterTooltip:{target:"sorter-icon"}})})})]})}),n.jsx(r.Z,{open:""!==f,title:"X\xf3a dữ liệu",onOk:S,onCancel:()=>{y("")},children:"Bạn c\xf3 chắc chắn muốn x\xf3a kh\xf4ng ?"})]})}},46342:()=>{}};