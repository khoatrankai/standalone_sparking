"use strict";exports.id=1580,exports.ids=[1580],exports.modules={61580:(e,t,l)=>{l.d(t,{Z:()=>Y});var a=l(97247),s=l(28964),n=l(41479),i=l(94163),r=l(77951),d=l(61410),c=l(77709),o=l(68977),h=l(36971),x=l(35890);let p=()=>{let[e,t]=(0,s.useState)(!1),[l,n]=(0,s.useState)(),[i,p]=(0,s.useState)([]),m=e=>{e&&""!==e&&n(e)};(0,s.useEffect)(()=>{let e=async e=>{let t=await h.Z.getCodeID(e);200===t.statusCode&&p([t.data,...i])};if(l&&""!==l){let t=l.split("@");i?.find(e=>e.code.includes(t?.[0]))||2!==t.length||e(t[0])}},[l]),(0,s.useEffect)(()=>{console.log(i)},[i]);let u=async()=>{p([]),t(!1)},g=[{title:"ID sản phẩm",dataIndex:"code_product_id",key:"code_product_id"},{title:"M\xe3 sản phẩm",dataIndex:"code",key:"code"},{title:"T\xean sản phẩm",dataIndex:["product","name"],key:"name"},{title:"Trạng th\xe1i",dataIndex:"status",key:"status",render:e=>{let t="",l="";switch(e){case"inventory":t="bg-blue-500",l="Lưu kho";break;case"selled":t="bg-purple-500",l="Đ\xe3 b\xe1n";break;case"borrowed":t="bg-orange-500",l="Đ\xe3 thu\xea";break;case"export":t="bg-yellow-500",l="Đ\xe3 xuất kho";break;case"error":t="bg-red-500",l="Lỗi";break;default:t="bg-gray-500",l="Kh\xf4ng x\xe1c định"}return a.jsx("div",{className:`flex items-center gap-1 ${t} text-white px-2 font-bold justify-center rounded-md`,children:l})}}];return(0,a.jsxs)(a.Fragment,{children:[a.jsx(r.ZP,{onClick:()=>{t(!e)},icon:a.jsx(o.TlQ,{})}),e&&a.jsx(a.Fragment,{children:a.jsx(d.Z,{title:"Qu\xe9t check sản phẩm",open:e,onCancel:u,footer:null,width:"100%",style:{maxWidth:"1000px"},children:(0,a.jsxs)("div",{className:"flex flex-wrap",children:[a.jsx("div",{className:"w-72 h-72",children:a.jsx(x.ZY,{onScan:e=>{console.log(e),e.length>0&&m(e[0].rawValue)}})}),a.jsx(c.Z,{columns:g,className:"flex-1 min-w-96",dataSource:i,scroll:{x:"max-content"},pagination:{pageSize:10,showTotal:(e,t)=>`${t[0]}-${t[1]} of ${e} items`},showSorterTooltip:{target:"sorter-icon"}})]})})})]})};var m=l(52043),u=l(8919),g=l(23102),j=l(56643),f=l(24898),y=l(12927),w=l(1880),b=l(99539),Z=l(69160),v=l(38043),N=l(67427),_=l(95856),C=l(35576);let k=({refBtnClassify:e})=>{let[t,l]=(0,s.useState)(!1),[n,i]=(0,s.useState)(-1),o=(0,g.I0)(),{datas:x}=(0,g.v9)(e=>e.get_classify_type),p=e=>{i(e),k.setFieldsValue(x?.[e])},[m,u]=(0,s.useState)(!1),{postdata:j}=(0,b.Z)(),[f]=(0,Z.Z)(),[k]=(0,Z.Z)(),[S,I]=(0,s.useState)(""),T=async()=>{200===await j(()=>h.Z.deleteClassifyType([S??""]))&&(o((0,_.T)()),I(""))},L=async e=>{try{let t=await j(()=>h.Z.createClassify(e));201===t&&(o((0,_.T)()),f.resetFields(),u(!1))}catch(e){console.error("Error creating product:",e)}},F=async e=>{try{let t=await j(()=>h.Z.updateClassify(x?.[n??0].classify_id??"",e));200===t&&(o((0,_.T)()),o((0,C.Q)()),i(-1))}catch(e){console.error("Error creating product:",e)}};return(0,a.jsxs)(a.Fragment,{children:[a.jsx(r.ZP,{hidden:!!e,className:"bg-blue-400 border-0 text-white font-semibold",onClick:()=>{l(!0)},ref:e,children:"Ph\xe2n loại"}),a.jsx(d.Z,{title:(0,a.jsxs)("div",{style:{display:"flex",gap:"5px",alignItems:"center"},children:[a.jsx("span",{children:"Ph\xe2n loại"}),a.jsx(r.ZP,{className:"text-white font-semibold bg-orange-500",icon:a.jsx(v.gyF,{}),type:"default",onClick:()=>{f.resetFields(),u(!m)}})]}),open:t,onCancel:()=>{l(!1)},footer:null,width:"100%",style:{maxWidth:"800px"},children:(0,a.jsxs)("div",{className:"flex flex-col gap-2",children:[a.jsx("div",{className:"bg-slate-200 px-1 py-2 rounded-md",hidden:!m,children:(0,a.jsxs)(y.Z,{form:f,onFinish:L,style:{display:"flex",flexWrap:"wrap",gap:"8px"},children:[a.jsx(y.Z.Item,{name:"name",rules:[{required:!0,message:"Vui l\xf2ng nhập t\xean loại"}],style:{flex:"1 1 0%",margin:"0"},children:a.jsx(w.default,{placeholder:"Nhập t\xean loại"})}),a.jsx(y.Z.Item,{name:"description",rules:[{required:!0,message:"Vui l\xf2ng nhập m\xf4 tả"}],style:{flex:"1 1 0%",margin:"0"},children:a.jsx(w.default.TextArea,{autoSize:{minRows:1},placeholder:"Nhập m\xf4 tả"})}),a.jsx(y.Z.Item,{style:{display:"flex",justifyContent:"end",margin:"0"},children:a.jsx(r.ZP,{className:"bg-green-500 text-white font-semibold",onClick:()=>{f.submit()},children:"Th\xeam"})})]})}),a.jsx("div",{className:"bg-slate-200 px-1 py-2 rounded-md",hidden:!(n>-1),children:(0,a.jsxs)(y.Z,{form:k,onFinish:F,style:{display:"flex",flexWrap:"wrap",gap:"8px"},children:[a.jsx(y.Z.Item,{name:"name",rules:[{required:!0,message:"Vui l\xf2ng nhập t\xean loại"}],style:{flex:"1 1 0%",margin:"0"},children:a.jsx(w.default,{placeholder:"Nhập t\xean loại"})}),a.jsx(y.Z.Item,{name:"description",rules:[{required:!0,message:"Vui l\xf2ng nhập m\xf4 tả"}],style:{flex:"1 1 0%",margin:"0"},children:a.jsx(w.default.TextArea,{autoSize:{minRows:1},placeholder:"Nhập m\xf4 tả"})}),(0,a.jsxs)(y.Z.Item,{style:{display:"flex",gap:"2px",justifyContent:"end",margin:"0"},children:[a.jsx(r.ZP,{className:"bg-yellow-500 text-white font-semibold",htmlType:"submit",children:"Cập nhật"}),a.jsx(r.ZP,{className:"bg-red-500 text-white font-semibold",onClick:()=>{i(-1)},children:"Huỷ"})]})]})}),a.jsx("div",{className:"border-t-2 w-full overflow-x-auto",children:a.jsx("div",{className:"w-full",children:a.jsx(c.Z,{columns:[{title:"T\xean ph\xe2n loại",dataIndex:"name",width:"35%",key:"name",render:e=>a.jsx(a.Fragment,{children:a.jsx("strong",{className:"flex gap-2 items-center",children:e})})},{title:"M\xf4 tả",dataIndex:"description",width:"40%",key:"description",render:(e,t,l)=>a.jsx(a.Fragment,{children:(0,a.jsxs)("strong",{className:"flex gap-2 items-center",children:[e,a.jsx(r.ZP,{type:"link",onClick:()=>{p(l)},icon:a.jsx(N.FNg,{})}),a.jsx(r.ZP,{className:"  text-xs text-red-500 font-semibold",type:"text",onClick:()=>I(t?.classify_id??""),children:"X\xf3a"})]})})}],scroll:{x:"max-content"},className:"custom-table",dataSource:x,pagination:{pageSize:10,showTotal:(e,t)=>`${t[0]}-${t[1]} of ${e} items`},showSorterTooltip:{target:"sorter-icon"}})})})]})}),a.jsx(d.Z,{open:""!==S,title:"X\xf3a dữ liệu",onOk:T,onCancel:()=>{I("")},children:"Bạn c\xf3 chắc chắn muốn x\xf3a kh\xf4ng ?"})]})};function S(){let{datas:e}=(0,g.v9)(e=>e.about_product);return(0,a.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,a.jsxs)("div",{className:"flex gap-1 flex-wrap",children:[a.jsx(i.Z,{}),a.jsx(m.Z,{}),a.jsx(k,{}),a.jsx(u.Z,{}),a.jsx(j.Z,{}),a.jsx(f.Z,{}),a.jsx(p,{})]}),(0,a.jsxs)("div",{children:[a.jsx("h2",{className:"font-semibold text-[#1BA399]",children:"Tổng quan sản phẩm"}),(0,a.jsxs)("div",{className:"flex justify-around gap-2 flex-wrap",children:[(0,a.jsxs)(n.Z,{className:"lex flex-col pl-4 pt-8 rounded-lg gap-2 min-w-fit flex-1 h-32 border-0 bg-[#EB8823] shadow-lg shadow-black/20 bg-black/80",children:[a.jsx("p",{className:"font-bold text-3xl text-white",children:e?.quantity_product.toLocaleString("vi-VN")}),a.jsx("p",{className:"text-xs text-wrap text-slate-50/80 min-w-36",children:"Tổng số sản phẩm"})]}),(0,a.jsxs)(n.Z,{className:"lex flex-col pl-4 pt-8 rounded-lg gap-2 min-w-fit flex-1 h-32 bg-[#EB8823] border-0 shadow-lg  shadow-black/20",children:[a.jsx("p",{className:"font-bold text-3xl text-white",children:e?.quantity_active.toLocaleString("vi-VN")}),a.jsx("p",{className:"text-xs text-wrap text-slate-50/80 min-w-36",children:"Sản phẩm đang b\xe1n"})]}),(0,a.jsxs)(n.Z,{className:"lex flex-col pl-4 pt-8 rounded-lg gap-2 min-w-fit flex-1 h-32 bg-[#EB8823] border-0 shadow-lg  shadow-black/20",children:[a.jsx("p",{className:"font-bold text-3xl text-white",children:e?.quantity_hide.toLocaleString("vi-VN")}),a.jsx("p",{className:"text-xs text-wrap text-slate-50/80 min-w-36",children:"Sản phẩm ngưng b\xe1n"})]}),(0,a.jsxs)(n.Z,{className:"lex flex-col pl-4 pt-8 rounded-lg gap-2 min-w-fit flex-1 h-32 bg-[#EB8823] border-0 shadow-lg  shadow-black/20",children:[a.jsx("p",{className:"font-bold text-3xl text-white",children:e?.quantity_hire.toLocaleString("vi-VN")}),a.jsx("p",{className:"text-xs text-wrap text-slate-50/80 min-w-36",children:"Số lượng sản phẩm cho thu\xea"})]}),(0,a.jsxs)(n.Z,{className:"lex flex-col pl-4 pt-8 rounded-lg gap-2 min-w-fit flex-1 h-32 bg-[#EB8823] border-0 shadow-lg  shadow-black/20",children:[a.jsx("p",{className:"font-bold text-3xl text-white",children:e?.quantity_stored.toLocaleString("vi-VN")}),a.jsx("p",{className:"text-xs text-wrap text-slate-50/80 min-w-36",children:"Số lượng sản phẩm tồn kho"})]}),(0,a.jsxs)(n.Z,{className:"lex flex-col pl-4 pt-8 rounded-lg gap-2 min-w-fit flex-1 h-32 bg-[#EB8823] border-0 shadow-lg  shadow-black/20",children:[a.jsx("p",{className:"font-bold text-3xl text-white",children:e?.quantity_ordered.toLocaleString("vi-VN")}),a.jsx("p",{className:"text-xs text-wrap text-slate-50/80 min-w-36",children:"Số lượng sản phẩm đ\xe3 b\xe1n"})]})]})]})]})}var I=l(93104),T=l(39884),L=l(96538),F=l(77784),P=l(82140),W=l(95718),V=l(65794),q=l(88506),A=l(75003),R=l(34258),$=l(41201),B=l(48738),D=l(75142),O=l(19938);let E=({productID:e,fetchListCode:t})=>{let[l,n]=(0,s.useState)(null),i=async()=>{let l=await h.Z.createCodeProduct(e);201===l.statusCode&&(n(String(l.data.code)),t())};return(0,a.jsxs)(a.Fragment,{children:[a.jsx(r.ZP,{onClick:()=>{i()},icon:a.jsx(o.TlQ,{})}),a.jsx(d.Z,{title:"QR Code sản phẩm",open:!!l,onCancel:()=>{n(null)},footer:null,width:"100%",style:{maxWidth:"fit-content"},children:a.jsx(O.Z,{value:l||"-"})})]})};var Q=l(48176),z=l(53690),M=l(2563);let X=e=>new Promise((t,l)=>{let a=new FileReader;a.readAsDataURL(e),a.onload=()=>t(a.result),a.onerror=e=>l(e)}),K=e=>{let[t,l]=(0,s.useState)([]),n=(0,s.useRef)(),i=(0,s.useRef)(),o=(0,s.useRef)(),x=(0,s.useRef)(),p=(0,s.useRef)(),[v,N]=(0,s.useState)([]),{datas:_}=(0,g.v9)(e=>e.get_profits),[k,S]=(0,s.useState)(!1),{postdata:I}=(0,b.Z)(),L=(0,g.I0)(),O=async()=>{let t=await h.Z.getProductsID(e.productID);console.log(t),200===t.statusCode&&(L((0,C.Q)()),L((0,Q.N)()),N(t.data))},K=[{title:"ID sản phẩm",dataIndex:"code_product_id",key:"code_product_id"},{title:"M\xe3 sản phẩm",dataIndex:"code",key:"code"},{title:"Trạng th\xe1i",dataIndex:"status",key:"status",render:e=>{let t="",l="";switch(e){case"inventory":t="bg-blue-500",l="Lưu kho";break;case"selled":t="bg-purple-500",l="Đ\xe3 b\xe1n";break;case"borrowed":t="bg-orange-500",l="Đ\xe3 thu\xea";break;case"export":t="bg-yellow-500",l="Đ\xe3 xuất kho";break;case"error":t="bg-red-500",l="Lỗi";break;default:t="bg-gray-500",l="Kh\xf4ng x\xe1c định"}return a.jsx("div",{className:`flex items-center gap-1 ${t} text-white px-2 font-bold justify-center rounded-md`,children:l})}}],{datas:U}=(0,g.v9)(e=>e.type_product),{datas:G}=(0,g.v9)(e=>e.get_supplier),{datas:H}=(0,g.v9)(e=>e.brand_product),{datas:Y}=(0,g.v9)(e=>e.original_product),[J]=(0,Z.Z)(),{datas:ee}=(0,g.v9)(e=>e.vat_system),{datas:et}=(0,g.v9)(e=>e.unit_product),el=async()=>{let t=await h.Z.getProductID(e.productID);200===t.statusCode&&(J.setFieldsValue({...t.data,type:t.data?.type?.type_product_id,brand:t.data?.brand?.brand_id,original:t.data?.original?.original_id,unit_product:t.data?.unit_product?.unit_id,supplier_product:t.data.supplier_product?.supplier_id}),eo(t.data?.picture_urls?.map(e=>({uid:e?.picture_id,name:"",status:"done",url:e?.url}))),l(t.data.details))},[ea,es]=(0,s.useState)(!1),[en,ei]=(0,s.useState)(""),[er,ed]=(0,s.useState)([]),[ec,eo]=(0,s.useState)([]),eh=async e=>{e.url||e.preview||(e.preview=await X(e.originFileObj)),ei(e.url||e.preview),es(!0)},ex=async l=>{let a=ec.map(e=>e.originFileObj),s={...l,images:a.filter(e=>void 0!==e),details:t},n=(0,B.Z)(s);try{let t=await I(()=>h.Z.updateProductInfo(e.productID,n,er));200===t&&(L((0,C.Q)()),L((0,Q.N)()),S(!1))}catch(e){console.error("Error creating product:",e)}},ep=(0,a.jsxs)("button",{style:{border:0,background:"none"},type:"button",children:[a.jsx(F.Z,{}),a.jsx("div",{style:{marginTop:8},children:"Upload"})]});return(0,a.jsxs)(a.Fragment,{children:[a.jsx(r.ZP,{className:"  text-xs text-yellow-500 font-semibold",type:"text",onClick:()=>{S(!0),el(),O()},children:"Chỉnh sửa"}),(0,a.jsxs)(d.Z,{title:"Cập nhật sản phẩm",open:k,onCancel:()=>{S(!1)},footer:null,width:"100%",style:{maxWidth:"800px"},children:[(0,a.jsxs)(P.Z,{defaultActiveKey:"1",style:{width:"100%"},type:"line",children:[a.jsx(D.Z,{tab:"Th\xf4ng tin sản phẩm",children:(0,a.jsxs)(y.Z,{layout:"vertical",form:J,onFinish:ex,style:{display:"flex",flexWrap:"wrap",gap:"12px"},children:[a.jsx(y.Z.Item,{name:"name",className:"!m-0",label:"T\xean sản phẩm",rules:[{required:!0,message:"Vui l\xf2ng nhập t\xean sản phẩm!"}],style:{width:"100%"},children:a.jsx(w.default,{placeholder:"T\xean sản phẩm"})}),a.jsx(y.Z.Item,{name:"code_original",className:"!m-0",label:"M\xe3 sản phẩm",rules:[{required:!0,message:"Vui l\xf2ng nhập m\xe3 sản phẩm!"}],style:{minWidth:"240px",flex:"1 1 0%"},children:a.jsx(w.default,{placeholder:"M\xe3 sản phẩm"})}),a.jsx(y.Z.Item,{name:"supplier_product",className:"!m-0",label:"Nh\xe0 cung cấp",style:{minWidth:"240px",flex:"1 1 0%"},children:a.jsx(T.Z,{placeholder:"Chọn nh\xe0 cung cấp",showSearch:!0,filterOption:(e,t)=>(Array.isArray(t?.children)?t.children.join(""):t?.children??"").toLowerCase().includes(e.toLowerCase()),dropdownRender:e=>(0,a.jsxs)(a.Fragment,{children:[e,a.jsx(W.Z,{style:{margin:"8px 0"}}),a.jsx(r.ZP,{type:"link",onClick:()=>{n.current?.click()},children:"+ Th\xeam t\xf9y chọn mới"})]}),children:G?.map(e=>a.jsx($.W,{value:e.supplier_id,children:e.name},e.supplier_id))})}),a.jsx(y.Z.Item,{name:"type",className:"!m-0",label:"Loại sản phẩm",style:{minWidth:"240px",flex:"1 1 0%"},children:a.jsx(T.Z,{placeholder:"Chọn loại",showSearch:!0,filterOption:(e,t)=>(Array.isArray(t?.children)?t.children.join(""):t?.children??"").toLowerCase().includes(e.toLowerCase()),dropdownRender:e=>(0,a.jsxs)(a.Fragment,{children:[e,a.jsx(W.Z,{style:{margin:"8px 0"}}),a.jsx(r.ZP,{type:"link",onClick:()=>{p.current?.click()},children:"+ Th\xeam t\xf9y chọn mới"})]}),children:U?.map(e=>a.jsx($.W,{value:e.type_product_id,children:e.name},e.type_product_id))})}),a.jsx(y.Z.Item,{name:"price",className:"!m-0 flex",label:"Gi\xe1 trị",rules:[{required:!0,message:"Vui l\xf2ng nhập gi\xe1 trị!"}],style:{minWidth:"320px",flex:"1 1 0%"},children:a.jsx(V.Z,{defaultValue:0,className:"w-full"})}),a.jsx(y.Z.Item,{name:"warranty",className:"!m-0 flex",label:"Bảo h\xe0nh(*th\xe1ng)",rules:[{required:!0,message:"Vui l\xf2ng nhập gi\xe1 trị!"}],style:{minWidth:"320px",flex:"1 1 0%"},children:a.jsx(V.Z,{defaultValue:0,className:"w-full"})}),a.jsx(y.Z.Item,{name:"description",label:"M\xf4 tả",rules:[{required:!0,message:"Vui l\xf2ng nhập th\xf4ng tin m\xf4 tả"}],style:{width:"100%",margin:"0"},children:a.jsx(R.Z,{placeholder:"M\xf4 tả",autoSize:{minRows:3}})}),a.jsx(y.Z.Item,{name:"vat",className:"!m-0",label:"Thuế",style:{minWidth:"240px",flex:"1 1 0%"},children:a.jsx(T.Z,{placeholder:"Chọn loại thuế",showSearch:!0,filterOption:(e,t)=>(Array.isArray(t?.children)?t.children.join(""):t?.children??"").toLowerCase().includes(e.toLowerCase()),children:ee?.map(e=>a.jsxs($.W,{value:e.vat_id,children:[e.type_vat,"%"]},e.vat_id))})}),a.jsx(y.Z.Item,{name:"brand",className:"!m-0",label:"Thương hiệu",style:{minWidth:"240px",flex:"1 1 0%"},children:a.jsx(T.Z,{placeholder:"Chọn loại thương hiệu",showSearch:!0,filterOption:(e,t)=>(Array.isArray(t?.children)?t.children.join(""):t?.children??"").toLowerCase().includes(e.toLowerCase()),dropdownRender:e=>(0,a.jsxs)(a.Fragment,{children:[e,a.jsx(W.Z,{style:{margin:"8px 0"}}),a.jsx(r.ZP,{type:"link",onClick:()=>{i.current?.click()},children:"+ Th\xeam t\xf9y chọn mới"})]}),children:H?.map(e=>a.jsx($.W,{value:e.brand_id,children:e.name},e.brand_id))})}),a.jsx(y.Z.Item,{name:"original",className:"!m-0",label:"Xuất xứ",style:{minWidth:"240px",flex:"1 1 0%"},children:a.jsx(T.Z,{placeholder:"Chọn loại xuất xứ",showSearch:!0,filterOption:(e,t)=>(Array.isArray(t?.children)?t.children.join(""):t?.children??"").toLowerCase().includes(e.toLowerCase()),dropdownRender:e=>(0,a.jsxs)(a.Fragment,{children:[e,a.jsx(W.Z,{style:{margin:"8px 0"}}),a.jsx(r.ZP,{type:"link",onClick:()=>{o.current?.click()},children:"+ Th\xeam t\xf9y chọn mới"})]}),children:Y?.map(e=>a.jsx($.W,{value:e.original_id,children:e.name},e.original_id))})}),a.jsx(y.Z.Item,{name:"profit",className:"!m-0",label:"Lợi nhuận",style:{minWidth:"240px",flex:"1 1 0%"},children:a.jsx(T.Z,{placeholder:"Chọn loại lợi nhuận",showSearch:!0,filterOption:(e,t)=>(Array.isArray(t?.children)?t.children.join(""):t?.children??"").toLowerCase().includes(e.toLowerCase()),children:_?.map(e=>a.jsxs($.W,{value:e.profit_id,children:[e.type_profit,"%"]},e.profit_id))})}),a.jsx(y.Z.Item,{name:"unit_product",className:"!m-0",label:"Đơn vị sản phẩm",style:{minWidth:"240px",flex:"1 1 0%"},children:a.jsx(T.Z,{placeholder:"Chọn loại đơn vị",showSearch:!0,filterOption:(e,t)=>(Array.isArray(t?.children)?t.children.join(""):t?.children??"").toLowerCase().includes(e.toLowerCase()),dropdownRender:e=>(0,a.jsxs)(a.Fragment,{children:[e,a.jsx(W.Z,{style:{margin:"8px 0"}}),a.jsx(r.ZP,{type:"link",onClick:()=>{x.current?.click()},children:"+ Th\xeam t\xf9y chọn mới"})]}),children:et?.map(e=>a.jsx($.W,{value:e.unit_id,children:e.name_unit},e.unit_id))})}),(0,a.jsxs)(y.Z.Item,{label:"Ảnh sản phẩm",className:"!m-0",style:{minWidth:"320px",flex:"1 1 0%"},children:[a.jsx(q.default,{action:"",listType:"picture-card",fileList:ec,onPreview:eh,onChange:({fileList:e})=>{eo(e)},onRemove:e=>{ed([...er,e.uid])},multiple:!0,children:ec.length>=5?null:ep}),en&&a.jsx(A.Z,{alt:"ha",wrapperStyle:{display:"none"},preview:{visible:ea,onVisibleChange:e=>es(e),afterOpenChange:e=>!e&&ei("")},src:en})]})]})},1),a.jsx(D.Z,{tab:"Th\xf4ng số kỹ thuật",children:a.jsx(M.Z,{data:t,setData:l})},2),(0,a.jsxs)(D.Z,{tab:"Số lượng sản phẩm",children:[a.jsx(E,{productID:e.productID,fetchListCode:O}),a.jsx(c.Z,{columns:K,dataSource:v,scroll:{x:"max-content"},pagination:{pageSize:10,showTotal:(e,t)=>`${t[0]}-${t[1]} of ${e} items`},showSorterTooltip:{target:"sorter-icon"}})]},3)]}),a.jsx("div",{style:{width:"100%",display:"flex",justifyContent:"end"},children:a.jsx(r.ZP,{type:"primary",onClick:()=>{J.submit()},children:"Cập nhật"})})]}),a.jsx(z.Z,{refBtnSupplier:n}),a.jsx(f.Z,{refBtnOriginal:o}),a.jsx(j.Z,{refBtnBrand:i}),a.jsx(m.Z,{refBtnType:p}),a.jsx(u.Z,{refBtnUnit:x})]})};var U=l(16523),G=l(67552);function H(){let{postdata:e}=(0,b.Z)(),t=(0,G.Z)(["admin-top","product","product-edit"]),l=(0,g.I0)(),{datas:n}=(0,g.v9)(e=>e.vat_system),{datas:i}=(0,g.v9)(e=>e.get_profits),[o,x]=(0,s.useState)(25),[p,m]=(0,s.useState)(),{datas:u}=(0,g.v9)(e=>e.info_products),j=[{title:"#",className:"",dataIndex:"code_original",render:(e,l)=>(0,a.jsxs)("div",{className:"flex flex-col gap-1 ",children:[(0,a.jsxs)("strong",{children:["#",`${e??"".slice(0,10)}...`]}),a.jsx("div",{className:"flex gap-2",children:t&&a.jsx(K,{productID:l.product_id})})]}),sorter:(e,t)=>(e.code_original??"").localeCompare(t.code_original??"")},{title:"T\xean sản phẩm",className:"",dataIndex:"name",render:e=>a.jsx(a.Fragment,{children:e.length>15?`${e.slice(0,15)}...`:e}),sorter:(e,t)=>e.name.localeCompare(t.name)},{title:"Loại sản phẩm",className:"",dataIndex:["type","name"],sorter:(e,t)=>e.type.name.localeCompare(t.type.name),render:e=>a.jsx(a.Fragment,{children:e})},{title:"Gi\xe1 trị",className:"",dataIndex:"price",render:e=>`${e.toLocaleString("vi-VN")}đ`,sorter:(e,t)=>e.price-t.price},{title:"Thuế",className:"",dataIndex:"vat",sorter:(e,t)=>(e.vat??"").localeCompare(t.vat??""),render:e=>(0,a.jsxs)(a.Fragment,{children:[n?.find(t=>t.vat_id===e)?.type_vat,"%"]})},{title:"Lợi nhuận",className:"",dataIndex:"profit",sorter:(e,t)=>(e.profit??"").localeCompare(t.profit??""),render:e=>(0,a.jsxs)(a.Fragment,{children:[i?.find(t=>t.profit_id===e)?.type_profit,"%"]})},{title:"Trạng th\xe1i",className:"",dataIndex:"status",render:(t,s)=>a.jsx(a.Fragment,{children:a.jsx(I.Z,{defaultChecked:"active"===t,onChange:async t=>{200===await e(()=>h.Z.updateStatusProduct(s.product_id,t?"active":"hide"))&&l((0,Q.N)())}})}),sorter:(e,t)=>e.status.localeCompare(t.status)},{title:"Số lượng",className:"",dataIndex:"quantity",sorter:(e,t)=>e.quantity-t.quantity},{title:"Đơn vị",className:"",dataIndex:["unit_product","name_unit"],sorter:(e,t)=>e.unit_product.name_unit.localeCompare(t.unit_product.name_unit),render:e=>a.jsx(a.Fragment,{children:e})}],f=e=>{m(u?.filter(t=>String(t.code_original+" "+t.name+" "+t.type+" "+t.price+" "+t.quantity).toLowerCase().includes(e.toLowerCase())))},[y,w]=(0,s.useState)(!1),[Z,v]=(0,s.useState)([]),N=async()=>{200===await e(()=>h.Z.deleteProducts(Z))&&(l((0,C.Q)()),v([]),w(!1))};return(0,a.jsxs)("div",{className:"",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-2 flex-wrap gap-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[a.jsx(T.Z,{defaultValue:o,style:{width:83},onChange:e=>x(e),options:[{value:10,label:10},{value:25,label:25},{value:50,label:50},{value:100,label:100},{value:500,label:500},{value:1e3,label:1e3},{value:1e8,label:"All"}]}),a.jsx(r.ZP,{hidden:!(Z.length>0),children:"Xuất ra"}),a.jsx(r.ZP,{onClick:()=>{w(!0)},danger:!0,hidden:!(Z.length>0),className:"text-xl",icon:a.jsx(U.FH3,{})}),a.jsx(d.Z,{open:y,title:"X\xf3a dữ liệu",onOk:N,onCancel:()=>{w(!1)},children:"Bạn c\xf3 chắc chắn muốn x\xf3a kh\xf4ng ?"})]}),a.jsx("div",{className:"flex items-center",children:a.jsx(L.Z,{onChange:e=>{f(e.target.value)},placeholder:"Search",style:{width:200}})})]}),a.jsx("div",{className:"w-full overflow-auto",children:a.jsx("div",{className:"min-w-fit",children:a.jsx(c.Z,{columns:j,rowSelection:{onChange:(e,t)=>{v(t.map(e=>e.product_id??""))}},dataSource:p,scroll:{x:"max-content"},pagination:{pageSize:o,showTotal:(e,t)=>`${t[0]}-${t[1]} of ${e} items`},showSorterTooltip:{target:"sorter-icon"}})})})]})}function Y(){let e=(0,G.Z)(["admin-top","product","product-edit"]);return a.jsx("div",{children:(0,a.jsxs)("div",{className:"flex flex-col gap-4 rounded-md p-4 shadow-[0_8px_30px_rgb(0,0,0,0.12)] bg-white",children:[e&&a.jsx("div",{className:"rounded-md",children:a.jsx(S,{})}),a.jsx("div",{className:"rounded-md",children:a.jsx(H,{})})]})})}}};