exports.id=3299,exports.ids=[3299],exports.modules={49509:(e,t,l)=>{"use strict";l.d(t,{Z:()=>a});var n=l(97247),s=l(82547),i=l(77951);function a(){return n.jsx(s.ZP,{status:"403",title:"403",subTitle:"Sorry, you are not authorized to access this page.",extra:n.jsx(i.ZP,{type:"primary",children:"Quay lại"})})}l(28964)},94163:(e,t,l)=>{"use strict";l.d(t,{Z:()=>A});var n=l(97247),s=l(28964),i=l(77784),a=l(77951),r=l(61410),d=l(82140),c=l(12927),o=l(1880),h=l(39884),x=l(95718),m=l(65794),p=l(88506),u=l(75003),g=l(34258),j=l(41201),y=l(36971),f=l(48738),Z=l(99539),w=l(98065),b=l(69160),N=l(23102),v=l(35576),C=l(48176),k=l(53690),_=l(24898),I=l(56643),T=l(52043),S=l(8919),F=l(75142),P=l(2563);let W=e=>new Promise((t,l)=>{let n=new FileReader;n.readAsDataURL(e),n.onload=()=>t(n.result),n.onerror=e=>l(e)}),A=({refBtnProduct:e})=>{let[t,l]=(0,s.useState)([]),A=(0,s.useRef)(),L=(0,s.useRef)(),V=(0,s.useRef)(),O=(0,s.useRef)(),q=(0,s.useRef)(),[R,B]=(0,s.useState)(!1),$=(0,N.I0)(),{postdata:z}=(0,Z.Z)(),{datas:M}=(0,N.v9)(e=>e.type_product),{datas:X}=(0,N.v9)(e=>e.brand_product),{datas:E}=(0,N.v9)(e=>e.original_product),{datas:Q}=(0,N.v9)(e=>e.get_profits),{datas:U}=(0,N.v9)(e=>e.get_supplier),{datas:D}=(0,N.v9)(e=>e.unit_product),{datas:G}=(0,N.v9)(e=>e.vat_system),[K]=(0,b.Z)(),[H,J]=(0,s.useState)(!1),[Y,ee]=(0,s.useState)(""),[et,el]=(0,s.useState)([]),en=async e=>{e.url||e.preview||(e.preview=await W(e.originFileObj)),ee(e.url||e.preview),J(!0)},es=async e=>{let l=et.map(e=>e.originFileObj),n={...e,images:l,details:t??[]},s=(0,f.Z)(n);try{let e=await z(()=>y.Z.createProduct(s));201===e&&($((0,v.Q)()),$((0,C.N)()),K.resetFields(),B(!1))}catch(e){console.error("Error creating product:",e)}},ei=(0,n.jsxs)("button",{style:{border:0,background:"none"},type:"button",children:[n.jsx(i.Z,{}),n.jsx("div",{style:{marginTop:8},children:"Upload"})]});return(0,n.jsxs)(n.Fragment,{children:[n.jsx(a.ZP,{hidden:!!e,className:"bg-blue-400 border-0 text-white font-semibold",icon:n.jsx(w.b0B,{}),onClick:()=>{B(!0)},ref:e,children:"Th\xeam sản phẩm"}),(0,n.jsxs)(r.Z,{title:"Tạo sản phẩm",open:R,onCancel:()=>{B(!1)},footer:null,width:"100%",style:{maxWidth:"800px"},children:[(0,n.jsxs)(d.Z,{defaultActiveKey:"1",style:{width:"100%"},type:"line",children:[n.jsx(F.Z,{tab:"Th\xf4ng tin sản phẩm",children:(0,n.jsxs)(c.Z,{layout:"vertical",form:K,onFinish:es,style:{display:"flex",flexWrap:"wrap",gap:"12px"},children:[n.jsx(c.Z.Item,{name:"name",className:"!m-0",label:"T\xean sản phẩm",rules:[{required:!0,message:"Vui l\xf2ng nhập t\xean sản phẩm!"}],style:{width:"100%"},children:n.jsx(o.default,{placeholder:"T\xean sản phẩm"})}),n.jsx(c.Z.Item,{name:"code_original",className:"!m-0",label:"M\xe3 sản phẩm",rules:[{required:!0,message:"Vui l\xf2ng nhập m\xe3 sản phẩm!"}],style:{minWidth:"240px",flex:"1 1 0%"},children:n.jsx(o.default,{placeholder:"M\xe3 sản phẩm"})}),n.jsx(c.Z.Item,{name:"supplier_product",className:"!m-0",label:"Nh\xe0 cung cấp",style:{minWidth:"240px",flex:"1 1 0%"},children:n.jsx(h.Z,{placeholder:"Chọn nh\xe0 cung cấp",showSearch:!0,filterOption:(e,t)=>(Array.isArray(t?.children)?t.children.join(""):t?.children??"").toLowerCase().includes(e.toLowerCase()),dropdownRender:e=>(0,n.jsxs)(n.Fragment,{children:[e,n.jsx(x.Z,{style:{margin:"8px 0"}}),n.jsx(a.ZP,{type:"link",onClick:()=>{A.current?.click()},children:"+ Th\xeam t\xf9y chọn mới"})]}),children:U?.map(e=>n.jsx(j.W,{value:e.supplier_id,children:e.name},e.supplier_id))})}),n.jsx(c.Z.Item,{name:"type",className:"!m-0",label:"Loại sản phẩm",style:{minWidth:"240px",flex:"1 1 0%"},children:n.jsx(h.Z,{placeholder:"Chọn loại",showSearch:!0,filterOption:(e,t)=>(Array.isArray(t?.children)?t.children.join(""):t?.children??"").toLowerCase().includes(e.toLowerCase()),dropdownRender:e=>(0,n.jsxs)(n.Fragment,{children:[e,n.jsx(x.Z,{style:{margin:"8px 0"}}),n.jsx(a.ZP,{type:"link",onClick:()=>{q.current?.click()},children:"+ Th\xeam t\xf9y chọn mới"})]}),children:M?.map(e=>n.jsx(j.W,{value:e.type_product_id,children:e.name},e.type_product_id))})}),n.jsx(c.Z.Item,{name:"price",className:"!m-0 flex",label:"Gi\xe1 trị",rules:[{required:!0,message:"Vui l\xf2ng nhập gi\xe1 trị!"}],style:{minWidth:"240px",flex:"1 1 0%"},children:n.jsx(m.Z,{defaultValue:0,className:"w-full"})}),n.jsx(c.Z.Item,{name:"warranty",className:"!m-0 flex",label:"Bảo h\xe0nh(*th\xe1ng)",rules:[{required:!0,message:"Vui l\xf2ng nhập gi\xe1 trị!"}],style:{minWidth:"320px",flex:"1 1 0%"},children:n.jsx(m.Z,{defaultValue:0,className:"w-full"})}),n.jsx(c.Z.Item,{name:"description",label:"M\xf4 tả",rules:[{required:!0,message:"Vui l\xf2ng nhập th\xf4ng tin m\xf4 tả"}],style:{width:"100%",margin:"0"},children:n.jsx(g.Z,{placeholder:"M\xf4 tả",autoSize:{minRows:3}})}),n.jsx(c.Z.Item,{name:"vat",className:"!m-0",label:"Thuế",style:{minWidth:"240px",flex:"1 1 0%"},children:n.jsx(h.Z,{placeholder:"Chọn loại thuế",showSearch:!0,filterOption:(e,t)=>(t?.children?.join("")??"").toLowerCase().includes(e.toLowerCase()),children:G?.map(e=>n.jsxs(j.W,{value:e.vat_id,children:[e.type_vat,"%"]},e.vat_id))})}),n.jsx(c.Z.Item,{name:"brand",className:"!m-0",label:"Thương hiệu",style:{minWidth:"240px",flex:"1 1 0%"},children:n.jsx(h.Z,{placeholder:"Chọn loại thương hiệu",showSearch:!0,filterOption:(e,t)=>(Array.isArray(t?.children)?t.children.join(""):t?.children??"").toLowerCase().includes(e.toLowerCase()),dropdownRender:e=>(0,n.jsxs)(n.Fragment,{children:[e,n.jsx(x.Z,{style:{margin:"8px 0"}}),n.jsx(a.ZP,{type:"link",onClick:()=>{L.current?.click()},children:"+ Th\xeam t\xf9y chọn mới"})]}),children:X?.map(e=>n.jsx(j.W,{value:e.brand_id,children:e.name},e.brand_id))})}),n.jsx(c.Z.Item,{name:"original",className:"!m-0",label:"Xuất xứ",style:{minWidth:"240px",flex:"1 1 0%"},children:n.jsx(h.Z,{placeholder:"Chọn loại xuất xứ",showSearch:!0,filterOption:(e,t)=>(Array.isArray(t?.children)?t.children.join(""):t?.children??"").toLowerCase().includes(e.toLowerCase()),dropdownRender:e=>(0,n.jsxs)(n.Fragment,{children:[e,n.jsx(x.Z,{style:{margin:"8px 0"}}),n.jsx(a.ZP,{type:"link",onClick:()=>{V.current?.click()},children:"+ Th\xeam t\xf9y chọn mới"})]}),children:E?.map(e=>n.jsx(j.W,{value:e.original_id,children:e.name},e.original_id))})}),n.jsx(c.Z.Item,{name:"profit",className:"!m-0",label:"Lợi nhuận",style:{minWidth:"240px",flex:"1 1 0%"},children:n.jsx(h.Z,{placeholder:"Chọn loại lợi nhuận",showSearch:!0,filterOption:(e,t)=>(t?.children?.join("")??"").toLowerCase().includes(e.toLowerCase()),children:Q?.map(e=>n.jsxs(j.W,{value:e.profit_id,children:[e.type_profit,"%"]},e.profit_id))})}),n.jsx(c.Z.Item,{name:"unit_product",className:"!m-0",label:"Đơn vị sản phẩm",style:{minWidth:"240px",flex:"1 1 0%"},children:n.jsx(h.Z,{placeholder:"Chọn loại đơn vị",showSearch:!0,filterOption:(e,t)=>(Array.isArray(t?.children)?t.children.join(""):t?.children??"").toLowerCase().includes(e.toLowerCase()),dropdownRender:e=>(0,n.jsxs)(n.Fragment,{children:[e,n.jsx(x.Z,{style:{margin:"8px 0"}}),n.jsx(a.ZP,{type:"link",onClick:()=>{O.current?.click()},children:"+ Th\xeam t\xf9y chọn mới"})]}),children:D?.map(e=>n.jsx(j.W,{value:e.unit_id,children:e.name_unit},e.unit_id))})}),(0,n.jsxs)(c.Z.Item,{label:"Ảnh sản phẩm",className:"!m-0",style:{minWidth:"320px",flex:"1 1 0%"},children:[n.jsx(p.default,{action:"",listType:"picture-card",fileList:et,onPreview:en,onChange:({fileList:e})=>{el(e)},multiple:!0,children:et.length>=5?null:ei}),Y&&n.jsx(u.Z,{alt:"ha",wrapperStyle:{display:"none"},preview:{visible:H,onVisibleChange:e=>J(e),afterOpenChange:e=>!e&&ee("")},src:Y})]})]})},1),n.jsx(F.Z,{tab:"Th\xf4ng số kỹ thuật",children:n.jsx(P.Z,{data:t,setData:l})},2)]}),n.jsx("div",{style:{width:"100%",display:"flex",justifyContent:"end"},children:n.jsx(a.ZP,{type:"primary",onClick:()=>{K.submit()},children:"Tạo"})})]}),n.jsx(k.Z,{refBtnSupplier:A}),n.jsx(_.Z,{refBtnOriginal:V}),n.jsx(I.Z,{refBtnBrand:L}),n.jsx(T.Z,{refBtnType:q}),n.jsx(S.Z,{refBtnUnit:O})]})}},56643:(e,t,l)=>{"use strict";l.d(t,{Z:()=>w});var n=l(97247),s=l(28964),i=l(12927),a=l(1880),r=l(77951),d=l(61410),c=l(77709),o=l(36971),h=l(99539),x=l(69160),m=l(38043),p=l(67427),u=l(98065),g=l(53803),j=l(23102),y=l(35576),f=l(48176),Z=l(75177);let w=({refBtnBrand:e})=>{let[t,l]=(0,s.useState)(!1),[w,b]=(0,s.useState)([]),N=(0,j.I0)(),{datas:v}=(0,j.v9)(e=>e.brand_product),C=async(e,t,l)=>{try{let n=await S(()=>o.Z.updateBrand(t,e));200===n&&(N((0,y.Q)()),N((0,Z.A)()),N((0,f.N)()),_(l))}catch(e){console.error("Error creating unit product:",e)}},k=e=>{b([...w,e])},_=e=>{b(w.filter(t=>t!==e))},[I,T]=(0,s.useState)(!1),{postdata:S}=(0,h.Z)(),[F]=(0,x.Z)(),[P,W]=(0,s.useState)(""),A=async()=>{200===await S(()=>o.Z.deleteBrands([P??""]))&&(N((0,Z.A)()),W(""))},L=[{title:"M\xe3 thương hiệu",dataIndex:"brand_id",key:"brand_id",render:(e,t,l)=>(0,n.jsxs)("div",{className:"flex gap-1 items-center",children:["#",l+1,".",e]})},{title:"T\xean loại",dataIndex:"name",width:"50%",key:"name",render:(e,t,l)=>n.jsx(n.Fragment,{children:w.includes(l)?(0,n.jsxs)(i.Z,{onFinish:e=>{C(e.name,t.brand_id,l)},style:{display:"flex",flexWrap:"wrap",gap:"8px"},children:[n.jsx(i.Z.Item,{name:"name",rules:[{required:!0,message:"Vui l\xf2ng nhập t\xean mới"}],style:{margin:"0"},children:n.jsx(a.default,{placeholder:"Nhập t\xean thương hiệu",defaultValue:e})}),(0,n.jsxs)(i.Z.Item,{style:{gap:"2px",display:"flex",justifyContent:"end",margin:"0"},children:[n.jsx(r.ZP,{className:"font-semibold border-transparent group",type:"link",htmlType:"submit",icon:n.jsx(g.l_A,{className:"group-hover:text-green-500"})}),n.jsx(r.ZP,{className:"font-semibold border-transparent group",type:"link",onClick:()=>{_(l)},icon:n.jsx(u.bjh,{className:"group-hover:text-red-500"})})]})]}):(0,n.jsxs)("strong",{className:"flex gap-2 items-center",children:[e,n.jsx(r.ZP,{type:"link",onClick:()=>{k(l)},icon:n.jsx(p.FNg,{})}),n.jsx(r.ZP,{className:"  text-xs text-red-500 font-semibold",type:"text",onClick:()=>W(t?.brand_id),children:"X\xf3a"})]})})}],V=async e=>{try{let t=await S(()=>o.Z.createBrand(e));201===t&&(N((0,Z.A)()),F.resetFields())}catch(e){console.error("Error creating product:",e)}};return(0,n.jsxs)(n.Fragment,{children:[n.jsx(r.ZP,{hidden:!!e,className:"bg-blue-400 border-0 text-white font-semibold",onClick:()=>{l(!0)},ref:e,children:"Thương hiệu"}),n.jsx(d.Z,{title:"Thương hiệu",open:t,onCancel:()=>{l(!1)},footer:null,width:"100%",style:{maxWidth:"800px"},children:(0,n.jsxs)("div",{className:"flex flex-col gap-2",children:[n.jsx(r.ZP,{className:"bg-orange-500 text-white font-semibold",icon:n.jsx(m.gyF,{}),onClick:()=>{F.resetFields(),T(!I)}}),n.jsx("div",{className:"bg-slate-200 px-1 py-2 rounded-md",hidden:!I,children:(0,n.jsxs)(i.Z,{form:F,onFinish:V,style:{display:"flex",flexWrap:"wrap",gap:"8px"},children:[n.jsx(i.Z.Item,{name:"name",rules:[{required:!0,message:"Vui l\xf2ng nhập t\xean thương hiệu"}],style:{flex:"1 1 0%",margin:"0"},children:n.jsx(a.default,{placeholder:"Nhập t\xean loại"})}),n.jsx(i.Z.Item,{style:{display:"flex",justifyContent:"end",margin:"0"},children:n.jsx(r.ZP,{className:"bg-green-500 text-white font-semibold",onClick:()=>{F.submit()},children:"Th\xeam"})})]})}),n.jsx("div",{className:"border-t-2 w-full overflow-x-auto",children:n.jsx("div",{className:"w-full",children:n.jsx(c.Z,{columns:L,scroll:{x:"max-content"},className:"custom-table",dataSource:v,pagination:{pageSize:10,showTotal:(e,t)=>`${t[0]}-${t[1]} of ${e} items`},showSorterTooltip:{target:"sorter-icon"}})})})]})}),n.jsx(d.Z,{open:""!==P,title:"X\xf3a dữ liệu",onOk:A,onCancel:()=>{W("")},children:"Bạn c\xf3 chắc chắn muốn x\xf3a kh\xf4ng ?"})]})}},24898:(e,t,l)=>{"use strict";l.d(t,{Z:()=>w});var n=l(97247),s=l(28964),i=l(12927),a=l(1880),r=l(77951),d=l(61410),c=l(77709),o=l(36971),h=l(99539),x=l(69160),m=l(38043),p=l(67427),u=l(98065),g=l(53803),j=l(23102),y=l(35576),f=l(48176),Z=l(79444);let w=({refBtnOriginal:e})=>{let[t,l]=(0,s.useState)(!1),[w,b]=(0,s.useState)([]),N=(0,j.I0)(),{datas:v}=(0,j.v9)(e=>e.original_product),C=async(e,t,l)=>{try{let n=await S(()=>o.Z.updateOriginal(t,e));200===n&&(N((0,y.Q)()),N((0,Z.t)()),N((0,f.N)()),_(l))}catch(e){console.error("Error creating unit product:",e)}},k=e=>{b([...w,e])},_=e=>{b(w.filter(t=>t!==e))},[I,T]=(0,s.useState)(!1),{postdata:S}=(0,h.Z)(),[F]=(0,x.Z)(),[P,W]=(0,s.useState)(""),A=async()=>{200===await S(()=>o.Z.deleteOriginal([P??""]))&&(N((0,Z.t)()),W(""))},L=[{title:"M\xe3 xuất xứ",dataIndex:"original_id",key:"original_id",render:(e,t,l)=>(0,n.jsxs)("div",{className:"flex gap-1 items-center",children:["#",l+1,".",e]})},{title:"Xuất xứ",dataIndex:"name",width:"50%",key:"name",render:(e,t,l)=>n.jsx(n.Fragment,{children:w.includes(l)?(0,n.jsxs)(i.Z,{onFinish:e=>{C(e.name,t.original_id,l)},style:{display:"flex",flexWrap:"wrap",gap:"8px"},children:[n.jsx(i.Z.Item,{name:"name",rules:[{required:!0,message:"Vui l\xf2ng nhập t\xean mới"}],style:{margin:"0"},children:n.jsx(a.default,{placeholder:"Nhập t\xean xuất xứ",defaultValue:e})}),(0,n.jsxs)(i.Z.Item,{style:{gap:"2px",display:"flex",justifyContent:"end",margin:"0"},children:[n.jsx(r.ZP,{className:"font-semibold border-transparent group",type:"link",htmlType:"submit",icon:n.jsx(g.l_A,{className:"group-hover:text-green-500"})}),n.jsx(r.ZP,{className:"font-semibold border-transparent group",type:"link",onClick:()=>{_(l)},icon:n.jsx(u.bjh,{className:"group-hover:text-red-500"})})]})]}):(0,n.jsxs)("strong",{className:"flex gap-2 items-center",children:[e,n.jsx(r.ZP,{type:"link",onClick:()=>{k(l)},icon:n.jsx(p.FNg,{})}),n.jsx(r.ZP,{className:"  text-xs text-red-500 font-semibold",type:"text",onClick:()=>W(t?.original_id),children:"X\xf3a"})]})})}],V=async e=>{try{let t=await S(()=>o.Z.createOriginal(e));201===t&&(N((0,Z.t)()),F.resetFields())}catch(e){console.error("Error creating product:",e)}};return(0,n.jsxs)(n.Fragment,{children:[n.jsx(r.ZP,{hidden:!!e,className:"bg-blue-400 border-0 text-white font-semibold",onClick:()=>{l(!0)},ref:e,children:"Xuất xứ"}),n.jsx(d.Z,{title:"Xuất xứ",open:t,onCancel:()=>{l(!1)},footer:null,width:"100%",style:{maxWidth:"800px"},children:(0,n.jsxs)("div",{className:"flex flex-col gap-2",children:[n.jsx(r.ZP,{className:"bg-orange-500 text-white font-semibold",icon:n.jsx(m.gyF,{}),onClick:()=>{F.resetFields(),T(!I)}}),n.jsx("div",{className:"bg-slate-200 px-1 py-2 rounded-md",hidden:!I,children:(0,n.jsxs)(i.Z,{form:F,onFinish:V,style:{display:"flex",flexWrap:"wrap",gap:"8px"},children:[n.jsx(i.Z.Item,{name:"name",rules:[{required:!0,message:"Vui l\xf2ng nhập t\xean xuất xứ"}],style:{flex:"1 1 0%",margin:"0"},children:n.jsx(a.default,{placeholder:"Nhập t\xean loại"})}),n.jsx(i.Z.Item,{style:{display:"flex",justifyContent:"end",margin:"0"},children:n.jsx(r.ZP,{className:"bg-green-500 text-white font-semibold",onClick:()=>{F.submit()},children:"Th\xeam"})})]})}),n.jsx("div",{className:"border-t-2 w-full overflow-x-auto",children:n.jsx("div",{className:"w-full",children:n.jsx(c.Z,{columns:L,scroll:{x:"max-content"},className:"custom-table",dataSource:v,pagination:{pageSize:10,showTotal:(e,t)=>`${t[0]}-${t[1]} of ${e} items`},showSorterTooltip:{target:"sorter-icon"}})})})]})}),n.jsx(d.Z,{open:""!==P,title:"X\xf3a dữ liệu",onOk:A,onCancel:()=>{W("")},children:"Bạn c\xf3 chắc chắn muốn x\xf3a kh\xf4ng ?"})]})}},52043:(e,t,l)=>{"use strict";l.d(t,{Z:()=>Z});var n=l(97247),s=l(28964),i=l(77951),a=l(61410),r=l(12927),d=l(1880),c=l(39884),o=l(77709),h=l(99539),x=l(69160),m=l(38043),p=l(67427),u=l(23102),g=l(36971),j=l(79976),y=l(35576),f=l(41201);let Z=({refBtnType:e})=>{let[t,l]=(0,s.useState)(!1),[Z,w]=(0,s.useState)(-1),b=(0,u.I0)(),{datas:N}=(0,u.v9)(e=>e.type_product),{datas:v}=(0,u.v9)(e=>e.get_classify_type),C=e=>{w(e),S.setFieldsValue(N?.[e])},[k,_]=(0,s.useState)(!1),{postdata:I}=(0,h.Z)(),[T]=(0,x.Z)(),[S]=(0,x.Z)(),[F,P]=(0,s.useState)(""),W=async()=>{200===await I(()=>g.Z.deleteTypes([F??""]))&&(b((0,j.g)()),P(""))},A=async e=>{console.log(e);try{let t=await I(()=>g.Z.createType(e));201===t&&(b((0,j.g)()),T.resetFields(),_(!1))}catch(e){console.error("Error creating product:",e)}},L=async e=>{try{console.log(e);let t=await I(()=>g.Z.updateType(N?.[Z??0].type_product_id??"",e));200===t&&(b((0,j.g)()),b((0,y.Q)()),w(-1))}catch(e){console.error("Error creating product:",e)}};return(0,n.jsxs)(n.Fragment,{children:[n.jsx(i.ZP,{hidden:!!e,className:"bg-blue-400 border-0 text-white font-semibold",onClick:()=>{l(!0)},ref:e,children:"Loại sản phẩm"}),n.jsx(a.Z,{title:(0,n.jsxs)("div",{style:{display:"flex",gap:"5px",alignItems:"center"},children:[n.jsx("span",{children:"Loại sản phẩm"}),n.jsx(i.ZP,{className:"text-white font-semibold bg-orange-500",icon:n.jsx(m.gyF,{}),type:"default",onClick:()=>{T.resetFields(),_(!k)}})]}),open:t,onCancel:()=>{l(!1)},footer:null,width:"100%",style:{maxWidth:"800px"},children:(0,n.jsxs)("div",{className:"flex flex-col gap-2",children:[n.jsx("div",{className:"bg-slate-200 px-1 py-2 rounded-md",hidden:!k,children:(0,n.jsxs)(r.Z,{form:T,onFinish:A,style:{display:"flex",flexWrap:"wrap",gap:"8px"},children:[n.jsx(r.Z.Item,{name:"name",rules:[{required:!0,message:"Vui l\xf2ng nhập t\xean loại"}],style:{flex:"1 1 0%",margin:"0"},children:n.jsx(d.default,{placeholder:"Nhập t\xean loại"})}),n.jsx(r.Z.Item,{name:"name_tag",rules:[{required:!0,message:"Vui l\xf2ng nhập tag loại"}],style:{flex:"1 1 0%",margin:"0"},children:n.jsx(d.default,{placeholder:"Nhập tag loại"})}),n.jsx(r.Z.Item,{name:"classify_type",style:{width:"100%",flex:"1 1 0%",margin:"0"},children:n.jsx(c.Z,{placeholder:"Chọn ph\xe2n loại",showSearch:!0,filterOption:(e,t)=>(Array.isArray(t?.children)?t.children.join(""):t?.children??"").toLowerCase().includes(e.toLowerCase()),children:v?.map(e=>n.jsx(f.W,{value:e.classify_id,children:e.name},e.classify_id))})}),n.jsx(r.Z.Item,{name:"description",rules:[{required:!0,message:"Vui l\xf2ng nhập m\xf4 tả"}],style:{flex:"1 1 0%",margin:"0",minWidth:"100%"},children:n.jsx(d.default.TextArea,{autoSize:{minRows:1},placeholder:"Nhập m\xf4 tả"})}),n.jsx(r.Z.Item,{style:{display:"flex",minWidth:"100%",justifyContent:"end",margin:"0"},children:n.jsx(i.ZP,{className:"bg-green-500 text-white font-semibold",onClick:()=>{T.submit()},children:"Th\xeam"})})]})}),n.jsx("div",{className:"bg-slate-200 px-1 py-2 rounded-md",hidden:!(Z>-1),children:(0,n.jsxs)(r.Z,{form:S,onFinish:L,style:{display:"flex",flexWrap:"wrap",gap:"8px"},children:[n.jsx(r.Z.Item,{name:"name",rules:[{required:!0,message:"Vui l\xf2ng nhập t\xean loại"}],style:{flex:"1 1 0%",margin:"0"},children:n.jsx(d.default,{placeholder:"Nhập t\xean loại"})}),n.jsx(r.Z.Item,{name:"name_tag",rules:[{required:!0,message:"Vui l\xf2ng nhập tag loại"}],style:{flex:"1 1 0%",margin:"0"},children:n.jsx(d.default,{placeholder:"Nhập tag loại"})}),n.jsx(r.Z.Item,{name:"classify_type",style:{width:"100%",flex:"1 1 0%",margin:"0"},children:n.jsx(c.Z,{placeholder:"Chọn ph\xe2n loại",showSearch:!0,filterOption:(e,t)=>(Array.isArray(t?.children)?t.children.join(""):t?.children??"").toLowerCase().includes(e.toLowerCase()),children:v?.map(e=>n.jsx(f.W,{value:e.classify_id,children:e.name},e.classify_id))})}),n.jsx(r.Z.Item,{name:"description",rules:[{required:!0,message:"Vui l\xf2ng nhập m\xf4 tả"}],style:{flex:"1 1 0%",margin:"0",minWidth:"100%"},children:n.jsx(d.default.TextArea,{autoSize:{minRows:1},placeholder:"Nhập m\xf4 tả"})}),(0,n.jsxs)(r.Z.Item,{style:{display:"flex",minWidth:"100%",gap:"2px",justifyContent:"end",margin:"0"},children:[n.jsx(i.ZP,{className:"bg-yellow-500 text-white font-semibold",htmlType:"submit",children:"Cập nhật"}),n.jsx(i.ZP,{className:"bg-red-500 text-white font-semibold",onClick:()=>{w(-1)},children:"Huỷ"})]})]})}),n.jsx("div",{className:"border-t-2 w-full overflow-x-auto",children:n.jsx("div",{className:"w-full",children:n.jsx(o.Z,{columns:[{title:"Tag loại",dataIndex:"name_tag",width:"20%",key:"name_tag",render:e=>n.jsx(n.Fragment,{children:n.jsx("strong",{className:"flex gap-2 items-center",children:e})})},{title:"M\xf4 tả",dataIndex:"description",width:"30%",key:"description",render:e=>n.jsx(n.Fragment,{children:n.jsx("strong",{className:"flex gap-2 items-center",children:e})})},{title:"Ph\xe2n loại",dataIndex:"classify_type",width:"30%",key:"classify_type",render:e=>n.jsx(n.Fragment,{children:n.jsx("strong",{className:"flex gap-2 items-center",children:v.find(t=>t.classify_id===e)?.name})})},{title:"T\xean loại",dataIndex:"name",width:"40%",key:"name",render:(e,t,l)=>n.jsx(n.Fragment,{children:(0,n.jsxs)("strong",{className:"flex gap-2 items-center",children:[e,n.jsx(i.ZP,{type:"link",onClick:()=>{C(l)},icon:n.jsx(p.FNg,{})}),n.jsx(i.ZP,{className:"  text-xs text-red-500 font-semibold",type:"text",onClick:()=>P(t?.type_product_id),children:"X\xf3a"})]})})}],scroll:{x:"max-content"},className:"custom-table",dataSource:N,pagination:{pageSize:10,showTotal:(e,t)=>`${t[0]}-${t[1]} of ${e} items`},showSorterTooltip:{target:"sorter-icon"}})})})]})}),n.jsx(a.Z,{open:""!==F,title:"X\xf3a dữ liệu",onOk:W,onCancel:()=>{P("")},children:"Bạn c\xf3 chắc chắn muốn x\xf3a kh\xf4ng ?"})]})}},8919:(e,t,l)=>{"use strict";l.d(t,{Z:()=>w});var n=l(97247),s=l(28964),i=l(12927),a=l(1880),r=l(77951),d=l(61410),c=l(77709),o=l(36971),h=l(99539),x=l(69160),m=l(38043),p=l(53803),u=l(98065),g=l(67427);l(38055);var j=l(23102),y=l(83366),f=l(35576),Z=l(48176);let w=({refBtnUnit:e})=>{let[t,l]=(0,s.useState)(!1),[w,b]=(0,s.useState)([]),N=(0,j.I0)(),{datas:v}=(0,j.v9)(e=>e.unit_product),[C,k]=(0,s.useState)(!1),{postdata:_}=(0,h.Z)(),I=e=>{b([...w,e])},T=e=>{b(w.filter(t=>t!==e))},[S]=(0,x.Z)(),[F,P]=(0,s.useState)(""),W=async()=>{200===await _(()=>o.Z.deleteUnits([F??""]))&&(N((0,y.s)()),P(""))},A=[{title:"M\xe3 đơn vị",dataIndex:"unit_id",key:"type_product_id",render:(e,t,l)=>(0,n.jsxs)("div",{className:"flex gap-1 items-center",children:["#",l+1,".",e]})},{title:"T\xean đơn vị",dataIndex:"name_unit",key:"name_unit",width:"50%",render:(e,t,l)=>n.jsx(n.Fragment,{children:w.includes(l)?(0,n.jsxs)(i.Z,{onFinish:e=>{V(e.name,t.unit_id,l)},style:{display:"flex",flexWrap:"wrap",gap:"8px"},children:[n.jsx(i.Z.Item,{name:"name_unit",rules:[{required:!0,message:"Vui l\xf2ng nhập t\xean mới"}],style:{margin:"0"},children:n.jsx(a.default,{placeholder:"Nhập t\xean đơn vị",defaultValue:e})}),(0,n.jsxs)(i.Z.Item,{style:{gap:"2px",display:"flex",justifyContent:"end",margin:"0"},children:[n.jsx(r.ZP,{className:"font-semibold border-transparent group",type:"link",htmlType:"submit",icon:n.jsx(p.l_A,{className:"group-hover:text-green-500"})}),n.jsx(r.ZP,{className:"font-semibold border-transparent group",type:"link",onClick:()=>{T(l)},icon:n.jsx(u.bjh,{className:"group-hover:text-red-500"})})]})]}):(0,n.jsxs)("strong",{className:"flex gap-2 items-center",children:[e,n.jsx(r.ZP,{type:"link",onClick:()=>{I(l)},icon:n.jsx(g.FNg,{})}),n.jsx(r.ZP,{className:"  text-xs text-red-500 font-semibold",type:"text",onClick:()=>P(t?.unit_id),children:"X\xf3a"})]})})}],L=async e=>{try{let t=await _(()=>o.Z.createUnit(e));201===t&&(N((0,y.s)()),S.resetFields())}catch(e){console.error("Error creating unit product:",e)}},V=async(e,t,l)=>{try{let n=await _(()=>o.Z.updateUnit(t,e));200===n&&(N((0,f.Q)()),N((0,Z.N)()),N((0,y.s)()),T(l))}catch(e){console.error("Error creating unit product:",e)}};return(0,n.jsxs)(n.Fragment,{children:[n.jsx(r.ZP,{hidden:!!e,className:"bg-blue-400 border-0 text-white font-semibold",onClick:()=>{l(!0)},ref:e,children:"Đơn vị sản phẩm"}),n.jsx(d.Z,{title:"Đơn vị sản phẩm",open:t,onCancel:()=>{l(!1)},footer:null,width:"100%",style:{maxWidth:"800px"},children:(0,n.jsxs)("div",{className:"flex flex-col gap-2",children:[n.jsx(r.ZP,{className:"bg-orange-500 text-white font-semibold",icon:n.jsx(m.gyF,{}),onClick:()=>{S.resetFields(),k(!C)}}),n.jsx("div",{className:"bg-slate-200 px-1 py-2 rounded-md",hidden:!C,children:(0,n.jsxs)(i.Z,{form:S,onFinish:L,style:{display:"flex",flexWrap:"wrap",gap:"8px"},children:[n.jsx(i.Z.Item,{name:"name_unit",rules:[{required:!0,message:"Vui l\xf2ng nhập t\xean đơn vị"}],style:{flex:"1 1 0%",margin:"0"},children:n.jsx(a.default,{placeholder:"Nhập t\xean đơn vị"})}),n.jsx(i.Z.Item,{style:{display:"flex",justifyContent:"end",margin:"0"},children:n.jsx(r.ZP,{className:"bg-green-500 text-white font-semibold",onClick:()=>{S.submit()},children:"Th\xeam"})})]})}),n.jsx("div",{className:"border-t-2 w-full overflow-x-auto",children:n.jsx("div",{className:"w-full",children:n.jsx(c.Z,{columns:A,scroll:{x:"max-content"},className:"custom-table",dataSource:v,pagination:{pageSize:10,showTotal:(e,t)=>`${t[0]}-${t[1]} of ${e} items`},showSorterTooltip:{target:"sorter-icon"}})})})]})}),n.jsx(d.Z,{open:""!==F,title:"X\xf3a dữ liệu",onOk:W,onCancel:()=>{P("")},children:"Bạn c\xf3 chắc chắn muốn x\xf3a kh\xf4ng ?"})]})}},2563:(e,t,l)=>{"use strict";l.d(t,{Z:()=>d});var n=l(97247);l(28964);var s=l(1880),i=l(77951),a=l(77709),r=l(38043);let d=({data:e,setData:t})=>n.jsx(n.Fragment,{children:(0,n.jsxs)("div",{className:"flex flex-col gap-2",children:[n.jsx(i.ZP,{className:"bg-orange-500 text-white font-semibold",icon:n.jsx(r.gyF,{}),onClick:()=>{t(e=>[...e,{title:"",description:""}])}}),n.jsx("div",{className:"border-t-2 w-full overflow-x-auto",children:n.jsx("div",{className:"w-full",children:n.jsx(a.Z,{columns:[{title:"Th\xe0nh phần",dataIndex:"title",width:"50%",key:"title",render:(e,l,i)=>n.jsx(n.Fragment,{children:n.jsx(s.default,{placeholder:"Th\xe0nh phần",value:e,onChange:e=>{t(t=>t.map((t,l)=>l===i?{...t,title:e.target.value??""}:t))}})})},{title:"M\xf4 tả",dataIndex:"description",width:"50%",key:"description",render:(e,l,i)=>n.jsx(n.Fragment,{children:n.jsx(s.default.TextArea,{autoSize:{minRows:1},placeholder:"M\xf4 tả",value:e,onChange:e=>{t(t=>t.map((t,l)=>l===i?{...t,description:e.target.value??""}:t))}})})},{title:"",dataIndex:"",width:"30%",key:"",render:(e,l,s)=>n.jsx(n.Fragment,{children:n.jsx(i.ZP,{danger:!0,icon:n.jsx(r.IGK,{color:"red"}),onClick:()=>{t(e=>e.filter((e,t)=>t!==s))}})})}],scroll:{x:"max-content"},className:"custom-table",dataSource:e,pagination:{pageSize:10,showTotal:(e,t)=>`${t[0]}-${t[1]} of ${e} items`},showSorterTooltip:{target:"sorter-icon"}})})})]})})},53690:(e,t,l)=>{"use strict";l.d(t,{Z:()=>j});var n=l(97247),s=l(99539),i=l(94213),a=l(36971),r=l(77951),d=l(61410),c=l(82140),o=l(12927),h=l(1880),x=l(69160),m=l(75142),p=l(28964),u=l(98065),g=l(23102);function j({refBtnSupplier:e}){let[t]=(0,x.Z)(),{postdata:l}=(0,s.Z)(),j=(0,g.I0)(),[y,f]=(0,p.useState)(!1),Z=async e=>{let t=await l(()=>a.Z.createSupplier(e));(200===t||201===t)&&(j((0,i.Hm)()),f(!1))},w=async()=>{t.submit()};return(0,n.jsxs)(n.Fragment,{children:[n.jsx(r.ZP,{hidden:!!e,className:"bg-blue-400 border-0 text-white font-semibold",icon:n.jsx(u.b0B,{}),onClick:()=>{f(!0)},ref:e,children:"Th\xeam nh\xe0 cung ứng"}),(0,n.jsxs)(d.Z,{title:"Tạo nh\xe0 cung ứng",open:y,onCancel:()=>{f(!1)},footer:null,width:"100%",style:{maxWidth:"800px"},children:[n.jsx(c.Z,{defaultActiveKey:"1",style:{width:"100%"},type:"line",children:n.jsx(m.Z,{tab:"Th\xf4ng tin nh\xe0 cung ứng",children:(0,n.jsxs)(o.Z,{layout:"vertical",form:t,onFinish:Z,style:{display:"flex",flexWrap:"wrap",columnGap:"12px"},children:[n.jsx(o.Z.Item,{name:"name",label:"T\xean nh\xe0 cung ứng",rules:[{required:!0,type:"string",message:"Vui l\xf2ng nhập t\xean nh\xe0 cung ứng"}],style:{minWidth:"100%",flex:"1 1 0%"},children:n.jsx(h.default,{})}),n.jsx(o.Z.Item,{name:"email",label:"Email",style:{width:"320px",flex:"1 1 0%"},children:n.jsx(h.default,{})}),n.jsx(o.Z.Item,{name:"phone_number",label:"Số điện thoại",style:{width:"320px",flex:"1 1 0%"},children:n.jsx(h.default,{})}),n.jsx(o.Z.Item,{name:"address",label:"Địa chỉ",style:{width:"320px",flex:"1 1 0%"},children:n.jsx(h.default,{})}),n.jsx(o.Z.Item,{name:"description",label:"M\xf4 tả",style:{width:"100%"},children:n.jsx(h.default.TextArea,{placeholder:"Description",autoSize:{minRows:3}})})]})},1)}),n.jsx("div",{className:"flex justify-end w-full mt-4",children:n.jsx(r.ZP,{type:"primary",onClick:w,children:"Tạo"})})]})]})}},28204:(e,t,l)=>{"use strict";l.r(t),l.d(t,{default:()=>i}),l(72051);var n=l(54564);let s={size:{width:32,height:32},contentType:"image/png"};async function i(e){let{__metadata_id__:t,...l}=e.params,i=(0,n.fillMetadataSegment)(".",l,"icon"),{generateImageMetadata:a}=s;function r(e,t){let l={alt:e.alt,type:e.contentType||"image/png",url:i+(t?"/"+t:"")+"?4a97cfd375538d02"},{size:n}=e;return n&&(l.sizes=n.width+"x"+n.height),l}return a?(await a({params:l})).map((e,t)=>{let l=(e.id||t)+"";return r(e,l)}):[r(s,"")]}},38055:()=>{}};