"use strict";exports.id=4989,exports.ids=[4989],exports.modules={24989:(e,t,i)=>{i.d(t,{Z:()=>C});var l=i(97247),n=i(99539),s=i(84675),a=i(14531),r=i(88192),d=i(77951),c=i(61410),o=i(82140),h=i(12927),x=i(39884),m=i(95718),p=i(1880),y=i(69160),g=i(41201),u=i(75142),j=i(28964),f=i(98065),Z=i(23102),v=i(78575),w=i(23175),_=i(20142),b=i(34178);function C({type:e,idType:t,idStatus:i,refBtnActivity:C}){let{projectID:N}=(0,b.useParams)();(0,b.useSearchParams)();let k=(0,j.useRef)(),I=(0,j.useRef)(),T=(0,j.useRef)(),{datas:S}=(0,Z.v9)(e=>e.get_type_activities),{datas:F}=(0,Z.v9)(e=>e.get_contracts),[P]=(0,y.Z)(),{postdata:W}=(0,n.Z)(),A=(0,Z.I0)(),[V,L]=(0,j.useState)(!1),[q,R]=(0,j.useState)(""),B=async i=>{let l=await W(()=>r.Z.createActivity(i));(200===l||201===l)&&(e||A((0,s.ij)({project:N})),"schedule"===e&&A((0,a.N)(t)),L(!1))},O=async()=>{P.submit()};return(0,l.jsxs)(l.Fragment,{children:[l.jsx(d.ZP,{hidden:!!C,type:e?"link":"default",className:e?"text-[#EC8920]":"bg-blue-400 border-0 text-white font-semibold",icon:l.jsx(f.b0B,{}),onClick:()=>{L(!0)},ref:C,children:"Th\xeam hoạt động"}),(0,l.jsxs)(c.Z,{title:"Tạo hoạt động",open:V,onCancel:()=>{L(!1)},footer:null,width:"100%",style:{maxWidth:"800px"},children:[l.jsx(o.Z,{defaultActiveKey:"1",style:{width:"100%"},type:"line",children:l.jsx(u.Z,{tab:"Th\xf4ng tin hoạt đồng",children:(0,l.jsxs)(h.Z,{layout:"vertical",form:P,onFinish:B,style:{display:"flex",flexWrap:"wrap",columnGap:"12px"},children:[l.jsx(h.Z.Item,{name:"type",label:"Loại hoạt động",rules:[{required:!0,message:"Vui l\xf2ng chọn loại hoạt động!"}],style:{width:"100%",flex:"1 1 0%"},children:l.jsx(x.Z,{disabled:!!t,placeholder:"Chọn loại",onChange:e=>{R(e)},showSearch:!0,filterOption:(e,t)=>(Array.isArray(t?.children)?t.children.join(""):t?.children??"").toLowerCase().includes(e.toLowerCase()),dropdownRender:e=>(0,l.jsxs)(l.Fragment,{children:[e,l.jsx(m.Z,{style:{margin:"8px 0"}}),l.jsx(d.ZP,{type:"link",onClick:()=>{k.current?.click()},children:"+ Th\xeam t\xf9y chọn mới"})]}),children:S?.map(e=>l.jsx(g.W,{value:e.type_activity_id,children:e.name},e.type_activity_id))})}),l.jsx(h.Z.Item,{name:"name",label:"T\xean hoạt động",rules:[{required:!0,type:"string",message:"Vui l\xf2ng nhập t\xean hoạt động"}],style:{minWidth:"100%",flex:"1 1 0%"},children:l.jsx(p.default,{})}),l.jsx(h.Z.Item,{name:"status",label:"Trạng th\xe1i",style:{minWidth:"240px",flex:"1 1 0%"},children:l.jsx(x.Z,{disabled:!!i,placeholder:"Chọn loại",showSearch:!0,filterOption:(e,t)=>(Array.isArray(t?.children)?t.children.join(""):t?.children??"").toLowerCase().includes(e.toLowerCase()),dropdownRender:e=>(0,l.jsxs)(l.Fragment,{children:[e,l.jsx(m.Z,{style:{margin:"8px 0"}}),l.jsx(d.ZP,{type:"link",onClick:()=>{T.current?.click()},children:"+ Th\xeam t\xf9y chọn mới"})]}),children:S.find(e=>e.type_activity_id===q)?.status?.map(e=>l.jsx(g.W,{value:e.status_activity_id,children:e.name},e.status_activity_id))})}),l.jsx(h.Z.Item,{name:"contract",label:"Hợp đồng",style:{minWidth:"240px",flex:"1 1 0%"},children:l.jsx(x.Z,{placeholder:"Chọn hợp đồng",showSearch:!0,filterOption:(e,t)=>(Array.isArray(t?.children)?t.children.join(""):t?.children??"").toLowerCase().includes(e.toLowerCase()),dropdownRender:e=>(0,l.jsxs)(l.Fragment,{children:[e,l.jsx(m.Z,{style:{margin:"8px 0"}}),l.jsx(d.ZP,{type:"link",onClick:()=>{I.current?.click()},children:"+ Th\xeam t\xf9y chọn mới"})]}),children:F?.map(e=>l.jsx(g.W,{value:e.contract_id,children:e.name_contract},e.contract_id))})}),l.jsx(h.Z.Item,{name:"description",label:"M\xf4 tả",style:{width:"100%"},children:l.jsx(p.default.TextArea,{placeholder:"Description",autoSize:{minRows:3}})})]})},1)}),l.jsx("div",{className:"flex justify-end w-full mt-4",children:l.jsx(d.ZP,{type:"primary",onClick:O,children:"Tạo"})})]}),l.jsx(v.Z,{refBtnContract:I}),l.jsx(w.Z,{refBtnType:k}),l.jsx(_.Z,{refBtnStatus:T})]})}},20142:(e,t,i)=>{i.d(t,{Z:()=>_});var l=i(97247),n=i(28964),s=i(77951),a=i(61410),r=i(12927),d=i(39884),c=i(1880),o=i(77709),h=i(99539),x=i(69160),m=i(38043),p=i(67427),y=i(23102),g=i(88192),u=i(28633),j=i(84675),f=i(41201),Z=i(80046),v=i(45479),w=i(23175);let _=({refBtnStatus:e})=>{let t=(0,n.useRef)(),[i,_]=(0,n.useState)(!1),[b,C]=(0,n.useState)(-1),N=(0,y.I0)(),{datas:k}=(0,y.v9)(e=>e.get_type_activities),{datas:I}=(0,y.v9)(e=>e.get_status_activity),T=e=>{C(e),A.setFieldsValue({...I?.[e],type_activity:I?.[e].type_activity.type_activity_id})},[S,F]=(0,n.useState)(!1),{postdata:P}=(0,h.Z)(),[W]=(0,x.Z)(),[A]=(0,x.Z)(),[V,L]=(0,n.useState)(""),q=async()=>{200===await P(()=>g.Z.deleteStatusActivity([V??""]))&&(N((0,u.YK)()),L(""))},R=async e=>{try{let t=await P(()=>g.Z.createStatusActivity(e));201===t&&(N((0,u.YK)()),N((0,Z.cW)()),W.resetFields(),F(!1))}catch(e){console.error("Error creating product:",e)}},B=async e=>{try{let t=await P(()=>g.Z.updateStatusActivity(I?.[b??0].status_activity_id??"",e));200===t&&(N((0,u.YK)()),N((0,Z.cW)()),N((0,j.ij)({})),C(-1))}catch(e){console.error("Error creating product:",e)}};return(0,l.jsxs)(l.Fragment,{children:[l.jsx(s.ZP,{hidden:!!e,className:"bg-blue-400 border-0 text-white font-semibold",onClick:()=>{_(!0)},ref:e,children:"Trạng th\xe1i hoạt động"}),l.jsx(a.Z,{title:(0,l.jsxs)("div",{style:{display:"flex",gap:"5px",alignItems:"center"},children:[l.jsx("span",{children:"Trạng th\xe1i hoạt động"}),l.jsx(s.ZP,{className:"text-white font-semibold bg-orange-500",icon:l.jsx(m.gyF,{}),type:"default",onClick:()=>{W.resetFields(),F(!S)}}),l.jsx(s.ZP,{icon:l.jsx(v.pEI,{}),onClick:()=>{t.current?.click()}})]}),open:i,onCancel:()=>{_(!1)},footer:null,width:"100%",style:{maxWidth:"800px"},children:(0,l.jsxs)("div",{className:"flex flex-col gap-2",children:[l.jsx("div",{className:"bg-slate-200 px-1 py-2 rounded-md",hidden:!S,children:(0,l.jsxs)(r.Z,{form:W,onFinish:R,style:{display:"flex",flexWrap:"wrap",gap:"8px"},children:[l.jsx(r.Z.Item,{name:"type_activity",rules:[{required:!0,message:"Vui l\xf2ng chọn loại"}],style:{flex:"1 1 0%",margin:"0"},children:l.jsx(d.Z,{placeholder:"Chọn loại",showSearch:!0,filterOption:(e,t)=>(Array.isArray(t?.children)?t.children.join(""):t?.children??"").toLowerCase().includes(e.toLowerCase()),children:k?.map(e=>l.jsx(f.W,{value:e.type_activity_id,children:e.name},e.type_activity_id))})}),l.jsx(r.Z.Item,{name:"name",rules:[{required:!0,message:"Vui l\xf2ng nhập t\xean trạng th\xe1i"}],style:{flex:"1 1 0%",margin:"0"},children:l.jsx(c.default,{placeholder:"Nhập t\xean trạng th\xe1i"})}),l.jsx(r.Z.Item,{name:"name_tag",rules:[{required:!0,message:"Vui l\xf2ng nhập tag trạng th\xe1i"}],style:{flex:"1 1 0%",margin:"0"},children:l.jsx(c.default,{placeholder:"Nhập tag trạng th\xe1i"})}),l.jsx(r.Z.Item,{style:{display:"flex",justifyContent:"end",margin:"0"},children:l.jsx(s.ZP,{className:"bg-green-500 text-white font-semibold",onClick:()=>{W.submit()},children:"Th\xeam"})})]})}),l.jsx("div",{className:"bg-slate-200 px-1 py-2 rounded-md",hidden:!(b>-1),children:(0,l.jsxs)(r.Z,{form:A,onFinish:B,style:{display:"flex",flexWrap:"wrap",gap:"8px"},children:[l.jsx(r.Z.Item,{name:"type_activity",rules:[{required:!0,message:"Vui l\xf2ng chọn loại"}],style:{flex:"1 1 0%",margin:"0"},children:l.jsx(d.Z,{placeholder:"Chọn loại",showSearch:!0,filterOption:(e,t)=>(Array.isArray(t?.children)?t.children.join(""):t?.children??"").toLowerCase().includes(e.toLowerCase()),children:k?.map(e=>l.jsx(f.W,{value:e.type_activity_id,children:e.name},e.type_activity_id))})}),l.jsx(r.Z.Item,{name:"name",rules:[{required:!0,message:"Vui l\xf2ng nhập t\xean trạng th\xe1i"}],style:{flex:"1 1 0%",margin:"0"},children:l.jsx(c.default,{placeholder:"Nhập t\xean trạng th\xe1i"})}),l.jsx(r.Z.Item,{name:"name_tag",rules:[{required:!0,message:"Vui l\xf2ng nhập tag trạng th\xe1i"}],style:{flex:"1 1 0%",margin:"0"},children:l.jsx(c.default,{placeholder:"Nhập tag trạng th\xe1i"})}),(0,l.jsxs)(r.Z.Item,{style:{display:"flex",gap:"2px",justifyContent:"end",margin:"0"},children:[l.jsx(s.ZP,{className:"bg-yellow-500 text-white font-semibold",htmlType:"submit",children:"Cập nhật"}),l.jsx(s.ZP,{className:"bg-red-500 text-white font-semibold",onClick:()=>{C(-1)},children:"Huỷ"})]})]})}),l.jsx("div",{className:"border-t-2 w-full overflow-x-auto",children:l.jsx("div",{className:"w-full",children:l.jsx(o.Z,{columns:[{title:"M\xe3 trạng th\xe1i",dataIndex:"status_activity_id",key:"status_activity_id",render:(e,t,i)=>(0,l.jsxs)("div",{className:"flex gap-1 items-center",children:["#",i+1,".",e]})},{title:"T\xean loại",dataIndex:["type_activity","name"],width:"25%",key:"name_type",render:e=>l.jsx(l.Fragment,{children:l.jsx("strong",{className:"flex gap-2 items-center",children:e})})},{title:"Tag trạng th\xe1i",dataIndex:"name_tag",width:"25%",key:"name_tag",render:e=>l.jsx(l.Fragment,{children:l.jsx("strong",{className:"flex gap-2 items-center",children:e})})},{title:"T\xean trạng th\xe1i",dataIndex:"name",width:"25%",key:"name",render:(e,t,i)=>l.jsx(l.Fragment,{children:(0,l.jsxs)("strong",{className:"flex gap-2 items-center",children:[e,l.jsx(s.ZP,{type:"link",onClick:()=>{T(i)},icon:l.jsx(p.FNg,{})}),l.jsx(s.ZP,{className:"  text-xs text-red-500 font-semibold",type:"text",onClick:()=>L(t?.status_activity_id),children:"X\xf3a"})]})})}],scroll:{x:"max-content"},className:"custom-table",dataSource:I,pagination:{pageSize:10,showTotal:(e,t)=>`${t[0]}-${t[1]} of ${e} items`},showSorterTooltip:{target:"sorter-icon"}})})})]})}),l.jsx(w.Z,{refBtnType:t}),l.jsx(a.Z,{open:""!==V,title:"X\xf3a dữ liệu",onOk:q,onCancel:()=>{L("")},children:"Bạn c\xf3 chắc chắn muốn x\xf3a kh\xf4ng ?"})]})}},23175:(e,t,i)=>{i.d(t,{Z:()=>j});var l=i(97247),n=i(28964),s=i(77951),a=i(61410),r=i(12927),d=i(1880),c=i(77709),o=i(99539),h=i(69160),x=i(38043),m=i(67427),p=i(23102),y=i(88192),g=i(80046),u=i(84675);let j=({refBtnType:e})=>{let[t,i]=(0,n.useState)(!1),[j,f]=(0,n.useState)(-1),Z=(0,p.I0)(),{datas:v}=(0,p.v9)(e=>e.get_type_activities),w=e=>{f(e),k.setFieldsValue(v?.[e])},[_,b]=(0,n.useState)(!1),{postdata:C}=(0,o.Z)(),[N]=(0,h.Z)(),[k]=(0,h.Z)(),[I,T]=(0,n.useState)(""),S=async()=>{200===await C(()=>y.Z.deleteTypeActivity([I??""]))&&(Z((0,g.cW)()),T(""))},F=async e=>{try{let t=await C(()=>y.Z.createTypeActivity(e));201===t&&(Z((0,g.cW)()),N.resetFields(),b(!1))}catch(e){console.error("Error creating product:",e)}},P=async e=>{try{let t=await C(()=>y.Z.updateTypeActivity(v?.[j??0].type_activity_id??"",e));200===t&&(Z((0,g.cW)()),Z((0,u.ij)({})),f(-1))}catch(e){console.error("Error creating product:",e)}};return(0,l.jsxs)(l.Fragment,{children:[l.jsx(s.ZP,{hidden:!!e,className:"bg-blue-400 border-0 text-white font-semibold",onClick:()=>{i(!0)},ref:e,children:"Loại hoạt động"}),l.jsx(a.Z,{title:(0,l.jsxs)("div",{style:{display:"flex",gap:"5px",alignItems:"center"},children:[l.jsx("span",{children:"Loại hoạt động"}),l.jsx(s.ZP,{className:"text-white font-semibold bg-orange-500",icon:l.jsx(x.gyF,{}),type:"default",onClick:()=>{N.resetFields(),b(!_)}})]}),open:t,onCancel:()=>{i(!1)},footer:null,width:"100%",style:{maxWidth:"800px"},children:(0,l.jsxs)("div",{className:"flex flex-col gap-2",children:[l.jsx("div",{className:"bg-slate-200 px-1 py-2 rounded-md",hidden:!_,children:(0,l.jsxs)(r.Z,{form:N,onFinish:F,style:{display:"flex",flexWrap:"wrap",gap:"8px"},children:[l.jsx(r.Z.Item,{name:"name",rules:[{required:!0,message:"Vui l\xf2ng nhập t\xean loại"}],style:{flex:"1 1 0%",margin:"0"},children:l.jsx(d.default,{placeholder:"Nhập t\xean loại"})}),l.jsx(r.Z.Item,{name:"name_tag",rules:[{required:!0,message:"Vui l\xf2ng nhập tag loại"}],style:{flex:"1 1 0%",margin:"0"},children:l.jsx(d.default,{placeholder:"Nhập tag loại"})}),l.jsx(r.Z.Item,{style:{display:"flex",justifyContent:"end",margin:"0"},children:l.jsx(s.ZP,{className:"bg-green-500 text-white font-semibold",onClick:()=>{N.submit()},children:"Th\xeam"})})]})}),l.jsx("div",{className:"bg-slate-200 px-1 py-2 rounded-md",hidden:!(j>-1),children:(0,l.jsxs)(r.Z,{form:k,onFinish:P,style:{display:"flex",flexWrap:"wrap",gap:"8px"},children:[l.jsx(r.Z.Item,{name:"name",rules:[{required:!0,message:"Vui l\xf2ng nhập t\xean loại"}],style:{flex:"1 1 0%",margin:"0"},children:l.jsx(d.default,{placeholder:"Nhập t\xean loại"})}),l.jsx(r.Z.Item,{name:"name_tag",rules:[{required:!0,message:"Vui l\xf2ng nhập tag loại"}],style:{flex:"1 1 0%",margin:"0"},children:l.jsx(d.default,{placeholder:"Nhập tag loại"})}),(0,l.jsxs)(r.Z.Item,{style:{display:"flex",gap:"2px",justifyContent:"end",margin:"0"},children:[l.jsx(s.ZP,{className:"bg-yellow-500 text-white font-semibold",htmlType:"submit",children:"Cập nhật"}),l.jsx(s.ZP,{className:"bg-red-500 text-white font-semibold",onClick:()=>{f(-1)},children:"Huỷ"})]})]})}),l.jsx("div",{className:"border-t-2 w-full overflow-x-auto",children:l.jsx("div",{className:"w-full",children:l.jsx(c.Z,{columns:[{title:"M\xe3 loại",dataIndex:"type_activity_id",key:"type_activity_id",render:(e,t,i)=>(0,l.jsxs)("div",{className:"flex gap-1 items-center",children:["#",i+1,".",e]})},{title:"Tag loại",dataIndex:"name_tag",width:"35%",key:"name_tag",render:e=>l.jsx(l.Fragment,{children:l.jsx("strong",{className:"flex gap-2 items-center",children:e})})},{title:"T\xean loại",dataIndex:"name",width:"40%",key:"name",render:(e,t,i)=>l.jsx(l.Fragment,{children:(0,l.jsxs)("strong",{className:"flex gap-2 items-center",children:[e,l.jsx(s.ZP,{type:"link",onClick:()=>{w(i)},icon:l.jsx(m.FNg,{})}),l.jsx(s.ZP,{className:"  text-xs text-red-500 font-semibold",type:"text",onClick:()=>T(t?.type_activity_id),children:"X\xf3a"})]})})}],scroll:{x:"max-content"},className:"custom-table",dataSource:v,pagination:{pageSize:10,showTotal:(e,t)=>`${t[0]}-${t[1]} of ${e} items`},showSorterTooltip:{target:"sorter-icon"}})})})]})}),l.jsx(a.Z,{open:""!==I,title:"X\xf3a dữ liệu",onOk:S,onCancel:()=>{T("")},children:"Bạn c\xf3 chắc chắn muốn x\xf3a kh\xf4ng ?"})]})}}};