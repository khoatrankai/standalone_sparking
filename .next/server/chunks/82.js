exports.id=82,exports.ids=[82],exports.modules={60082:(e,t,l)=>{"use strict";l.d(t,{Z:()=>R});var a=l(97247),r=l(28964),i=l(77951),n=l(41479),s=l(39884),o=l(61410),d=l(77709),c=l(96538),h=l(23102),p=l(8353),m=l(27035),g=l.n(m),u=l(99539);l(80890);var x=l(17082),f=l(1880),C=l(65794),y=l(82140),v=l(12927),j=l(95718),b=l(35090),w=l(69160),_=l(41201),T=l(75142),N=l(16523),F=l(57233),k=l(99801),Z=l.n(k);function S({ID:e}){let t=(0,r.useRef)(),[l,n]=(0,r.useState)(!1),{datas:c}=(0,h.v9)(e=>e.vat_system),{datas:p}=(0,h.v9)(e=>e.get_projects),{datas:m}=(0,h.v9)(e=>e.infos_customer),{datas:g}=(0,h.v9)(e=>e.info_products),{datas:k}=(0,h.v9)(e=>e.unit_product),{datas:S}=(0,h.v9)(e=>e.get_profits),{datas:$}=(0,h.v9)(e=>e.type_package),[A,z]=(0,r.useState)(0),[W,P]=(0,r.useState)("percent"),[I,O]=(0,r.useState)("none"),[B,L]=(0,r.useState)(0),[q,D]=(0,r.useState)([]),[V,M]=(0,r.useState)(0),[U,E]=(0,r.useState)(0),R=(0,a.jsxs)(s.Z,{defaultValue:"percent",onChange:e=>{P(e)},children:[a.jsx(_.W,{value:"percent",children:"%"}),a.jsx(_.W,{value:"money",children:"vnđ"})]}),G=e=>[{title:"Loại sản phẩm",dataIndex:["type","name"],key:"type",render:(t,l,r)=>(0,a.jsxs)("div",{className:"flex gap-1 items-center",children:[l.name&&a.jsx(N.KVB,{className:"cursor-pointer text-lg",onClick:()=>{K(e,r)}}),t]})},{title:"T\xean sản phẩm",dataIndex:"name",key:"name"},{title:"M\xf4 tả",dataIndex:"description",key:"description",render:(t,l,r)=>l.name?a.jsx(a.Fragment,{children:a.jsx("p",{children:t?.length>20?`${t.slice(0,20)}...`:t})}):a.jsx(a.Fragment,{children:a.jsx(f.default.TextArea,{placeholder:"M\xf4 tả chi tiết",value:t,onChange:t=>{D(a=>a.map((a,i)=>i===e?{...a,products:a.products.map((e,a)=>a===l?.ikey?{...e,children:e.children?.map((e,l)=>l===r?{...e,description:t.target.value}:e)}:e)}:a))},autoSize:{minRows:1}})})},{title:"Đơn vị",dataIndex:"unit",key:"unit",width:"100px",render:(t,l,r)=>l.name?a.jsx(a.Fragment,{children:l?.unit_product?.name_unit}):a.jsx(s.Z,{placeholder:"Chọn đơn vị",showSearch:!0,value:t,onChange:t=>{D(a=>a.map((a,i)=>i===e?{...a,products:a.products.map((e,a)=>a===l?.ikey?{...e,children:e.children?.map((e,l)=>l===r?{...e,unit:t}:e)}:e)}:a))},filterOption:(e,t)=>(t?.children?.join("")??"").toLowerCase().includes(e.toLowerCase()),children:k?.map(e=>a.jsx(_.W,{value:e.unit_id,children:e.name_unit},e.unit_id))})},{title:"Số lượng",dataIndex:"quantity",key:"quantity",width:"30px",render:(t,l,r)=>l.name?a.jsx(a.Fragment,{children:a.jsx(C.Z,{onChange:t=>{D(l=>l.map((l,a)=>a===e?{...l,products:l.products.map((e,l)=>l===r?{...e,quantity:t}:e)}:l))},min:1,value:t})}):a.jsx(C.Z,{min:1,value:t,onChange:t=>{D(a=>a.map((a,i)=>i===e?{...a,products:a.products.map((e,a)=>a===l?.ikey?{...e,children:e.children?.map((e,l)=>l===r?{...e,quantity:t??1}:e)}:e)}:a))}})},{title:"Gi\xe1 sản phẩm (VNĐ)",dataIndex:"price",key:"price",width:"120px",render:(t,l,r)=>a.jsx(a.Fragment,{children:a.jsx(C.Z,{placeholder:"Gi\xe1",onChange:t=>{l.name?D(l=>l.map((l,a)=>a===e?{...l,products:l.products.map((e,l)=>l===r?{...e,price:t}:e)}:l)):D(a=>a.map((a,i)=>i===e?{...a,products:a.products.map((e,a)=>a===l?.ikey?{...e,children:e.children?.map((e,l)=>l===r?{...e,price:t??1}:e)}:e)}:a))},className:"w-full",value:t,formatter:e=>`${e}`.replace(/\B(?=(\d{3})+(?!\d))/g,","),parser:e=>e?.replace(/\$\s?|(,*)/g,"")})})},{title:"Thuế VAT",dataIndex:"vat",key:"vat",width:"30px",render:(t,l,r)=>{if(l.name)return a.jsx(a.Fragment,{children:a.jsx(s.Z,{placeholder:"Chọn loại thuế",showSearch:!0,defaultValue:t,onChange:t=>{D(l=>l.map((l,a)=>a===e?{...l,products:l.products.map((e,l)=>l===r?{...e,vat:t}:e)}:l))},filterOption:(e,t)=>(t?.children?.join("")??"").toLowerCase().includes(e.toLowerCase()),children:c?.map(e=>a.jsxs(_.W,{value:e.vat_id,children:[e.type_vat,"%"]},e.vat_id))})})}},{title:"Lợi nhuận",dataIndex:"profit",key:"profit",width:"30px",render:(t,l,r)=>{if(l.name)return a.jsx(a.Fragment,{children:a.jsx(s.Z,{placeholder:"Chọn loại thuế",showSearch:!0,defaultValue:t,onChange:t=>{D(l=>l.map((l,a)=>a===e?{...l,products:l.products.map((e,l)=>l===r?{...e,profit:t}:e)}:l))},filterOption:(e,t)=>(t?.children?.join("")??"").toLowerCase().includes(e.toLowerCase()),children:S?.map(e=>a.jsxs(_.W,{value:e.profit_id,children:[e.type_profit,"%"]},e.profit_id))})})}},{title:"",dataIndex:"",key:"",render:(t,l,r)=>a.jsx("div",{className:"flex gap-2 items-center",children:a.jsx(i.ZP,{type:"primary",onClick:()=>{l.name?D(t=>t.map((t,l)=>l===e?{...t,products:t.products.filter((e,t)=>t!==r)}:t)):D(t=>t.map((t,a)=>a===e?{...t,products:t.products.map((e,t)=>t===l?.ikey?{...e,children:e.children?.filter((e,t)=>t!==r)}:e)}:t))},className:"bg-red-500",icon:a.jsx(N.ZkW,{})})})}],[J]=(0,w.Z)(),{postdata:H}=(0,u.Z)(),{datas:Y}=(0,h.v9)(e=>e.get_users),[Q,X]=(0,r.useState)(!1),K=(e,t)=>{D(l=>l.map((l,a)=>a===e?{...l,products:l.products.map((l,a)=>a===t?{...l,key:a,children:l.children?[...l.children,{ikey:t,key:1e4*e+1e3*a+l.children.length+100,description:"",unit:"",quantity:1,price:0}]:[{ikey:t,key:1e4*e+1e3*a+100,description:"",unit:"",quantity:1,price:0}]}:l)}:l))},ee=async t=>{let l=await H(()=>x.Z.updatePriceQuote(e,{...t,parts:q.map(e=>({title:e.title,products:e.products.map(e=>({product:e.product_id,price:e.price,quantity:e.quantity,vat:e.vat,profit:e.profit,list_detail:e.children})),type_package:e.type_package}))}));(200===l||201===l)&&X(!1)},et=async()=>{let t=await x.Z.getPriceQuoteID(e);200===t.statusCode&&(t.data.opportunity&&n(!0),D(t.data.parts.map((e,t)=>({...e,products:e.products.map((e,l)=>({...e,children:e.list_detail.map((e,a)=>({...e,ikey:l,key:1e4*t+1e3*l+a+100})),key:l})),type_package:e?.type_package?.package_id??""}))),J.setFieldsValue({...t.data}))},el=async(e,t)=>{t&&D(l=>l.map((l,a)=>a===e?l.products.find(e=>e.product_id===t.product_id)?{...l,products:l.products.map(e=>e.product_id===t.product_id?{...e,quantity:e.quantity+1}:e)}:{...l,products:[...l.products,{...t,quantity:1}]}:l))},ea=async()=>{D(e=>[...e,{title:"",products:[],type_package:""}])},er=async(e,t)=>{D(l=>l.map((l,a)=>a===e?{...l,type_package:t}:l))},ei=async()=>{J.submit()},en=async(e,t)=>{D(l=>l.map((l,a)=>a===e?{...l,title:t}:l))};return(0,a.jsxs)(a.Fragment,{children:[a.jsx(i.ZP,{className:"  text-xs text-yellow-500 font-semibold",type:"text",onClick:()=>{X(!0),et()},children:"Chỉnh sửa"}),(0,a.jsxs)(o.Z,{title:"Cập nhật b\xe1o gi\xe1",open:Q,onCancel:()=>{X(!1)},footer:null,width:"100%",style:{maxWidth:"1000px"},children:[(0,a.jsxs)(y.Z,{defaultActiveKey:"1",style:{width:"100%"},type:"line",children:[a.jsx(T.Z,{tab:"Th\xf4ng tin b\xe1o gi\xe1",children:(0,a.jsxs)(v.Z,{layout:"vertical",form:J,onFinish:ee,style:{display:"flex",flexWrap:"wrap",columnGap:"12px"},children:[l?a.jsx(v.Z.Item,{name:"customer",label:"Kh\xe1ch h\xe0ng",style:{minWidth:"240px",flex:"1 1 0%"},children:a.jsx(s.Z,{disabled:!0,filterOption:(e,t)=>(Array.isArray(t?.children)?t.children.join(""):t?.children??"").toLowerCase().includes(e.toLowerCase()),children:m?.map(e=>a.jsx(_.W,{value:e.info_id,children:e.name_company},e.info_id))})}):a.jsx(v.Z.Item,{name:"project",label:"Dự \xe1n b\xe1o gi\xe1",rules:[{required:!0,message:"Vui l\xf2ng chọn dự \xe1n!"}],style:{minWidth:"240px",flex:"1 1 0%"},children:a.jsx(s.Z,{placeholder:"Chọn dự \xe1n",showSearch:!0,filterOption:(e,t)=>(Array.isArray(t?.children)?t.children.join(""):t?.children??"").toLowerCase().includes(e.toLowerCase()),dropdownRender:e=>(0,a.jsxs)(a.Fragment,{children:[e,a.jsx(j.Z,{style:{margin:"8px 0"}}),a.jsx(i.ZP,{type:"link",onClick:()=>{t.current?.click()},children:"+ Th\xeam t\xf9y chọn mới"})]}),children:p?.map(e=>a.jsx(_.W,{value:e.project_id,children:e.name},e.project_id))})}),a.jsx(v.Z.Item,{name:"reference_code",label:"M\xe3 tham chiếu",style:{minWidth:"240px",flex:"1 1 0%"},children:a.jsx(f.default,{})}),a.jsx(v.Z.Item,{name:"type_vat",label:"Loại thuế",style:{minWidth:"240px",flex:"1 1 0%"},children:(0,a.jsxs)(s.Z,{placeholder:"Select discount type",defaultValue:"none",onChange:e=>{O(e)},children:[a.jsx(_.W,{value:"none",children:"None"}),a.jsx(_.W,{value:"before",children:"Before"}),a.jsx(_.W,{value:"after",children:"After"})]})}),a.jsx(v.Z.Item,{name:"type_money",label:"Đơn vị tiền",style:{minWidth:"240px",flex:"1 1 0%"},children:(0,a.jsxs)(s.Z,{placeholder:"Select a currency type",children:[a.jsx(_.W,{value:"vnd",children:"VND"}),a.jsx(_.W,{value:"usd",children:"USD"})]})}),a.jsx(v.Z.Item,{name:"user_support",label:"Người phụ tr\xe1ch",style:{minWidth:"240px",flex:"1 1 0%"},children:a.jsx(s.Z,{placeholder:"Chọn nh\xe2n vi\xean",showSearch:!0,filterOption:(e,t)=>(Array.isArray(t?.children)?t.children.join(""):t?.children??"").toLowerCase().includes(e.toLowerCase()),children:Y?.map(e=>a.jsxs(_.W,{value:e.user_id,children:[e.first_name," ",e.last_name]},e.user_id))})}),a.jsx(v.Z.Item,{name:"status",label:"Trạng th\xe1i",rules:[{required:!0}],style:{minWidth:"240px",flex:"1 1 0%"},children:(0,a.jsxs)(s.Z,{placeholder:"Select status",children:[a.jsx(_.W,{value:"draff",children:"Draff"}),a.jsx(_.W,{value:"send",children:"Send"}),a.jsx(_.W,{value:"open",children:"Open"}),a.jsx(_.W,{value:"edit",children:"Edit"}),a.jsx(_.W,{value:"refuse",children:"Refuse"}),a.jsx(_.W,{value:"accept",children:"Accept"})]})}),a.jsx(v.Z.Item,{name:"date_start",label:"Ng\xe0y bắt đầu",initialValue:"",className:" mb-0",style:{minWidth:"320px",flex:"1 1 0%"},getValueFromEvent:e=>e?.format("YYYY-MM-DD"),getValueProps:e=>({value:e?Z()(e):""}),children:a.jsx(b.default,{placeholder:"Chọn ng\xe0y bắt đầu",style:{width:"100%"}})}),a.jsx(v.Z.Item,{name:"date_expired",label:"Ng\xe0y kết th\xfac",rules:[{required:!0}],initialValue:"",className:" mb-0",style:{minWidth:"320px",flex:"1 1 0%"},getValueFromEvent:e=>e?.format("YYYY-MM-DD"),getValueProps:e=>({value:e?Z()(e):""}),children:a.jsx(b.default,{placeholder:"Chọn ng\xe0y kết th\xfac",style:{width:"100%"}})})]})},1),(0,a.jsxs)(T.Z,{tab:"Th\xf4ng tin sản phẩm",children:[a.jsx(i.ZP,{type:"primary",className:"mb-4",onClick:ea,children:"Th\xeam th\xe0nh phần"}),q.length>0&&a.jsx("div",{className:"flex gap-2 flex-col p-2 bg-[#00A9AE] rounded-sm",children:q.map((e,t)=>a.jsx(a.Fragment,{children:(0,a.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,a.jsxs)("div",{className:"flex gap-2",children:[a.jsx(s.Z,{placeholder:"Chọn sản phẩm cần th\xeam",showSearch:!0,className:"min-w-56",onSelect:e=>{el(t,g.find(t=>t.product_id===e))},filterOption:(e,t)=>(t?.children?.join("")??"").toLowerCase().includes(e.toLowerCase()),children:g?.map(e=>a.jsx(_.W,{value:e.product_id,children:e.name},e.product_id))}),(0,a.jsxs)("div",{className:"flex gap-2",children:[q.length>1&&a.jsx(f.default,{defaultValue:e.title,onChange:e=>{en(t,e.target.value)},placeholder:"Nhập t\xean ti\xeau đề"}),a.jsx(s.Z,{placeholder:"Chọn g\xf3i",showSearch:!0,allowClear:!0,className:"min-w-56",defaultValue:e.type_package,onSelect:e=>{er(t,e)},onClear:()=>{er(t,void 0)},filterOption:(e,t)=>(t?.children?.join("")??"").toLowerCase().includes(e.toLowerCase()),children:$?.map(e=>a.jsx(_.W,{value:e.package_id,children:e.name_package},e.package_id))})]})]}),a.jsx("div",{className:" w-full overflow-x-auto",children:a.jsx("div",{className:"min-w-fit custom-table-wrapper",children:a.jsx(d.Z,{columns:G(t),showHeader:0===t,footer:()=>{let e=q[t].products.reduce((e,t)=>{let l=t.price*t.quantity*((S.find(e=>e.profit_id===t.profit)?.type_profit??0)/100);return t.price*t.quantity+l+e},0);return(0,a.jsxs)("div",{className:"flex gap-2",children:[a.jsx("strong",{children:"Gi\xe1 trị:"})," ",e.toLocaleString("vi-VN")," VNĐ"]})},dataSource:e.products,pagination:{pageSize:10,showTotal:(e,t)=>`${t[0]}-${t[1]} of ${e} items`},scroll:{x:"max-content",y:200},showSorterTooltip:{target:"sorter-icon"}})})})]})}))})]},2)]}),(0,a.jsxs)("div",{className:"flex flex-col items-end gap-2 p-2 w-full bg-slate-100 rounded-sm",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[a.jsx("p",{className:"w-80 flex justify-end",children:"Tổng:"}),(0,a.jsxs)("span",{className:"min-w-32 flex justify-end",children:[Math.round(B).toLocaleString("vi-VN"),"đ"]})]}),a.jsx("div",{children:(0,a.jsxs)("div",{className:"flex items-center justify-end",children:[(0,a.jsxs)("div",{className:"w-80 flex items-center justify-end gap-2",children:["Chiết khấu"," ",a.jsx("div",{className:"w-60",children:a.jsx(C.Z,{addonAfter:R,defaultValue:0,onChange:e=>{z(e??0)}})})]}),(0,a.jsxs)("span",{className:"min-w-32 flex justify-end",children:["-",V.toLocaleString("vi-VN"),"đ"]})]})}),(0,a.jsxs)("div",{className:"flex items-center",children:[a.jsx("p",{className:"w-80 flex justify-end",children:"Thuế:"}),(0,a.jsxs)("span",{className:"min-w-32 flex justify-end",children:[Math.round(U).toLocaleString("vi-VN"),"đ"]})]}),(0,a.jsxs)("div",{className:"flex items-center text-xl text-red-500",children:[a.jsx("p",{className:"w-80 flex justify-end",children:"Th\xe0nh tiền:"}),(0,a.jsxs)("span",{className:"min-w-32 flex justify-end",children:[Math.round(B-V+U).toLocaleString("vi-VN"),"đ"]})]})]}),a.jsx("div",{className:"flex justify-end w-full mt-4",children:a.jsx(i.ZP,{type:"primary",onClick:ei,children:"Cập nhật"})})]}),a.jsx(F.Z,{refBtnProject:t})]})}var $=l(45018),A=l(34178),z=l(67552);function W(){let e=(0,z.Z)(["admin-top","price_quote","price_quote-edit"]),{customerID:t}=(0,A.useParams)(),[l,m]=(0,r.useState)(25),{datas:f}=(0,h.v9)(e=>e.get_price_quotes),{datas:C}=(0,h.v9)(e=>e.unit_product),y=async e=>{let t=(e,t,l)=>{let a=e.split("\n");return l*(a.length+a.reduce((e,l)=>Math.ceil(l.length/t)-1+e,0))*100/80},l=e.parts.map(e=>({title:e.title,list:e.products.map(e=>({name:e.name,description:e.description,refresh_code:e.code_original,brand:e.brand.name+" "+e.original.name,unit:e.unit_product.name_unit,quantity:e.quantity,profit:e.profit.type_profit,price:e.price,list_detail:e.list_detail})),type:!!e.products.find(e=>e.list_detail.length>0)})),a=new(g()).Workbook,r=a.addWorksheet("Sheet 1"),i=await fetch("/image/header.png").then(e=>e.arrayBuffer()),n=[{title:"Điều khoản thương mại chung",list:["Địa điểm giao h\xe0ng: Gi\xe1 tr\xean được hiểu l\xe0 gi\xe1 giao h\xe0ng đến c\xf4ng tr\xecnh","Thiết bị cung cấp v\xe0 thi c\xf4ng, lắp đặt l\xe0 h\xe0ng h\xf3a mới 100%","Bảng gi\xe1 n\xe0y c\xf3 gi\xe1 trị 30 ng\xe0y kể từ ng\xe0y b\xe1o gi\xe1","Thời hạn thực hiện: Trong v\xf2ng 4-6 tuần kể từ ng\xe0y k\xfd hợp đồng hoặc b\xe1o gi\xe1 c\xf3 hiệu lực"]}];console.log("qua roi");let s=Buffer.from(i),o=a.addImage({buffer:s,extension:"png"});r.addImage(o,{tl:{col:1,row:0},ext:{width:1021,height:120}});let d=[{index:10,height:22.8},{index:11,height:20.4},{index:14,height:20.1},{index:15,height:20.1},{index:16,height:20.1},{index:17,height:20.1},{index:18,height:20.1},{index:19,height:20.1},{index:24,height:59.1}];r.mergeCells("B10:J10"),r.getCell("B10").alignment={horizontal:"center",vertical:"middle",wrapText:!0},r.mergeCells("B11:J11"),r.getCell("B11").alignment={horizontal:"center",vertical:"middle",wrapText:!0};for(let e=0;e<d.length;e++)r.getRow(d[e].index).height=100*d[e].height/80;r.getCell("B10").value={richText:[{text:e?.project?.name??"",font:{bold:!0,size:18,name:"Arial"}}]},r.getCell("B11").value={richText:[{text:"Option 2: Entrance and Exit controlled by manpower (Parking Toll: BOOTH)",font:{bold:!1,size:16,color:{argb:"FF0000"},name:"Arial"}}]},r.getCell("B14").value={richText:[{text:"K\xednh gửi/To: ",font:{bold:!1}},{text:e?.project?.customer?.name_company.toUpperCase()??e?.customer?.name_company.toUpperCase()??"",font:{bold:!0}}]},r.getCell("B15").value={richText:[{text:"Địa chỉ/Address: ",font:{bold:!1}},{text:(e?.project?.customer?.address_delivery??e?.customer?.address_delivery??","+e?.project?.customer?.province_delivery?.name_province).toUpperCase()??e?.customer?.province_delivery?.name_province.toUpperCase()??"",font:{bold:!0}}]},r.getCell("B16").value={richText:[{text:"Người nhận/Receiver: ",font:{bold:!1}},{text:e?.project?.customer?.name_company?.toUpperCase()??e?.customer?.name_company?.toUpperCase()??"",font:{bold:!0}}]},r.getCell("B17").value={richText:[{text:"Tel: ",font:{bold:!1}},{text:e?.project?.customer?.phone_number?.toUpperCase()??e?.customer?.phone_number?.toUpperCase()??"",font:{bold:!0}}]},r.getCell("B18").value={richText:[{text:"Email: ",font:{bold:!1}},{text:e?.project?.customer?.phone_number??e?.customer?.phone_number??"",font:{bold:!0}}]},r.getCell("G14").value={richText:[{text:"Số b\xe1o gi\xe1/Quotation: ",font:{bold:!1}},{text:e.price_quote_id.toUpperCase(),font:{bold:!0}}]},r.getCell("G15").value={richText:[{text:"Ng\xe0y b\xe1o gi\xe1/Date: ",font:{bold:!1}},{text:new Date(e.created_at).toLocaleDateString("vi-VN")??"N/A",font:{bold:!0}}]},r.getCell("G16").value={richText:[{text:"Người b\xe1o gi\xe1/ Quoted by: ",font:{bold:!1}},{text:(e.user_support?.first_name??" "+e.user_support?.last_name??"").toUpperCase(),font:{bold:!0}}]},r.getCell("G17").value={richText:[{text:"Phone: ",font:{bold:!1}},{text:"+84.906.862.780",font:{bold:!0}}]},r.getCell("G18").value={richText:[{text:"Email: ",font:{bold:!1}},{text:"contact@sparking.com.vn",font:{bold:!0}}]},r.getCell("B24").value={richText:[{text:"STT\n",font:{bold:!0,name:"Arial",size:12}},{text:"No.",font:{bold:!1,name:"Arial",size:12}}]},r.getCell("C24").value={richText:[{text:"M\xf4 tả\n",font:{bold:!0,name:"Arial",size:12}},{text:"Description",font:{bold:!1,name:"Arial",size:12}}]},r.getCell("D24").value={richText:[{text:"Diễn giải\n",font:{bold:!0,name:"Arial",size:12}},{text:"Note",font:{bold:!1,name:"Arial",size:12}}]},r.getCell("E24").value={richText:[{text:"M\xe3 hiệu\n",font:{bold:!0,name:"Arial",size:12}},{text:"Code",font:{bold:!1,name:"Arial",size:12}}]},r.getCell("F24").value={richText:[{text:"Thương hiệu/ Xuất xứ\n",font:{bold:!0,name:"Arial",size:12}},{text:"Brand/ Original",font:{bold:!1,name:"Arial",size:12}}]},r.getCell("G24").value={richText:[{text:"ĐVT\n",font:{bold:!0,name:"Arial",size:12}},{text:"Unit",font:{bold:!1,name:"Arial",size:12}}]},r.getCell("H24").value={richText:[{text:"Số lượng\n",font:{bold:!0,name:"Arial",size:12}},{text:"Qty.",font:{bold:!1,name:"Arial",size:12}}]},r.getCell("I24").value={richText:[{text:"Đơn gi\xe1\n",font:{bold:!0,name:"Arial",size:12}},{text:"Unit Price\n",font:{bold:!1,name:"Arial",size:12}},{text:"(VND)",font:{bold:!1,name:"Arial",size:12}}]},r.getCell("J24").value={richText:[{text:"Th\xe0nh tiền\n",font:{bold:!0,name:"Arial",size:12}},{text:"Amount Price",font:{bold:!1,name:"Arial",size:12}}]},r.getCell("M24").value={richText:[{text:"MUA",font:{bold:!0}}]},r.getCell("M24").border={top:{style:"dashed"},left:{style:"dashed"},bottom:{style:"dashed"},right:{style:"dashed"}},r.getCell("N24").value={richText:[{text:"TỶ LỆ",font:{bold:!0}}]},r.getCell("N24").border={top:{style:"dashed"},left:{style:"dashed"},bottom:{style:"dashed"},right:{style:"dashed"}},r.getCell("O24").value={richText:[{text:"TỔNG MUA",font:{bold:!0,color:{argb:"FF0000"}}}]},r.getCell("O24").fill={type:"pattern",pattern:"solid",fgColor:{argb:"FFFFCC"}},r.getCell("O24").border={top:{style:"dashed"},left:{style:"dashed"},bottom:{style:"dashed"},right:{style:"dashed"}},r.getCell("P24").value={richText:[{text:"B\xc1N",font:{bold:!0}}]},r.getCell("P24").border={top:{style:"dashed"},left:{style:"dashed"},bottom:{style:"dashed"},right:{style:"dashed"}},(()=>{let e=25,a=1,i=[];l.forEach(l=>{i.push(e),r.getCell(`B${e}`).value={richText:[{text:`${l.title.toUpperCase()}`,font:{bold:!0,color:{argb:"FF0000"}}}]};for(let t=2;t<=16;t++)r.getCell(e,t).alignment={vertical:"middle"};r.getRow(e).height=43.875,r.getCell(`J${e}`).value={formula:`SUBTOTAL(9,J${e+1}:J${l.list.length+e})`,result:0},r.getCell(`J${e}`).font={color:{argb:"FF0000"},bold:!0},r.getCell(e,10).numFmt="#,##0",r.getCell(`M${e}`).fill={type:"pattern",pattern:"solid",fgColor:{argb:"F2F2F2"}},r.getCell(`O${e}`).value={formula:`SUBTOTAL(9,O${e+1}:O${l.list.length+l.list.reduce((e,t)=>t?.list_detail.length>0?t.list_detail.length+e:e,0)+e})`,result:0},r.getCell(`O${e}`).font={bold:!0},r.getCell(e,15).numFmt="#,##0",r.getCell(`O${e}`).fill={type:"pattern",pattern:"solid",fgColor:{argb:"FFFFCC"}},r.getCell(`P${e}`).numFmt="0%",r.getCell(`P${e}`).value={formula:`(J${e}-O${e})/J${e}`,result:0},r.getCell(`P${e}`).font={color:{argb:"FF0000"},bold:!0},r.getCell(`P${e}`).fill={type:"pattern",pattern:"solid",fgColor:{argb:"CAEDFB"}},r.getCell(`J${e}`).border={right:{style:"thin"}};for(let t=1;t<=11;t++)r.getCell(e,t).fill={type:"pattern",pattern:"solid",fgColor:{argb:"CAEDFB"}};for(let t=13;t<17;t++)r.getCell(e,t).border={top:{style:"dashed"},left:{style:"dashed"},bottom:{style:"dashed"},right:{style:"dashed"}};r.getCell(`B${e}`).border={left:{style:"thin"}},e++,l.type?l.list.forEach((l,a)=>{r.getRow(e).height=t(l.description,30,18),r.getCell(e,2).value=a+1,r.getCell(e,2).alignment={vertical:"middle",horizontal:"center",wrapText:!0};for(let t=2;t<11;t++)r.getCell(e,t).border={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}};r.getCell(e,3).value=l.name,r.getCell(e,3).alignment={vertical:"middle",wrapText:!0},r.getCell(e,4).value=l.description,r.getCell(e,4).alignment={vertical:"middle",wrapText:!0},r.getCell(e,5).value=l.refresh_code,r.getCell(e,5).alignment={vertical:"middle",horizontal:"center",wrapText:!0},r.getCell(e,6).value=l.brand,r.getCell(e,6).alignment={vertical:"middle",horizontal:"center",wrapText:!0},r.getCell(e,7).value=l.unit,r.getCell(e,7).alignment={vertical:"middle",horizontal:"center",wrapText:!0},r.getCell(e,8).value=l.quantity,r.getCell(e,8).alignment={vertical:"middle",horizontal:"center",wrapText:!0},r.getCell(e,9).value={formula:`ROUNDUP(P${e},-4)`},r.getCell(e,9).alignment={vertical:"middle",horizontal:"right",wrapText:!0},r.getCell(e,9).numFmt="#,##0",r.getCell(e,10).numFmt="#,##0",r.getCell(e,15).numFmt="#,##0",r.getCell(e,16).numFmt="#,##0",r.getCell(e,10).value={formula:`H${e}*I${e}`},r.getCell(e,10).alignment={vertical:"middle",horizontal:"right",wrapText:!0},r.getCell(e,13).value={formula:`O${e}`},r.getCell(e,13).numFmt="#,##0",r.getCell(e,13).alignment={vertical:"middle",horizontal:"center",wrapText:!0},r.getCell(e,13).font={color:{argb:"FF0000"}},r.getCell(e,13).fill={type:"pattern",pattern:"solid",fgColor:{argb:"F2F2F2"}},r.getCell(e,14).value=l.profit/100,r.getCell(e,14).numFmt="0%",r.getCell(e,14).alignment={vertical:"middle",horizontal:"right",wrapText:!0},r.getCell(e,15).value={formula:`SUBTOTAL(9,O${e+1}:O${l.list_detail.length+e})`},r.getCell(e,15).font={bold:!0},r.getCell(e,15).alignment={vertical:"middle",horizontal:"right",wrapText:!0},r.getCell(e,15).fill={type:"pattern",pattern:"solid",fgColor:{argb:"FFFFCC"}},r.getCell(e,16).value={formula:`M${e}*N${e}+M${e}`},r.getCell(e,16).alignment={vertical:"middle",horizontal:"right",wrapText:!0};for(let t=13;t<17;t++)r.getCell(e,t).border={top:{style:"dashed"},left:{style:"dashed"},bottom:{style:"dashed"},right:{style:"dashed"}};e++,l.list_detail.forEach(t=>{let l=C.find(e=>e.unit_id===t.unit)?.name_unit;r.getCell(e,2).border={left:{style:"thin"},top:{style:"dashed"},bottom:{style:"dashed"},right:{style:"dashed"}},r.getCell(e,10).border={left:{style:"dashed"},top:{style:"dashed"},bottom:{style:"dashed"},right:{style:"thin"}};for(let t=3;t<10;t++)r.getCell(e,t).border={top:{style:"dashed"},left:{style:"dashed"},bottom:{style:"dashed"},right:{style:"dashed"}};r.getCell(e,4).value=t.description,r.getCell(e,4).alignment={vertical:"middle",wrapText:!0},r.getCell(e,7).alignment={vertical:"middle",horizontal:"center",wrapText:!0},r.getCell(e,8).value=t.quantity,r.getCell(e,8).alignment={vertical:"middle",horizontal:"center",wrapText:!0},r.getCell(e,13).value=t.price,r.getCell(e,13).numFmt="#,##0",r.getCell(e,13).alignment={vertical:"middle",horizontal:"center",wrapText:!0},r.getCell(e,13).fill={type:"pattern",pattern:"solid",fgColor:{argb:"F2F2F2"}},isNaN(Number(l))?(r.getCell(e,7).value=l,r.getCell(e,15).value={formula:`M${e}*H${e}`}):(r.getCell(e,7).value=Number(l),r.getCell(e,15).value={formula:`M${e}/G${e}*H${e}`}),r.getCell(e,15).alignment={vertical:"middle",horizontal:"right",wrapText:!0},r.getCell(e,15).numFmt="#,##0",r.getCell(e,15).fill={type:"pattern",pattern:"solid",fgColor:{argb:"FFFFCC"}};for(let t=13;t<17;t++)r.getCell(e,t).border={top:{style:"dashed"},left:{style:"dashed"},bottom:{style:"dashed"},right:{style:"dashed"}};e++})}):l.list.forEach(l=>{r.getRow(e).height=t(l.description,30,18),r.getCell(e,2).value=a++,r.getCell(e,2).alignment={vertical:"middle",horizontal:"center",wrapText:!0};for(let t=2;t<11;t++)r.getCell(e,t).border={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}};r.getCell(e,3).value=l.name,r.getCell(e,3).alignment={vertical:"middle",wrapText:!0},r.getCell(e,4).value=l.description,r.getCell(e,4).alignment={vertical:"middle",wrapText:!0},r.getCell(e,5).value=l.refresh_code,r.getCell(e,5).alignment={vertical:"middle",horizontal:"center",wrapText:!0},r.getCell(e,6).value=l.brand,r.getCell(e,6).alignment={vertical:"middle",horizontal:"center",wrapText:!0},r.getCell(e,7).value=l.unit,r.getCell(e,7).alignment={vertical:"middle",horizontal:"center",wrapText:!0},r.getCell(e,8).value=l.quantity,r.getCell(e,8).alignment={vertical:"middle",horizontal:"center",wrapText:!0},r.getCell(e,9).value={formula:`ROUNDUP(P${e},-4)`},r.getCell(e,9).alignment={vertical:"middle",horizontal:"right",wrapText:!0},r.getCell(e,9).numFmt="#,##0",r.getCell(e,10).numFmt="#,##0",r.getCell(e,15).numFmt="#,##0",r.getCell(e,16).numFmt="#,##0",r.getCell(e,10).value={formula:`H${e}*I${e}`},r.getCell(e,10).alignment={vertical:"middle",horizontal:"right",wrapText:!0},r.getCell(e,13).value=l.price,r.getCell(e,13).numFmt="#,##0",r.getCell(e,13).alignment={vertical:"middle",horizontal:"center",wrapText:!0},r.getCell(e,13).font={color:{argb:"FF0000"}},r.getCell(e,13).fill={type:"pattern",pattern:"solid",fgColor:{argb:"F2F2F2"}},r.getCell(e,14).value=l.profit/100,r.getCell(e,14).numFmt="0%",r.getCell(e,14).alignment={vertical:"middle",horizontal:"right",wrapText:!0},r.getCell(e,15).value={formula:`M${e}*H${e}`},r.getCell(e,15).alignment={vertical:"middle",horizontal:"right",wrapText:!0},r.getCell(e,15).fill={type:"pattern",pattern:"solid",fgColor:{argb:"FFFFCC"}},r.getCell(e,16).value={formula:`M${e}*N${e}+M${e}`},r.getCell(e,16).alignment={vertical:"middle",horizontal:"right",wrapText:!0};for(let t=13;t<17;t++)r.getCell(e,t).border={top:{style:"dashed"},left:{style:"dashed"},bottom:{style:"dashed"},right:{style:"dashed"}};e++})});for(let t=3;t<=10;t++)r.getCell(e,t).fill={type:"pattern",pattern:"solid",fgColor:{argb:"61CBF3"}},t>3&&t<10&&(r.getCell(e+4,t).fill={type:"pattern",pattern:"solid",fgColor:{argb:"D9D9D9"}});for(let t=13;t<=16;t++)(15===t||16===t)&&(r.getCell(e,t).fill={type:"pattern",pattern:"solid",fgColor:{argb:"61CBF3"}}),r.getCell(e,t).border={top:{style:"dashed"},left:{style:"dashed"},bottom:{style:"dashed"},right:{style:"dashed"}};r.getCell(e,8).value={richText:[{text:"Amount before VAT",font:{bold:!0}}]},r.getRow(e).height=60.625,r.getCell(e,10).value={formula:`SUBTOTAL(9,J25:J${e-1})`},r.getCell(e,10).numFmt="#,##0",r.getCell(e,10).font={bold:!0},r.getCell(e,15).value={formula:`SUBTOTAL(9,O25:O${e-1})`},r.getCell(e,15).numFmt="#,##0",r.getCell(e,15).font={bold:!0},r.getRow(e).eachCell(e=>{e.alignment||(e.alignment={}),e.alignment.vertical="middle"}),r.getCell(e+1,15).value={formula:`J${e}-O${e}`},r.getCell(e+1,15).numFmt="#,##0",r.getCell(e+2,15).value={formula:`O${e+1}/J${e}`},r.getCell(e+2,15).numFmt="0%",r.getCell(e+4,4).value={richText:[{text:"SUMARY",font:{color:{argb:"FF0000"}}}]},i.forEach((t,a)=>{r.getCell(e+4+1+a,4).value={richText:[{text:l[a].title,font:{bold:!0}}]},r.getCell(e+4+1+a,9).value={formula:`J${t}`},r.getCell(e+4+1+a,9).numFmt="#,##0"});let s=e+8+i.length;n.forEach(e=>{r.getCell(s,2).value={richText:[{text:e.title+":",font:{bold:!0}}]},s++,e.list.forEach(e=>{r.getCell(s,3).value={richText:[{text:e,font:{bold:!1}}]},s++})})})();for(let e=13;e<=19;e++)for(let t=1;t<=11;t++)r.getCell(e,t).fill={type:"pattern",pattern:"solid",fgColor:{argb:"F2F2F2"}};let c=[2.4,5.2,21.1,47.1,18.9,15.9,10.6,9.9,14.5,15.9,2.7,2.6,13.4,7.3,16.8,15.9];for(let e=1;e<=16;e++)if(r.getColumn(e).width=100*c[e-1]/98,e>12&&(r.getCell(24,e).alignment={vertical:"middle",horizontal:"center",wrapText:!0}),e<12){let t=r.getCell(24,e);e>1&&e<11&&(t.alignment={vertical:"middle",horizontal:"center",wrapText:!0},t.border={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}}),t.fill={type:"pattern",pattern:"solid",fgColor:{argb:"D9D9D9"}}}r.eachRow({includeEmpty:!0},e=>{e.eachCell(e=>{e.font||(e.font={}),e.font.name="Arial",e.font.size=12})});try{let t=await a.xlsx.writeBuffer(),l=new Blob([t],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"});(0,p.saveAs)(l,e.price_quote_id+".xlsx")}catch(e){console.log(e)}},[v,j]=(0,r.useState)([]),b=[{title:"B\xe1o gi\xe1#",className:"text-xs",dataIndex:"price_quote_id",render:(t,l,r)=>(0,a.jsxs)("div",{className:"flex flex-col gap-1 ",children:[(0,a.jsxs)("strong",{children:["#",r+1,"."]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[a.jsx(i.ZP,{type:"text",ghost:!0,className:"text-xs text-blue-600",onClick:()=>{_(t)},children:"Xuất"}),e&&a.jsx(S,{ID:t})]})]}),sorter:(e,t)=>e.price_quote_id.localeCompare(t.price_quote_id)},{title:"Dự \xe1n",className:"text-xs",dataIndex:["project","name"],sorter:(e,t)=>(e.project.name??"").localeCompare(t.project.name??""),render:e=>`${e}`},{title:"Ng\xe0y b\xe1o gi\xe1",className:"text-xs",dataIndex:"date_start",render:e=>e?new Date(e).toLocaleDateString("vi-VN"):"N/A",sorter:(e,t)=>e.date_start.toString().localeCompare(t.date_start.toString())},{title:"Ng\xe0y hết hạn",className:"text-xs",dataIndex:"date_expired",render:e=>e?new Date(e).toLocaleDateString("vi-VN"):"N/A",sorter:(e,t)=>e.date_expired.toString().localeCompare(t.date_expired.toString())},{title:"M\xe3 tham chiếu",className:"text-xs",dataIndex:"reference_code",sorter:(e,t)=>e.reference_code.localeCompare(t.reference_code)},{title:"T\xecnh trạng",className:"text-xs",dataIndex:"status",render:e=>a.jsx(a.Fragment,{children:(0,a.jsxs)(n.Z,{color:"draff"===e?"gray":"send"===e?"lightblue":"open"===e?"blue":"edit"===e?"yellow":"refuse"===e?"red":"accept"===e?"green":"",children:[e.charAt(0).toUpperCase()+e.slice(1)," "]})}),sorter:(e,t)=>e.status.localeCompare(t.status)}],w=e=>{j(f?.filter(t=>String(t.created_at+" "+t.date_expired+" "+t.date_start+" "+t.project.name+" "+t.price_quote_id+" "+t.user_support.last_name+" "+t.status).toLowerCase().includes(e.toLowerCase())))},_=async e=>{let t=await x.Z.getExportPriceQuote(e);200===t.statusCode&&await y(t.data)},{postdata:T}=(0,u.Z)(),F=(0,h.I0)(),[k,Z]=(0,r.useState)(!1),[W,P]=(0,r.useState)([]),I=async()=>{200===await T(()=>x.Z.deletePriceQuotes(W))&&(F((0,$.j)({customer:t})),P([]),Z(!1))};return(0,A.useSearchParams)(),(0,a.jsxs)("div",{className:"",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-2 flex-wrap gap-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[a.jsx(s.Z,{defaultValue:l,style:{width:83},onChange:e=>m(e),options:[{value:10,label:10},{value:25,label:25},{value:50,label:50},{value:100,label:100},{value:500,label:500},{value:1e3,label:1e3},{value:1e8,label:"Tất cả"}]}),a.jsx(i.ZP,{hidden:!(W.length>0),children:"Xuất ra"}),a.jsx(i.ZP,{onClick:()=>{Z(!0)},danger:!0,hidden:!(W.length>0),className:"text-xl",icon:a.jsx(N.FH3,{})}),a.jsx(o.Z,{open:k,title:"X\xf3a dữ liệu",onOk:I,onCancel:()=>{Z(!1)},children:"Bạn c\xf3 chắc chắn muốn x\xf3a kh\xf4ng ?"})]}),a.jsx("div",{className:"flex items-center",children:a.jsx(c.Z,{onChange:e=>{w(e.target.value)},placeholder:"T\xecm kiếm",style:{width:200}})})]}),a.jsx("div",{className:"w-full overflow-auto",children:a.jsx("div",{className:"min-w-fit",children:a.jsx(d.Z,{columns:b,rowSelection:{onChange:(e,t)=>{P(t.map(e=>e.price_quote_id??""))}},dataSource:v,scroll:{x:"max-content"},pagination:{pageSize:l,showTotal:(e,t)=>`${t[0]}-${t[1]} of ${e} items`},showSorterTooltip:{target:"sorter-icon"}})})})]})}var P=l(69486),I=l(79906),O=l(56342),B=l(38043),L=l(67427),q=l(98065),D=l(53803),V=l(18729);let M=({refBtnTypePackage:e})=>{let[t,l]=(0,r.useState)(!1),[n,s]=(0,r.useState)([]),c=(0,h.I0)(),{datas:p}=(0,h.v9)(e=>e.type_package),m=async(e,t,l)=>{try{let a=await b(()=>x.Z.updateTypePackage(t,e));200===a&&(c((0,V.v)()),C(l))}catch(e){console.error("Error creating unit :",e)}},g=e=>{s([...n,e])},C=e=>{s(n.filter(t=>t!==e))},[y,j]=(0,r.useState)(!1),{postdata:b}=(0,u.Z)(),[_]=(0,w.Z)(),[T,N]=(0,r.useState)(""),F=async()=>{200===await b(()=>x.Z.deleteTypePackage([T??""]))&&(c((0,V.v)()),N(""))},k=[{title:"M\xe3 g\xf3i",dataIndex:"package_id",key:"package_id",render:(e,t,l)=>(0,a.jsxs)("div",{className:"flex gap-1 items-center",children:["#",l+1,".",e]})},{title:"Loại g\xf3i",dataIndex:"name_package",width:"50%",key:"name_package",render:(e,t,l)=>a.jsx(a.Fragment,{children:n.includes(l)?(0,a.jsxs)(v.Z,{onFinish:e=>{m(e.name,t.package_id,l)},style:{display:"flex",flexWrap:"wrap",gap:"8px"},children:[a.jsx(v.Z.Item,{name:"name",rules:[{required:!0,message:"Vui l\xf2ng nhập t\xean g\xf3i"}],style:{margin:"0"},children:a.jsx(f.default,{placeholder:"Nhập t\xean g\xf3i",defaultValue:e})}),(0,a.jsxs)(v.Z.Item,{style:{gap:"2px",display:"flex",justifyContent:"end",margin:"0"},children:[a.jsx(i.ZP,{className:"font-semibold border-transparent group",type:"link",htmlType:"submit",icon:a.jsx(D.l_A,{className:"group-hover:text-green-500"})}),a.jsx(i.ZP,{className:"font-semibold border-transparent group",type:"link",onClick:()=>{C(l)},icon:a.jsx(q.bjh,{className:"group-hover:text-red-500"})})]})]}):(0,a.jsxs)("strong",{className:"flex gap-2 items-center",children:[e,a.jsx(i.ZP,{type:"link",onClick:()=>{g(l)},icon:a.jsx(L.FNg,{})}),a.jsx(i.ZP,{className:"  text-xs text-red-500 font-semibold",type:"text",onClick:()=>N(t?.package_id),children:"X\xf3a"})]})})}],Z=async e=>{try{let t=await b(()=>x.Z.createTypePackage(e));201===t&&(c((0,V.v)()),_.resetFields())}catch(e){console.error("Error creating :",e)}};return(0,a.jsxs)(a.Fragment,{children:[a.jsx(i.ZP,{hidden:!!e,className:"bg-blue-400 border-0 text-white font-semibold",onClick:()=>{l(!0)},ref:e,children:"G\xf3i b\xe1o gi\xe1"}),a.jsx(o.Z,{title:"G\xf3i b\xe1o gi\xe1",open:t,onCancel:()=>{l(!1)},footer:null,width:"100%",style:{maxWidth:"800px"},children:(0,a.jsxs)("div",{className:"flex flex-col gap-2",children:[a.jsx(i.ZP,{className:"bg-orange-500 text-white font-semibold",icon:a.jsx(B.gyF,{}),onClick:()=>{_.resetFields(),j(!y)}}),a.jsx("div",{className:"bg-slate-200 px-1 py-2 rounded-md",hidden:!y,children:(0,a.jsxs)(v.Z,{form:_,onFinish:Z,style:{display:"flex",flexWrap:"wrap",gap:"8px"},children:[a.jsx(v.Z.Item,{name:"name_package",rules:[{required:!0,message:"Vui l\xf2ng nhập t\xean xuất xứ"}],style:{flex:"1 1 0%",margin:"0"},children:a.jsx(f.default,{placeholder:"Nhập t\xean loại"})}),a.jsx(v.Z.Item,{style:{display:"flex",justifyContent:"end",margin:"0"},children:a.jsx(i.ZP,{className:"bg-green-500 text-white font-semibold",onClick:()=>{_.submit()},children:"Th\xeam"})})]})}),a.jsx("div",{className:"border-t-2 w-full overflow-x-auto",children:a.jsx("div",{className:"w-full",children:a.jsx(d.Z,{columns:k,scroll:{x:"max-content"},className:"custom-table",dataSource:p,pagination:{pageSize:10,showTotal:(e,t)=>`${t[0]}-${t[1]} of ${e} items`},showSorterTooltip:{target:"sorter-icon"}})})})]})}),a.jsx(o.Z,{open:""!==T,title:"X\xf3a dữ liệu",onOk:F,onCancel:()=>{N("")},children:"Bạn c\xf3 chắc chắn muốn x\xf3a kh\xf4ng ?"})]})},{RangePicker:U}=b.default;function E(){let[e,t]=(0,r.useState)({}),{customerID:l,projectID:n}=(0,A.useParams)(),o=(0,h.I0)(),{datas:d}=(0,h.v9)(e=>e.get_users),{datas:c}=(0,h.v9)(e=>e.get_projects),[p,m]=(0,r.useState)([]);return(0,a.jsxs)("div",{className:"flex items-start gap-4 w-full flex-col",children:[(0,a.jsxs)("div",{className:"flex gap-2 items-center flex-wrap",children:[a.jsx(P.Z,{}),a.jsx(M,{}),a.jsx(I.default,{href:"/price_quote/kanban",hidden:!!l,children:a.jsx(i.ZP,{icon:a.jsx(O.DDi,{})})})]}),a.jsx("p",{className:"text-sm font-semibold text-[#1BA399]",children:"Được lọc theo:"}),(0,a.jsxs)("div",{className:"flex flex-wrap w-full items-center justify-end gap-2   pb-4 ",children:[!n&&a.jsx(s.Z,{placeholder:"Dự \xe1n",style:{minWidth:120,flex:"1 1 0%"},onChange:l=>{t({...e,project:l})},options:p}),a.jsx(s.Z,{placeholder:"Ng\xe0y",style:{minWidth:120,flex:"1 1 0%"},onChange:l=>{t({...e,type_date:l})},options:[{value:"0",label:"Ng\xe0y đề xuất"},{value:"1",label:"Ng\xe0y hết hạn"}]}),a.jsx(U,{style:{minWidth:120,flex:"1 1 0%"},onChange:(l,a)=>{console.log("thay doi",a),""!==a[0]?t({...e,date_start:a[0],date_expired:a[1]}):o((0,$.j)({}))}}),a.jsx(s.Z,{placeholder:"T\xecnh trạng",onChange:l=>{t({...e,status:l})},style:{minWidth:120,flex:"1 1 0%"},options:[{value:"draff",label:"Draff"},{value:"send",label:"Send"},{value:"open",label:"Open"},{value:"edit",label:"Edit"},{value:"refuse",label:"Refuse"},{value:"accept",label:"Accept"}]}),a.jsx(s.Z,{placeholder:"Người phụ tr\xe1ch",showSearch:!0,filterOption:(e,t)=>(t?.children?.join("")??"").toLowerCase().includes(e.toLowerCase()),onChange:l=>{t({...e,user_support:l})},style:{minWidth:120,flex:"1 1 0%"},children:d?.map(e=>a.jsxs(_.W,{value:e.user_id,children:[e.first_name," ",e.last_name]},e.user_id))})]})]})}function R(){let e=(0,z.Z)(["admin-top","price_quote","price_quote-edit"]);return(0,a.jsxs)("div",{className:"flex flex-col gap-4 rounded-md p-4 shadow-[0_8px_30px_rgb(0,0,0,0.12)] bg-white",children:[e&&a.jsx("div",{className:"rounded-md",children:a.jsx(E,{})}),a.jsx("div",{className:"rounded-md",children:a.jsx(W,{})})]})}},80890:()=>{}};