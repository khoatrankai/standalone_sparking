"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2811],{53408:function(e,t,n){var o=n(2265),l=n(54011),a=function(){return(a=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var l in t=arguments[n])Object.prototype.hasOwnProperty.call(t,l)&&(e[l]=t[l]);return e}).apply(this,arguments)},i=(0,o.forwardRef)(function(e,t){return o.createElement(l.P,a({},e,{chartType:"Column",ref:t}))});t.Z=i},30341:function(e,t,n){n.d(t,{Z:function(){return o}});function o(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t&&null==e?[]:Array.isArray(e)?e:[e]}},45747:function(e,t,n){n.d(t,{W:function(){return D}});var o=n(2265),l=n(36760),a=n.n(l),i=n(42469),r=n(28791),u=n(94611),s=n(93942),c=n(12757),d=n(30341),f=n(71744),p=n(91086),v=n(64024),m=n(39109),g=n(56250),h=n(48651),b=n(95201),w=n(31282),x=n(37433),y=n(65265),C=n(12918),S=n(99320),N=n(71140);let j=e=>{let{componentCls:t,colorTextDisabled:n,controlItemBgHover:o,controlPaddingHorizontal:l,colorText:a,motionDurationSlow:i,lineHeight:r,controlHeight:u,paddingInline:s,paddingBlock:c,fontSize:d,fontSizeIcon:f,colorTextTertiary:p,colorTextQuaternary:v,colorBgElevated:m,paddingXXS:g,paddingLG:h,borderRadius:x,borderRadiusLG:S,boxShadowSecondary:N,itemPaddingVertical:j,calc:O}=e;return{[t]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(0,C.Wf)(e)),(0,w.ik)(e)),{position:"relative",display:"inline-block",height:"auto",padding:0,overflow:"hidden",lineHeight:r,whiteSpace:"pre-wrap",verticalAlign:"bottom"}),(0,y.qG)(e)),(0,y.H8)(e)),(0,y.Mu)(e)),{"&-affix-wrapper":Object.assign(Object.assign({},(0,w.ik)(e)),{display:"inline-flex",padding:0,"&::before":{display:"inline-block",width:0,visibility:"hidden",content:'"\\a0"'},["".concat(t,"-suffix")]:{position:"absolute",top:0,insetInlineEnd:s,bottom:0,zIndex:1,display:"inline-flex",alignItems:"center",margin:"auto"},["&:has(".concat(t,"-suffix) > ").concat(t," > textarea")]:{paddingInlineEnd:h},["".concat(t,"-clear-icon")]:{position:"absolute",insetInlineEnd:0,insetBlockStart:O(d).mul(r).mul(.5).add(c).equal(),transform:"translateY(-50%)",margin:0,color:v,fontSize:f,verticalAlign:-1,cursor:"pointer",transition:"color ".concat(i),"&:hover":{color:p},"&:active":{color:a},"&-hidden":{visibility:"hidden"}}}),"&-disabled":{"> textarea":Object.assign({},(0,y.Xy)(e))},["&, &-affix-wrapper > ".concat(t)]:{["> textarea, ".concat(t,"-measure")]:{color:a,boxSizing:"border-box",minHeight:e.calc(u).sub(2),margin:0,padding:"".concat((0,b.unit)(c)," ").concat((0,b.unit)(s)),overflow:"inherit",overflowX:"hidden",overflowY:"auto",fontWeight:"inherit",fontSize:"inherit",fontFamily:"inherit",fontStyle:"inherit",fontVariant:"inherit",fontSizeAdjust:"inherit",fontStretch:"inherit",lineHeight:"inherit",direction:"inherit",letterSpacing:"inherit",whiteSpace:"inherit",textAlign:"inherit",verticalAlign:"top",wordWrap:"break-word",wordBreak:"inherit",tabSize:"inherit"},"> textarea":Object.assign({width:"100%",border:"none",outline:"none",resize:"none",backgroundColor:"transparent"},(0,w.nz)(e.colorTextPlaceholder)),["".concat(t,"-measure")]:{position:"absolute",top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,zIndex:-1,color:"transparent",pointerEvents:"none","> span":{display:"inline-block",minHeight:"1em"}}},"&-dropdown":Object.assign(Object.assign({},(0,C.Wf)(e)),{position:"absolute",top:-9999,insetInlineStart:-9999,zIndex:e.zIndexPopup,boxSizing:"border-box",fontSize:d,fontVariant:"initial",padding:g,backgroundColor:m,borderRadius:S,outline:"none",boxShadow:N,"&-hidden":{display:"none"},["".concat(t,"-dropdown-menu")]:{maxHeight:e.dropdownHeight,margin:0,paddingInlineStart:0,overflow:"auto",listStyle:"none",outline:"none","&-item":Object.assign(Object.assign({},C.vS),{position:"relative",display:"block",minWidth:e.controlItemWidth,padding:"".concat((0,b.unit)(j)," ").concat((0,b.unit)(l)),color:a,borderRadius:x,fontWeight:"normal",lineHeight:r,cursor:"pointer",transition:"background ".concat(i," ease"),"&:hover":{backgroundColor:o},"&-disabled":{color:n,cursor:"not-allowed","&:hover":{color:n,backgroundColor:o,cursor:"not-allowed"}},"&-selected":{color:a,fontWeight:e.fontWeightStrong,backgroundColor:o},"&-active":{backgroundColor:o}})}})})}};var O=(0,S.I$)("Mentions",e=>[j((0,N.mergeToken)(e,(0,x.e)(e)))],e=>Object.assign(Object.assign({},(0,x.T)(e)),{dropdownHeight:250,controlItemWidth:100,zIndexPopup:e.zIndexPopupBase+50,itemPaddingVertical:(e.controlHeight-e.fontHeight)/2})),k=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&0>t.indexOf(o)&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var l=0,o=Object.getOwnPropertySymbols(e);l<o.length;l++)0>t.indexOf(o[l])&&Object.prototype.propertyIsEnumerable.call(e,o[l])&&(n[o[l]]=e[o[l]]);return n};let{Option:D}=i.default;function Z(){return!0}let E=o.forwardRef((e,t)=>{let{prefixCls:n,className:l,rootClassName:s,disabled:d,loading:b,filterOption:w,children:x,notFoundContent:y,options:C,status:S,allowClear:N=!1,popupClassName:j,style:E,variant:T}=e,I=k(e,["prefixCls","className","rootClassName","disabled","loading","filterOption","children","notFoundContent","options","status","allowClear","popupClassName","style","variant"]),[F,P]=o.useState(!1),W=o.useRef(null),M=(0,r.sQ)(t,W),{getPrefixCls:R,renderEmpty:A,direction:Y,mentions:_}=o.useContext(f.E_),{status:z,hasFeedback:B,feedbackIcon:H}=o.useContext(m.aM),L=(0,c.F)(z,S),V=o.useMemo(()=>void 0!==y?y:(null==A?void 0:A("Select"))||o.createElement(p.Z,{componentName:"Select"}),[y,A]),K=o.useMemo(()=>b?o.createElement(D,{value:"ANTD_SEARCHING",disabled:!0},o.createElement(h.Z,{size:"small"})):x,[b,x]),U=b?[{value:"ANTD_SEARCHING",disabled:!0,label:o.createElement(h.Z,{size:"small"})}]:C,X=b?Z:w,G=R("mentions",n),q=(0,u.Z)(N),Q=(0,v.Z)(G),[$,J,ee]=O(G,Q),[et,en]=(0,g.Z)("mentions",T),eo=B&&o.createElement(o.Fragment,null,H),el=a()(null==_?void 0:_.className,l,s,ee,Q);return $(o.createElement(i.default,Object.assign({silent:b,prefixCls:G,notFoundContent:V,className:el,disabled:d,allowClear:q,direction:Y,style:Object.assign(Object.assign({},null==_?void 0:_.style),E)},I,{filterOption:X,onFocus:function(){I.onFocus&&I.onFocus.apply(I,arguments),P(!0)},onBlur:function(){I.onBlur&&I.onBlur.apply(I,arguments),P(!1)},dropdownClassName:a()(j,s,J,ee,Q),ref:M,options:U,suffix:eo,classNames:{mentions:a()({["".concat(G,"-disabled")]:d,["".concat(G,"-focused")]:F,["".concat(G,"-rtl")]:"rtl"===Y},J),variant:a()({["".concat(G,"-").concat(et)]:en},(0,c.Z)(G,L)),affixWrapper:J}}),K))});E.Option=D;let T=(0,s.Z)(E,"mentions");E._InternalPanelDoNotUseOrYouWillBeFired=T,E.getMentions=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{prefix:n="@",split:o=" "}=t,l=(0,d.Z)(n);return e.split(o).map(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=null;return(l.some(n=>e.slice(0,n.length)===n&&(t=n,!0)),null!==t)?{prefix:t,value:e.slice(t.length)}:null}).filter(e=>!!e&&!!e.value)}},42469:function(e,t,n){n.r(t),n.d(t,{default:function(){return D}});var o=n(1119),l=n(31686),a=n(26365),i=n(10902),r=n(36760),u=n.n(r),s=n(2027),c=n(56222),d=n(45287),f=n(50506),p=n(95814);n(32559);var v=n(2265),m=n(97821),g=n(33082),h=v.createContext(null),b=function(e){var t=v.useContext(h),n=t.notFoundContent,o=t.activeIndex,l=t.setActiveIndex,a=t.selectOption,i=t.onFocus,r=t.onBlur,u=e.prefixCls,s=e.options,c=s[o]||{};return v.createElement(g.default,{prefixCls:"".concat(u,"-menu"),activeKey:c.key,onSelect:function(e){var t=e.key;a(s.find(function(e){return e.key===t}))},onFocus:i,onBlur:r},s.map(function(e,t){var n=e.key,o=e.disabled,a=e.className,i=e.style,r=e.label;return v.createElement(g.MenuItem,{key:n,disabled:o,className:a,style:i,onMouseEnter:function(){l(t)}},r)}),!s.length&&v.createElement(g.MenuItem,{disabled:!0},n))},w={bottomRight:{points:["tl","br"],offset:[0,4],overflow:{adjustX:1,adjustY:1}},bottomLeft:{points:["tr","bl"],offset:[0,4],overflow:{adjustX:1,adjustY:1}},topRight:{points:["bl","tr"],offset:[0,-4],overflow:{adjustX:1,adjustY:1}},topLeft:{points:["br","tl"],offset:[0,-4],overflow:{adjustX:1,adjustY:1}}},x=function(e){var t=e.prefixCls,n=e.options,o=e.children,l=e.visible,a=e.transitionName,i=e.getPopupContainer,r=e.dropdownClassName,u=e.direction,s=e.placement,c="".concat(t,"-dropdown"),d=v.createElement(b,{prefixCls:c,options:n}),f=(0,v.useMemo)(function(){return"rtl"===u?"top"===s?"topLeft":"bottomLeft":"top"===s?"topRight":"bottomRight"},[u,s]);return v.createElement(m.Z,{prefixCls:c,popupVisible:l,popup:d,popupPlacement:f,popupTransitionName:a,builtinPlacements:w,getPopupContainer:i,popupClassName:r},o)};function y(e){return(e||"").toLowerCase()}function C(e,t){return!t||-1===e.indexOf(t)}function S(e,t){var n=t.value,o=e.toLowerCase();return -1!==(void 0===n?"":n).toLowerCase().indexOf(o)}var N=["prefixCls","className","style","prefix","split","notFoundContent","value","defaultValue","children","options","open","allowClear","silent","validateSearch","filterOption","onChange","onKeyDown","onKeyUp","onPressEnter","onSearch","onSelect","onFocus","onBlur","transitionName","placement","direction","getPopupContainer","dropdownClassName","rows","visible"],j=["suffix","prefixCls","defaultValue","value","allowClear","onChange","classNames","className","disabled","onClear"],O=(0,v.forwardRef)(function(e,t){var n,r,s,m,g,b=e.prefixCls,w=e.className,j=e.style,O=e.prefix,k=void 0===O?"@":O,D=e.split,Z=void 0===D?" ":D,E=e.notFoundContent,T=e.value,I=e.defaultValue,F=e.children,P=e.options,W=e.open,M=(e.allowClear,e.silent),R=e.validateSearch,A=void 0===R?C:R,Y=e.filterOption,_=void 0===Y?S:Y,z=e.onChange,B=e.onKeyDown,H=e.onKeyUp,L=e.onPressEnter,V=e.onSearch,K=e.onSelect,U=e.onFocus,X=e.onBlur,G=e.transitionName,q=e.placement,Q=e.direction,$=e.getPopupContainer,J=e.dropdownClassName,ee=e.rows,et=(e.visible,(0,i.Z)(e,N)),en=(0,v.useMemo)(function(){return Array.isArray(k)?k:[k]},[k]),eo=(0,v.useRef)(null),el=(0,v.useRef)(null),ea=(0,v.useRef)(null),ei=function(){var e;return null===(e=el.current)||void 0===e||null===(e=e.resizableTextArea)||void 0===e?void 0:e.textArea};v.useImperativeHandle(t,function(){var e;return{focus:function(){var e;return null===(e=el.current)||void 0===e?void 0:e.focus()},blur:function(){var e;return null===(e=el.current)||void 0===e?void 0:e.blur()},textarea:null===(e=el.current)||void 0===e||null===(e=e.resizableTextArea)||void 0===e?void 0:e.textArea,nativeElement:eo.current}});var er=(0,v.useState)(!1),eu=(0,a.Z)(er,2),es=eu[0],ec=eu[1],ed=(0,v.useState)(""),ef=(0,a.Z)(ed,2),ep=ef[0],ev=ef[1],em=(0,v.useState)(""),eg=(0,a.Z)(em,2),eh=eg[0],eb=eg[1],ew=(0,v.useState)(0),ex=(0,a.Z)(ew,2),ey=ex[0],eC=ex[1],eS=(0,v.useState)(0),eN=(0,a.Z)(eS,2),ej=eN[0],eO=eN[1],ek=(0,v.useState)(!1),eD=(0,a.Z)(ek,2),eZ=eD[0],eE=eD[1],eT=(0,f.Z)("",{defaultValue:I,value:T}),eI=(0,a.Z)(eT,2),eF=eI[0],eP=eI[1];(0,v.useEffect)(function(){es&&ea.current&&(ea.current.scrollTop=ei().scrollTop)},[es]);var eW=v.useMemo(function(){if(W)for(var e=0;e<en.length;e+=1){var t=en[e],n=eF.lastIndexOf(t);if(n>=0)return[!0,"",t,n]}return[es,ep,eh,ey]},[W,es,en,eF,ep,eh,ey]),eM=(0,a.Z)(eW,4),eR=eM[0],eA=eM[1],eY=eM[2],e_=eM[3],ez=v.useCallback(function(e){return(P&&P.length>0?P.map(function(e){var t;return(0,l.Z)((0,l.Z)({},e),{},{key:null!==(t=null==e?void 0:e.key)&&void 0!==t?t:e.value})}):(0,d.Z)(F).map(function(e){var t=e.props,n=e.key;return(0,l.Z)((0,l.Z)({},t),{},{label:t.children,key:n||t.value})})).filter(function(t){return!1===_||_(e,t)})},[F,P,_]),eB=v.useMemo(function(){return ez(eA)},[ez,eA]),eH=(n=(0,v.useState)({id:0,callback:null}),s=(r=(0,a.Z)(n,2))[0],m=r[1],g=(0,v.useCallback)(function(e){m(function(t){return{id:t.id+1,callback:e}})},[]),(0,v.useEffect)(function(){var e;null===(e=s.callback)||void 0===e||e.call(s)},[s]),g),eL=function(e,t,n){ec(!0),ev(e),eb(t),eC(n),eO(0)},eV=function(e){ec(!1),eC(0),ev(""),eH(e)},eK=function(e){eP(e),null==z||z(e)},eU=function(e){var t,n,o,l,a,i,r,u,s,c,d=e.value,f=(n=(t={measureLocation:e_,targetText:void 0===d?"":d,prefix:eY,selectionStart:null===(c=ei())||void 0===c?void 0:c.selectionStart,split:Z}).measureLocation,o=t.prefix,l=t.targetText,a=t.selectionStart,i=t.split,(r=eF.slice(0,n))[r.length-i.length]===i&&(r=r.slice(0,r.length-i.length)),r&&(r="".concat(r).concat(i)),(u=function(e,t,n){var o=e[0];if(!o||o===n)return e;for(var l=e,a=t.length,i=0;i<a;i+=1){if(y(l[i])!==y(t[i])){l=l.slice(i);break}i===a-1&&(l=l.slice(a))}return l}(eF.slice(a),l.slice(a-n-o.length),i)).slice(0,i.length)===i&&(u=u.slice(i.length)),s="".concat(r).concat(o).concat(l).concat(i),{text:"".concat(s).concat(u),selectionLocation:s.length}),p=f.text,v=f.selectionLocation;eK(p),eV(function(){var e;(e=ei()).setSelectionRange(v,v),e.blur(),e.focus()}),null==K||K(e,eY)},eX=(0,v.useRef)(),eG=function(e){window.clearTimeout(eX.current),!eZ&&e&&U&&U(e),eE(!0)},eq=function(e){eX.current=window.setTimeout(function(){eE(!1),eV(),null==X||X(e)},0)};return v.createElement("div",{className:u()(b,w),style:j,ref:eo},v.createElement(c.default,(0,o.Z)({ref:el,value:eF},et,{rows:void 0===ee?1:ee,onChange:function(e){eK(e.target.value)},onKeyDown:function(e){var t=e.which;if(null==B||B(e),eR){if(t===p.Z.UP||t===p.Z.DOWN){var n=eB.length;eO((ej+(t===p.Z.UP?-1:1)+n)%n),e.preventDefault()}else if(t===p.Z.ESC)eV();else if(t===p.Z.ENTER){if(e.preventDefault(),M)return;if(!eB.length){eV();return}eU(eB[ej])}}},onKeyUp:function(e){var t,n,o=e.key,l=e.which,a=(n=(t=e.target).selectionStart,t.value.slice(0,n)),i=en.reduce(function(e,t){var n=a.lastIndexOf(t);return n>e.location?{location:n,prefix:t}:e},{location:-1,prefix:""}),r=i.location,u=i.prefix;if(null==H||H(e),-1===[p.Z.ESC,p.Z.UP,p.Z.DOWN,p.Z.ENTER].indexOf(l)){if(-1!==r){var s=a.slice(r+u.length),c=A(s,Z),d=!!ez(s).length;c?(o===u||"Shift"===o||eR||s!==eA&&d)&&eL(s,u,r):eR&&eV(),V&&c&&V(s,u)}else eR&&eV()}},onPressEnter:function(e){!eR&&L&&L(e)},onFocus:eG,onBlur:eq})),eR&&v.createElement("div",{ref:ea,className:"".concat(b,"-measure")},eF.slice(0,e_),v.createElement(h.Provider,{value:{notFoundContent:void 0===E?"Not Found":E,activeIndex:ej,setActiveIndex:eO,selectOption:eU,onFocus:function(){eG()},onBlur:function(){eq()}}},v.createElement(x,{prefixCls:b,transitionName:G,placement:q,direction:Q,options:eB,visible:!0,getPopupContainer:$,dropdownClassName:J},v.createElement("span",null,eY))),eF.slice(e_+eY.length)))}),k=(0,v.forwardRef)(function(e,t){var n=e.suffix,r=e.prefixCls,u=void 0===r?"rc-mentions":r,c=e.defaultValue,d=e.value,p=e.allowClear,m=e.onChange,g=e.classNames,h=e.className,b=e.disabled,w=e.onClear,x=(0,i.Z)(e,j),y=(0,v.useRef)(null),C=(0,v.useRef)(null);(0,v.useImperativeHandle)(t,function(){var e,t;return(0,l.Z)((0,l.Z)({},C.current),{},{nativeElement:(null===(e=y.current)||void 0===e?void 0:e.nativeElement)||(null===(t=C.current)||void 0===t?void 0:t.nativeElement)})});var S=(0,f.Z)("",{defaultValue:c,value:d}),N=(0,a.Z)(S,2),k=N[0],D=N[1],Z=function(e){D(e),null==m||m(e)};return v.createElement(s.BaseInput,{suffix:n,prefixCls:u,value:k,allowClear:p,handleReset:function(){Z("")},className:h,classNames:g,disabled:b,ref:y,onClear:w},v.createElement(O,(0,o.Z)({className:null==g?void 0:g.mentions,prefixCls:u,ref:C,onChange:Z,disabled:b},x)))});k.Option=function(){return null};var D=k},51694:function(e,t,n){n.r(t),n.d(t,{default:function(){return h}});var o=n(57437),l=n(2265),a=n(53408),i=n(56612),r=n(55846),u=n(11632),s=n(45747),c=n(68575),d=n(77398),f=n.n(d),p=n(53757),v=n(71096),m=n.n(v);let{RangePicker:g}=i.default;function h(){let[e,t]=(0,l.useState)([]);(0,l.useEffect)(()=>{console.log(e)},[e]);let[n,i]=(0,l.useState)("month"),[d,v]=(0,l.useState)(new Date("2024-12-01").getTime()),[h,b]=(0,l.useState)(new Date("2024-12-31").getTime()),[w,x]=(0,l.useState)(),{datas:y}=(0,c.v9)(e=>e.get_group_customer);return(0,l.useEffect)(()=>{(async()=>{if(w||n||h||d){let e=await p.Z.getFilterCustomer({time_first:d,time_end:h,group:w});if(200===e.statusCode){let o=e.data;if("day"===n){let e=o.reduce((e,t)=>{let n=new Date(t.created_at),o="".concat(n.getFullYear(),"-").concat(n.getMonth()+1,"-").concat(10>n.getDate()?"0"+n.getDate():n.getDate());return(null==e?void 0:e[o])||(e[o]=0),e[o]=e[o]+1,e},{});t((function(e,t){let n=new Date(e),o=new Date(t),l=[];for(;n<=o;)l.push(new Date(n).toISOString().split("T")[0]),n.setDate(n.getDate()+1);return l})(null!=d?d:0,null!=h?h:0).map(t=>{let n=Object.keys(e).find(e=>{if(new Date(e).getTime()===new Date(t).getTime())return e});return{type:"Ng\xe0y "+t,value:n?e[n]:0}}))}if("week"===n){let e=o.reduce((e,t)=>{let n=f()(t.created_at),o="".concat(n.isoWeek(),"-").concat(n.year());return(null==e?void 0:e[o])||(e[o]=0),e[o]=e[o]+1,e},{});t((function(e,t){let n=new Date(e),o=new Date(t),l=[];for(;n.getTime()<=o.getTime();){let e=new Date(n);n.setDate(n.getDate()+6),l.push("".concat(f()(e).clone().isoWeek(),"-").concat(f()(e).clone().isoWeekYear())),n.setDate(n.getDate()+1)}return l})(null!=d?d:0,null!=h?h:0).map(t=>{let n=Object.keys(e).find(e=>{if(t===e)return e});return{type:"Tuần "+t,value:n?e[n]:0}}))}if("month"===n){let e=o.reduce((e,t)=>{let n=f()(t.created_at),o="".concat(n.year(),"-").concat(n.month()+1);return(null==e?void 0:e[o])||(e[o]=0),e[o]=e[o]+1,e},{}),n=function(e,t){let n=new Date(e),o=new Date(t),l=[];for(;n<=o;){let e=n.getFullYear(),t=String(n.getMonth()+1).padStart(2,"0");l.push("".concat(e,"-").concat(t)),n.setMonth(n.getMonth()+1)}return l}(null!=d?d:0,null!=h?h:0);t(n.map(t=>{let n=Object.keys(e).find(e=>{if(new Date(t).getTime()===new Date(e).getTime())return e}),o=new Date(t);return{type:"Th\xe1ng "+(o.getMonth()+1)+"-"+o.getFullYear(),value:n?e[n]:0}})),console.log(n,e)}if("year"===n){let e=o.reduce((e,t)=>{let n=f()(t.created_at);return(null==e?void 0:e[n.year()])||(e[n.year()]=0),e[n.year()]=e[n.year()]+1,e},{});t((function(e,t){let n=new Date(e).getFullYear(),o=new Date(t).getFullYear(),l=[];for(let e=n;e<=o;e++)l.push(e.toString());return l})(null!=d?d:0,null!=h?h:0).map(t=>{let n=Object.keys(e).find(e=>{if(t.toString()===e.toString())return e});return{type:"Năm "+t,value:n?e[n]:0}}))}}}})()},[n,d,h,w]),(0,o.jsxs)("div",{className:"sm:px-4 py-4 flex flex-col gap-4 max-w-full",children:[(0,o.jsxs)("div",{className:"p-4 flex justify-between flex-wrap gap-2",children:[(0,o.jsx)("div",{children:(0,o.jsxs)(r.ZP.Group,{value:n,buttonStyle:"solid",onChange:e=>{i(e.target.value)},children:[(0,o.jsx)(r.ZP.Button,{value:"day",children:"Ng\xe0y"}),(0,o.jsx)(r.ZP.Button,{value:"week",children:"Tuần"}),(0,o.jsx)(r.ZP.Button,{value:"month",children:"Th\xe1ng"}),(0,o.jsx)(r.ZP.Button,{value:"year",children:"Năm"})]})}),(0,o.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,o.jsx)(u.Z,{className:"sm:w-auto w-full",placeholder:"Chọn nh\xf3m",showSearch:!0,onChange:e=>{x(e)},filterOption:(e,t)=>{var n;return(Array.isArray(null==t?void 0:t.children)?t.children.join(""):null!==(n=null==t?void 0:t.children)&&void 0!==n?n:"").toLowerCase().includes(e.toLowerCase())},children:null==y?void 0:y.map(e=>(0,o.jsx)(s.W,{value:e.group_id,children:e.name_group},e.group_id))}),(0,o.jsx)(g,{className:"sm:w-auto w-full",picker:"day"===n?"date":n,value:[m()(d),m()(h)],onChange:(e,t)=>{var o,l,a,i,r,u,s,c,d;if("year"===n&&(v(new Date(t[0]).getTime()),b(new Date("".concat(t[1],"-12-31")).getTime())),"month"===n&&(v(new Date("".concat(t[0],"-01")).getTime()),b(new Date("".concat(f()(new Date("".concat(null==e?void 0:null===(o=e[1])||void 0===o?void 0:o.year(),"-").concat((null!==(a=null==e?void 0:null===(l=e[1])||void 0===l?void 0:l.month())&&void 0!==a?a:0)+2,"-01"))).clone().subtract(1,"days"))).getTime())),"day"===n&&(v(new Date(t[0]).getTime()),b(new Date(t[1]).getTime())),"week"===n){let n=f()().year(null!==(c=null==e?void 0:null===(i=e[0])||void 0===i?void 0:i.year())&&void 0!==c?c:0).isoWeek(Number(t[0].replace("".concat(null==e?void 0:null===(r=e[0])||void 0===r?void 0:r.year(),"-"),"").replace(/\D/g,""))).startOf("isoWeek").clone().format("YYYY-MM-DD"),o=f()().year(null!==(d=null==e?void 0:null===(u=e[1])||void 0===u?void 0:u.year())&&void 0!==d?d:0).isoWeek(Number(t[1].replace("".concat(null==e?void 0:null===(s=e[1])||void 0===s?void 0:s.year(),"-"),"").replace(/\D/g,""))).startOf("isoWeek").clone().add(5,"days").format("YYYY-MM-DD");v(n?new Date(n).getTime():0),b(o?new Date(o).getTime():0)}}})]})]}),(0,o.jsx)("p",{className:"p-4 text-xl font-semibold",children:"Thống k\xea kh\xe1ch h\xe0ng mới"}),(0,o.jsx)("div",{className:"w-full",children:(0,o.jsx)(()=>{let t=e.length>0?e:[{type:"day"===n?"Ng\xe0y":"week"===n?"Tuần":"month"===n?"Th\xe1ng":"Năm",value:0}];return(0,o.jsx)(a.Z,{data:t,xField:"type",yField:"value",style:{fill:()=>"#2989FF"},legend:!1})},{})})]})}}}]);