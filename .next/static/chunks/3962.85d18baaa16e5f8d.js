(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3962],{87863:function(e,t,n){"use strict";n.d(t,{C:function(){return k}});var r=n(2265),a=n(36760),i=n.n(a),o=n(38503),l=n(28791),s=n(6543),c=n(71744),d=n(64024),u=n(33759),p=n(28617);let f=r.createContext({});var m=n(95201),v=n(12918),h=n(99320),g=n(71140);let y=e=>{let{antCls:t,componentCls:n,iconCls:r,avatarBg:a,avatarColor:i,containerSize:o,containerSizeLG:l,containerSizeSM:s,textFontSize:c,textFontSizeLG:d,textFontSizeSM:u,borderRadius:p,borderRadiusLG:f,borderRadiusSM:h,lineWidth:g,lineType:y}=e,b=(e,t,a)=>({width:e,height:e,borderRadius:"50%",["&".concat(n,"-square")]:{borderRadius:a},["&".concat(n,"-icon")]:{fontSize:t,["> ".concat(r)]:{margin:0}}});return{[n]:Object.assign(Object.assign(Object.assign(Object.assign({},(0,v.Wf)(e)),{position:"relative",display:"inline-flex",justifyContent:"center",alignItems:"center",overflow:"hidden",color:i,whiteSpace:"nowrap",textAlign:"center",verticalAlign:"middle",background:a,border:"".concat((0,m.unit)(g)," ").concat(y," transparent"),"&-image":{background:"transparent"},["".concat(t,"-image-img")]:{display:"block"}}),b(o,c,p)),{"&-lg":Object.assign({},b(l,d,f)),"&-sm":Object.assign({},b(s,u,h)),"> img":{display:"block",width:"100%",height:"100%",objectFit:"cover"}})}},b=e=>{let{componentCls:t,groupBorderColor:n,groupOverlapping:r,groupSpace:a}=e;return{["".concat(t,"-group")]:{display:"inline-flex",[t]:{borderColor:n},"> *:not(:first-child)":{marginInlineStart:r}},["".concat(t,"-group-popover")]:{["".concat(t," + ").concat(t)]:{marginInlineStart:a}}}};var x=(0,h.I$)("Avatar",e=>{let{colorTextLightSolid:t,colorTextPlaceholder:n}=e,r=(0,g.mergeToken)(e,{avatarBg:n,avatarColor:t});return[y(r),b(r)]},e=>{let{controlHeight:t,controlHeightLG:n,controlHeightSM:r,fontSize:a,fontSizeLG:i,fontSizeXL:o,fontSizeHeading3:l,marginXS:s,marginXXS:c,colorBorderBg:d}=e;return{containerSize:t,containerSizeLG:n,containerSizeSM:r,textFontSize:Math.round((i+o)/2),textFontSizeLG:l,textFontSizeSM:a,groupSpace:c,groupOverlapping:-s,groupBorderColor:d}}),_=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>t.indexOf(r)&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)0>t.indexOf(r[a])&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};let j=r.forwardRef((e,t)=>{let n;let[a,m]=r.useState(1),[v,h]=r.useState(!1),[g,y]=r.useState(!0),b=r.useRef(null),j=r.useRef(null),w=(0,l.sQ)(t,b),{getPrefixCls:O,avatar:C}=r.useContext(c.E_),T=r.useContext(f),k=()=>{if(!j.current||!b.current)return;let t=j.current.offsetWidth,n=b.current.offsetWidth;if(0!==t&&0!==n){let{gap:r=4}=e;2*r<n&&m(n-2*r<t?(n-2*r)/t:1)}};r.useEffect(()=>{h(!0)},[]),r.useEffect(()=>{y(!0),m(1)},[e.src]),r.useEffect(k,[e.gap]);let{prefixCls:S,shape:M,size:E,src:Z,srcSet:D,icon:P,className:L,rootClassName:N,alt:Y,draggable:B,children:z,crossOrigin:I}=e,W=_(e,["prefixCls","shape","size","src","srcSet","icon","className","rootClassName","alt","draggable","children","crossOrigin"]),A=(0,u.Z)(e=>{var t,n;return null!==(n=null!==(t=null!=E?E:null==T?void 0:T.size)&&void 0!==t?t:e)&&void 0!==n?n:"default"}),R=Object.keys("object"==typeof A&&A||{}).some(e=>["xs","sm","md","lg","xl","xxl"].includes(e)),F=(0,p.Z)(R),H=r.useMemo(()=>{if("object"!=typeof A)return{};let e=A[s.c4.find(e=>F[e])];return e?{width:e,height:e,fontSize:e&&(P||z)?e/2:18}:{}},[F,A]),V=O("avatar",S),q=(0,d.Z)(V),[G,Q,J]=x(V,q),K=i()({["".concat(V,"-lg")]:"large"===A,["".concat(V,"-sm")]:"small"===A}),$=r.isValidElement(Z),U=M||(null==T?void 0:T.shape)||"circle",X=i()(V,K,null==C?void 0:C.className,"".concat(V,"-").concat(U),{["".concat(V,"-image")]:$||Z&&g,["".concat(V,"-icon")]:!!P},J,q,L,N,Q),ee="number"==typeof A?{width:A,height:A,fontSize:P?A/2:18}:{};if("string"==typeof Z&&g)n=r.createElement("img",{src:Z,draggable:B,srcSet:D,onError:()=>{let{onError:t}=e;!1!==(null==t?void 0:t())&&y(!1)},alt:Y,crossOrigin:I});else if($)n=Z;else if(P)n=P;else if(v||1!==a){let e="scale(".concat(a,")");n=r.createElement(o.default,{onResize:k},r.createElement("span",{className:"".concat(V,"-string"),ref:j,style:Object.assign({},{msTransform:e,WebkitTransform:e,transform:e})},z))}else n=r.createElement("span",{className:"".concat(V,"-string"),style:{opacity:0},ref:j},z);return delete W.onError,delete W.gap,G(r.createElement("span",Object.assign({},W,{style:Object.assign(Object.assign(Object.assign(Object.assign({},ee),H),null==C?void 0:C.style),W.style),className:X,ref:w}),n))});var w=n(45287),O=n(19722),C=n(14301);let T=e=>{let{size:t,shape:n}=r.useContext(f),a=r.useMemo(()=>({size:e.size||t,shape:e.shape||n}),[e.size,e.shape,t,n]);return r.createElement(f.Provider,{value:a},e.children)};j.Group=e=>{var t,n,a;let{getPrefixCls:o,direction:l}=r.useContext(c.E_),{prefixCls:s,className:u,rootClassName:p,style:f,maxCount:m,maxStyle:v,size:h,shape:g,maxPopoverPlacement:y,maxPopoverTrigger:b,children:_,max:k}=e,S=o("avatar",s),M="".concat(S,"-group"),E=(0,d.Z)(S),[Z,D,P]=x(S,E),L=i()(M,{["".concat(M,"-rtl")]:"rtl"===l},P,E,u,p,D),N=(0,w.Z)(_).map((e,t)=>(0,O.Tm)(e,{key:"avatar-key-".concat(t)})),Y=(null==k?void 0:k.count)||m,B=N.length;if(Y&&Y<B){let e=N.slice(0,Y),o=N.slice(Y,B),l=(null==k?void 0:k.style)||v,s=(null===(t=null==k?void 0:k.popover)||void 0===t?void 0:t.trigger)||b||"hover",c=(null===(n=null==k?void 0:k.popover)||void 0===n?void 0:n.placement)||y||"top",d=Object.assign(Object.assign({content:o},null==k?void 0:k.popover),{overlayClassName:i()("".concat(M,"-popover"),null===(a=null==k?void 0:k.popover)||void 0===a?void 0:a.overlayClassName),placement:c,trigger:s});return e.push(r.createElement(C.Z,Object.assign({key:"avatar-popover-key",destroyTooltipOnHide:!0},d),r.createElement(j,{style:l},"+".concat(B-Y)))),Z(r.createElement(T,{shape:g,size:h},r.createElement("div",{className:L,style:f},e)))}return Z(r.createElement(T,{shape:g,size:h},r.createElement("div",{className:L,style:f},N)))};var k=j},14301:function(e,t,n){"use strict";n.d(t,{Z:function(){return M}});var r=n(2265),a=n(36760),i=n.n(a),o=n(50506),l=n(95814);let s=e=>e?"function"==typeof e?e():e:null;var c=n(68710),d=n(19722),u=n(71744),p=n(89970),f=n(5769),m=n(12918),v=n(691),h=n(88260),g=n(34442),y=n(53454),b=n(99320),x=n(71140);let _=e=>{let{componentCls:t,popoverColor:n,titleMinWidth:r,fontWeightStrong:a,innerPadding:i,boxShadowSecondary:o,colorTextHeading:l,borderRadiusLG:s,zIndexPopup:c,titleMarginBottom:d,colorBgElevated:u,popoverBg:p,titleBorderBottom:f,innerContentPadding:v,titlePadding:g}=e;return[{[t]:Object.assign(Object.assign({},(0,m.Wf)(e)),{position:"absolute",top:0,left:{_skip_check_:!0,value:0},zIndex:c,fontWeight:"normal",whiteSpace:"normal",textAlign:"start",cursor:"auto",userSelect:"text","--valid-offset-x":"var(--arrow-offset-horizontal, var(--arrow-x))",transformOrigin:"var(--valid-offset-x, 50%) var(--arrow-y, 50%)","--antd-arrow-background-color":u,width:"max-content",maxWidth:"100vw","&-rtl":{direction:"rtl"},"&-hidden":{display:"none"},["".concat(t,"-content")]:{position:"relative"},["".concat(t,"-inner")]:{backgroundColor:p,backgroundClip:"padding-box",borderRadius:s,boxShadow:o,padding:i},["".concat(t,"-title")]:{minWidth:r,marginBottom:d,color:l,fontWeight:a,borderBottom:f,padding:g},["".concat(t,"-inner-content")]:{color:n,padding:v}})},(0,h.ZP)(e,"var(--antd-arrow-background-color)"),{["".concat(t,"-pure")]:{position:"relative",maxWidth:"none",margin:e.sizePopupArrow,display:"inline-block",["".concat(t,"-content")]:{display:"inline-block"}}}]},j=e=>{let{componentCls:t}=e;return{[t]:y.i.map(n=>{let r=e["".concat(n,"6")];return{["&".concat(t,"-").concat(n)]:{"--antd-arrow-background-color":r,["".concat(t,"-inner")]:{backgroundColor:r},["".concat(t,"-arrow")]:{background:"transparent"}}}})}};var w=(0,b.I$)("Popover",e=>{let{colorBgElevated:t,colorText:n}=e,r=(0,x.mergeToken)(e,{popoverBg:t,popoverColor:n});return[_(r),j(r),(0,v._y)(r,"zoom-big")]},e=>{let{lineWidth:t,controlHeight:n,fontHeight:r,padding:a,wireframe:i,zIndexPopupBase:o,borderRadiusLG:l,marginXS:s,lineType:c,colorSplit:d,paddingSM:u}=e,p=n-r;return Object.assign(Object.assign(Object.assign({titleMinWidth:177,zIndexPopup:o+30},(0,g.w)(e)),(0,h.wZ)({contentRadius:l,limitVerticalRadius:!0})),{innerPadding:i?0:12,titleMarginBottom:i?0:s,titlePadding:i?"".concat(p/2,"px ").concat(a,"px ").concat(p/2-t,"px"):0,titleBorderBottom:i?"".concat(t,"px ").concat(c," ").concat(d):"none",innerContentPadding:i?"".concat(u,"px ").concat(a,"px"):0})},{resetStyle:!1,deprecatedTokens:[["width","titleMinWidth"],["minWidth","titleMinWidth"]]}),O=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>t.indexOf(r)&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)0>t.indexOf(r[a])&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};let C=e=>{let{title:t,content:n,prefixCls:a}=e;return t||n?r.createElement(r.Fragment,null,t&&r.createElement("div",{className:"".concat(a,"-title")},t),n&&r.createElement("div",{className:"".concat(a,"-inner-content")},n)):null},T=e=>{let{hashId:t,prefixCls:n,className:a,style:o,placement:l="top",title:c,content:d,children:u}=e,p=s(c),m=s(d),v=i()(t,n,"".concat(n,"-pure"),"".concat(n,"-placement-").concat(l),a);return r.createElement("div",{className:v,style:o},r.createElement("div",{className:"".concat(n,"-arrow")}),r.createElement(f.Popup,Object.assign({},e,{className:t,prefixCls:n}),u||r.createElement(C,{prefixCls:n,title:p,content:m})))};var k=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>t.indexOf(r)&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)0>t.indexOf(r[a])&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};let S=r.forwardRef((e,t)=>{var n,a;let{prefixCls:f,title:m,content:v,overlayClassName:h,placement:g="top",trigger:y="hover",children:b,mouseEnterDelay:x=.1,mouseLeaveDelay:_=.1,onOpenChange:j,overlayStyle:O={}}=e,T=k(e,["prefixCls","title","content","overlayClassName","placement","trigger","children","mouseEnterDelay","mouseLeaveDelay","onOpenChange","overlayStyle"]),{getPrefixCls:S}=r.useContext(u.E_),M=S("popover",f),[E,Z,D]=w(M),P=S(),L=i()(h,Z,D),[N,Y]=(0,o.Z)(!1,{value:null!==(n=e.open)&&void 0!==n?n:e.visible,defaultValue:null!==(a=e.defaultOpen)&&void 0!==a?a:e.defaultVisible}),B=(e,t)=>{Y(e,!0),null==j||j(e,t)},z=e=>{e.keyCode===l.Z.ESC&&B(!1,e)},I=s(m),W=s(v);return E(r.createElement(p.Z,Object.assign({placement:g,trigger:y,mouseEnterDelay:x,mouseLeaveDelay:_,overlayStyle:O},T,{prefixCls:M,overlayClassName:L,ref:t,open:N,onOpenChange:e=>{B(e)},overlay:I||W?r.createElement(C,{prefixCls:M,title:I,content:W}):null,transitionName:(0,c.m)(P,"zoom-big",T.transitionName),"data-popover-inject":!0}),(0,d.Tm)(b,{onKeyDown:e=>{var t,n;r.isValidElement(b)&&(null===(n=null==b?void 0:(t=b.props).onKeyDown)||void 0===n||n.call(t,e)),z(e)}})))});S._InternalPanelDoNotUseOrYouWillBeFired=e=>{let{prefixCls:t,className:n}=e,a=O(e,["prefixCls","className"]),{getPrefixCls:o}=r.useContext(u.E_),l=o("popover",t),[s,c,d]=w(l);return s(r.createElement(T,Object.assign({},a,{prefixCls:l,hashId:c,className:i()(n,d)})))};var M=S},70939:function(e){var t;t=function(){return{name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(e){var t=["th","st","nd","rd"],n=e%100;return"["+e+(t[(n-20)%10]||t[n]||"th")+"]"}}},e.exports=t()},29066:function(e,t,n){var r;r=function(e){"use strict";var t={name:"vi",weekdays:"chủ nhật_thứ hai_thứ ba_thứ tư_thứ năm_thứ s\xe1u_thứ bảy".split("_"),months:"th\xe1ng 1_th\xe1ng 2_th\xe1ng 3_th\xe1ng 4_th\xe1ng 5_th\xe1ng 6_th\xe1ng 7_th\xe1ng 8_th\xe1ng 9_th\xe1ng 10_th\xe1ng 11_th\xe1ng 12".split("_"),weekStart:1,weekdaysShort:"CN_T2_T3_T4_T5_T6_T7".split("_"),monthsShort:"Th01_Th02_Th03_Th04_Th05_Th06_Th07_Th08_Th09_Th10_Th11_Th12".split("_"),weekdaysMin:"CN_T2_T3_T4_T5_T6_T7".split("_"),ordinal:function(e){return e},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM [năm] YYYY",LLL:"D MMMM [năm] YYYY HH:mm",LLLL:"dddd, D MMMM [năm] YYYY HH:mm",l:"DD/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY HH:mm",llll:"ddd, D MMM YYYY HH:mm"},relativeTime:{future:"%s tới",past:"%s trước",s:"v\xe0i gi\xe2y",m:"một ph\xfat",mm:"%d ph\xfat",h:"một giờ",hh:"%d giờ",d:"một ng\xe0y",dd:"%d ng\xe0y",M:"một th\xe1ng",MM:"%d th\xe1ng",y:"một năm",yy:"%d năm"}};return(e&&"object"==typeof e&&"default"in e?e:{default:e}).default.locale(t,null,!0),t},e.exports=r(n(71096))},16211:function(e){var t;t=function(){return function(e,t,n){t.prototype.isBetween=function(e,t,r,a){var i=n(e),o=n(t),l="("===(a=a||"()")[0],s=")"===a[1];return(l?this.isAfter(i,r):!this.isBefore(i,r))&&(s?this.isBefore(o,r):!this.isAfter(o,r))||(l?this.isBefore(i,r):!this.isAfter(i,r))&&(s?this.isAfter(o,r):!this.isBefore(o,r))}}},e.exports=t()},20396:function(e,t,n){"use strict";t.GS=t.ZP=void 0;var r=n(55950);Object.defineProperty(t,"ZP",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(t,"GS",{enumerable:!0,get:function(){return r.useMedia}})},55950:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useMediaLayout=t.useMedia=t.mockMediaQueryList=void 0;var r=n(2265),a=n(57933);t.mockMediaQueryList={media:"",matches:!1,onchange:a.noop,addListener:a.noop,removeListener:a.noop,addEventListener:a.noop,removeEventListener:a.noop,dispatchEvent:function(e){return!0}};var i=function(e){return function(n,i){void 0===i&&(i=!1);var o=r.useState(i),l=o[0],s=o[1],c=a.queryObjectToString(n);return e(function(){var e=!0,n="undefined"==typeof window?t.mockMediaQueryList:window.matchMedia(c),r=function(){e&&s(!!n.matches)};return n.addListener(r),s(n.matches),function(){e=!1,n.removeListener(r)}},[c]),l}};t.useMedia=i(r.useEffect),t.useMediaLayout=i(r.useLayoutEffect),t.default=t.useMedia},75679:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e.replace(/[A-Z]/g,function(e){return"-"+e.toLowerCase()}).toLowerCase()}},57933:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.noop=t.queryObjectToString=t.camelToHyphen=void 0;var r=n(75679);Object.defineProperty(t,"camelToHyphen",{enumerable:!0,get:function(){return r.default}});var a=n(6526);Object.defineProperty(t,"queryObjectToString",{enumerable:!0,get:function(){return a.default}});var i=n(53745);Object.defineProperty(t,"noop",{enumerable:!0,get:function(){return i.default}})},53745:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){}},6526:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(75679);t.default=function(e){return"string"==typeof e?e:Object.entries(e).map(function(e){var t=e[0],n=e[1],a=r.default(t),i=n;return"boolean"==typeof i?i?a:"not "+a:("number"==typeof i&&/[height|width]$/.test(a)&&(i+="px"),"("+a+": "+i+")")}).join(" and ")}},77364:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return g}});var r=n(57437),a=n(24307),i=n(98733);n(82727);var o=n(71096),l=n.n(o),s=n(70939),c=n.n(s),d=n(29066),u=n.n(d),p=n(16211),f=n.n(p),m=n(2265),v=n(67545),h=n(20396);function g(e){let{ID:t}=e,n=(0,h.ZP)({maxWidth:639}),[o,s]=(0,m.useState)(),d=(0,m.useRef)(),[p,f]=(0,m.useState)(0),[g,y]=(0,m.useState)(""),[b,x]=(0,m.useState)([]),_=async()=>{let e=await a.Z.getActivityByContract(t);200===e.statusCode&&s(e.data)},j=[{id:"en",lang:{feelingEmpty:"I feel so empty...",free:"Free",loadNext:"Next",loadPrevious:"Previous",over:"over",taken:"Taken",topbar:{filters:"Filters",next:"next",prev:"prev",today:"Today",view:"View"},search:"search",week:"week"},translateCode:"en-EN",dayjsTranslations:c()},{id:"vi",lang:{feelingEmpty:"T\xf4i cảm thấy trống rỗng...",free:"Miễn ph\xed",loadNext:"Tiếp theo",loadPrevious:"Trước",over:"hết",taken:"Đ\xe3 lấy",topbar:{filters:"Bộ lọc",next:"Tiếp theo",prev:"Trước",today:"H\xf4m nay",view:"Xem"},search:"T\xecm kiếm",week:"Tuần"},translateCode:"vi-VN",dayjsTranslations:u()}];(0,m.useEffect)(()=>{if(""!==g){var e;null===(e=d.current)||void 0===e||e.click()}},[g]),(0,m.useEffect)(()=>{t&&_()},[t]),(0,m.useEffect)(()=>{o&&x(o.map(e=>{var t,n,r,a,i;return{id:e.activity_id,label:{subtitle:e.description||"",title:e.name||"",icon:null!==(i=null==e?void 0:null===(r=e.picture_urls)||void 0===r?void 0:null===(t=r[(null==e?void 0:null===(n=e.picture_urls)||void 0===n?void 0:n.length)-1])||void 0===t?void 0:t.url)&&void 0!==i?i:""},data:null==e?void 0:null===(a=e.works)||void 0===a?void 0:a.map(e=>{var t,n,r,a,i;return{id:e.work_id,startDate:new Date(e.time_start),endDate:new Date(e.time_end),occupancy:0,title:e.name||"Untitled",subtitle:(null===(t=e.status)||void 0===t?void 0:t.name)||"No status",description:e.description||"",bgColor:(null===(n=e.status)||void 0===n?void 0:n.name_tag)==="process_check"?"rgb(255,193,7)":(null===(r=e.status)||void 0===r?void 0:r.name_tag)==="process"?"rgb(0,123,255)":(null===(a=e.status)||void 0===a?void 0:a.name_tag)==="process_waiting"?"rgb(100,149,237)":(null===(i=e.status)||void 0===i?void 0:i.name_tag)==="completed"?"rgb(40,167,69)":"rgb(211,211,211)"}})}}))},[o]);let[w,O]=(0,m.useState)({startDate:new Date,endDate:new Date}),C=(0,m.useCallback)(e=>{O(e)},[]),T=b.map(e=>{var t;return{...e,data:null===(t=e.data)||void 0===t?void 0:t.filter(e=>l()(e.startDate).isBetween(w.startDate,w.endDate)||l()(e.endDate).isBetween(w.startDate,w.endDate)||l()(e.startDate).isBefore(w.startDate,"day")&&l()(e.endDate).isAfter(w.endDate,"day"))}});return(0,r.jsxs)("section",{className:"".concat(n?"unactive":""),children:[(0,r.jsx)(i.b,{data:T,isLoading:!o,onRangeChange:C,onTileClick:e=>console.log(e),onItemClick:e=>{e&&y(e.id)},onFilterData:()=>{f(1)},onClearFilterData:()=>{f(0)},config:{zoom:0,filterButtonState:p,showTooltip:!1,lang:"vi",translations:j,showThemeToggle:!0,defaultTheme:"dark"}}),(0,r.jsx)(v.Z,{ID:g,refBtn:d,type:"gantt",setID:y,fetchData:_})]})}l().extend(f())},67545:function(e,t,n){"use strict";n.d(t,{Z:function(){return k}});var r=n(57437),a=n(46475),i=n(11265),o=n(24307),l=n(91626),s=n(58970),c=n(42654),d=n(44967),u=n(11632),p=n(23496),f=n(16836),m=n(29487),v=n(45747),h=n(7140),g=n(2265),y=n(68575),b=n(27929),x=n(63302),_=n(60792),j=n(45407),w=n(83458),O=n(21544),C=n(99376),T=n(15162);function k(e){let{ID:t,idType:n,type:k,refBtn:S,setID:M}=e,E=(0,g.useRef)(),Z=(0,g.useRef)(),D=(0,g.useRef)(),P=(0,g.useRef)(),L=(0,g.useRef)(),N=(0,g.useRef)(),[Y,B]=(0,g.useState)(""),{datas:z}=(0,y.v9)(e=>e.get_type_activities),{datas:I}=(0,y.v9)(e=>e.get_contracts),{projectID:W}=(0,C.useParams)(),[A]=(0,m.Z)(),{postdata:R}=(0,a.Z)(),F=(0,y.I0)(),[H,V]=(0,g.useState)(!1),[q,G]=(0,g.useState)(""),[Q,J]=(0,g.useState)([]),K=async()=>{let e=await o.Z.getActivityById(t);if(200===e.statusCode){let t=e.data;A.setFieldsValue(t),G(e.data.type)}};(0,g.useEffect)(()=>{if(q){var e,t;J(null!==(t=null===(e=z.find(e=>e.type_activity_id===q))||void 0===e?void 0:e.status)&&void 0!==t?t:[])}},[q]);let $=async e=>{console.log(t);let r=await R(()=>o.Z.updateActivity(t,e));(200===r||201===r)&&(K(),k||F((0,i.ij)({project:W})),"schedule"===k&&F((0,b.N)(n)),"gantt"===k&&M&&(F((0,i.ij)({})),M("")))},U=async()=>{A.submit()};return(0,g.useEffect)(()=>{if(""!==Y){var e;null===(e=N.current)||void 0===e||e.click()}},[Y]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(l.ZP,{hidden:!!k,className:"  text-xs text-yellow-500 font-semibold",type:"text",ref:S,onClick:()=>{V(!0),K()},children:"Chỉnh sửa"}),(0,r.jsx)(s.Z,{title:"Cập nhật hoạt động",open:H,onCancel:()=>{V(!1),M&&M("")},footer:null,width:"100%",style:{maxWidth:"800px"},children:(0,r.jsx)(c.Z,{defaultActiveKey:"1",style:{width:"100%"},type:"line",children:(0,r.jsxs)(h.Z,{tab:"Th\xf4ng tin hoạt động",children:[(0,r.jsxs)(d.Z,{layout:"vertical",form:A,onFinish:$,style:{display:"flex",flexWrap:"wrap",columnGap:"12px"},children:[(0,r.jsx)(d.Z.Item,{name:"type",label:"Loại hoạt động",rules:[{required:!0,message:"Vui l\xf2ng chọn loại hoạt động!"}],style:{width:"100%",flex:"1 1 0%"},children:(0,r.jsx)(u.Z,{disabled:!0,placeholder:"Chọn loại",onChange:e=>{G(e)},showSearch:!0,filterOption:(e,t)=>{var n;return(Array.isArray(null==t?void 0:t.children)?t.children.join(""):null!==(n=null==t?void 0:t.children)&&void 0!==n?n:"").toLowerCase().includes(e.toLowerCase())},dropdownRender:e=>(0,r.jsxs)(r.Fragment,{children:[e,(0,r.jsx)(p.Z,{style:{margin:"8px 0"}}),(0,r.jsx)(l.ZP,{type:"link",onClick:()=>{var e;null===(e=E.current)||void 0===e||e.click()},children:"+ Th\xeam t\xf9y chọn mới"})]}),children:null==z?void 0:z.map(e=>(0,r.jsx)(v.W,{value:e.type_activity_id,children:e.name},e.type_activity_id))})}),(0,r.jsx)(d.Z.Item,{name:"name",label:"T\xean hoạt động",rules:[{required:!0,type:"string",message:"Vui l\xf2ng nhập t\xean hoạt động"}],style:{minWidth:"100%",flex:"1 1 0%"},children:(0,r.jsx)(f.default,{})}),(0,r.jsx)(d.Z.Item,{name:"status",label:"Trạng th\xe1i",style:{minWidth:"240px",flex:"1 1 0%"},children:(0,r.jsx)(u.Z,{disabled:!0,placeholder:"Chọn loại",showSearch:!0,filterOption:(e,t)=>{var n;return(Array.isArray(null==t?void 0:t.children)?t.children.join(""):null!==(n=null==t?void 0:t.children)&&void 0!==n?n:"").toLowerCase().includes(e.toLowerCase())},dropdownRender:e=>(0,r.jsxs)(r.Fragment,{children:[e,(0,r.jsx)(p.Z,{style:{margin:"8px 0"}}),(0,r.jsx)(l.ZP,{type:"link",onClick:()=>{var e;null===(e=D.current)||void 0===e||e.click()},children:"+ Th\xeam t\xf9y chọn mới"})]}),children:null==Q?void 0:Q.map(e=>(0,r.jsx)(v.W,{value:e.status_activity_id,children:e.name},e.status_activity_id))})}),(0,r.jsx)(d.Z.Item,{name:"contract",label:"Hợp động",style:{minWidth:"240px",flex:"1 1 0%"},children:(0,r.jsx)(u.Z,{placeholder:"Chọn hợp động",showSearch:!0,filterOption:(e,t)=>{var n;return(Array.isArray(null==t?void 0:t.children)?t.children.join(""):null!==(n=null==t?void 0:t.children)&&void 0!==n?n:"").toLowerCase().includes(e.toLowerCase())},dropdownRender:e=>(0,r.jsxs)(r.Fragment,{children:[e,(0,r.jsx)(p.Z,{style:{margin:"8px 0"}}),(0,r.jsx)(l.ZP,{type:"link",onClick:()=>{var e;null===(e=Z.current)||void 0===e||e.click()},children:"+ Th\xeam t\xf9y chọn mới"})]}),children:null==I?void 0:I.map(e=>(0,r.jsx)(v.W,{value:e.contract_id,children:e.name_contract},e.contract_id))})}),(0,r.jsx)(d.Z.Item,{name:"description",label:"M\xf4 tả",style:{width:"100%"},children:(0,r.jsx)(f.default.TextArea,{placeholder:"Description",autoSize:{minRows:3}})})]}),(0,r.jsx)("div",{className:"flex justify-end w-full mt-4",children:(0,r.jsx)(l.ZP,{type:"primary",onClick:U,children:"Cập nhật"})})]},1)})}),(0,r.jsx)(x.Z,{refBtnContract:Z}),(0,r.jsx)(_.Z,{refBtnType:E}),(0,r.jsx)(j.Z,{refBtnStatus:D}),(0,r.jsx)(w.Z,{refBtnStatus:L}),(0,r.jsx)(O.Z,{refBtnType:P}),(0,r.jsx)(T.Z,{ID:Y,refBtn:N,setID:B})]})}},82727:function(){}}]);