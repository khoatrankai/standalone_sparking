(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5107],{32279:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return v}});var a=r(57437),n=r(98733);r(82727);var s=r(71096),l=r.n(s),i=r(16211),d=r.n(i),o=r(70939),c=r.n(o),u=r(29066),m=r.n(u),h=r(2265),p=r(68575);r(54048);var x=r(20396),g=r(48302),f=r(99376),y=r(78049);function v(){let e=(0,x.ZP)({maxWidth:639}),t=(0,h.useRef)(),r=(0,f.useSearchParams)(),[s,i]=(0,h.useState)(""),[d,o]=(0,h.useState)([]),{datas:u}=(0,p.v9)(e=>e.get_users),[v,j]=(0,h.useState)(0),[b,w]=(0,h.useState)([]),Z=[{id:"en",lang:{feelingEmpty:"I feel so empty...",free:"Free",loadNext:"Next",loadPrevious:"Previous",over:"over",taken:"Taken",topbar:{filters:"Filters",next:"next",prev:"prev",today:"Today",view:"View"},search:"search",week:"week"},translateCode:"en-EN",dayjsTranslations:c()},{id:"vi",lang:{feelingEmpty:"T\xf4i cảm thấy trống rỗng...",free:"Miễn ph\xed",loadNext:"Tiếp theo",loadPrevious:"Trước",over:"hết",taken:"Đ\xe3 lấy",topbar:{filters:"Bộ lọc",next:"Tiếp theo",prev:"Trước",today:"H\xf4m nay",view:"Xem"},search:"T\xecm kiếm",week:"Tuần"},translateCode:"vi-VN",dayjsTranslations:m()}];(0,h.useEffect)(()=>{if(""!==s){var e;null===(e=t.current)||void 0===e||e.click()}},[s]),(0,h.useEffect)(()=>{d&&d.length&&w(d.map(e=>{var t;return{id:e.type_id,label:{subtitle:"",title:e.name_type||"",icon:""},data:null===(t=e.projects)||void 0===t?void 0:t.map(e=>({id:e.project_id,startDate:e.start_date?new Date(e.start_date):0,endDate:e.end_date?new Date(e.end_date):0,occupancy:0,title:e.name||"Untitled",subtitle:e.status,description:e.description||"",bgColor:"pause"===e.status?"rgb(255,193,7)":"start"===e.status?"rgb(0,123,255)":"waiting"===e.status?"rgb(100,149,237)":"completed"===e.status?"rgb(40,167,69)":"rgb(211,211,211)"}))}}))},[d,u]);let[C,N]=(0,h.useState)({startDate:new Date,endDate:new Date}),_=async e=>{let t=await y.Z.getTypeFulls({status:e});200===t.statusCode&&o(t.data)};(0,h.useEffect)(()=>{let e=r.get("status");_(null!=e?e:void 0)},[r]);let S=(0,h.useCallback)(e=>{N(e)},[]),k=b.map(e=>({...e,data:e.data.filter(e=>l()(e.startDate).isBetween(C.startDate,C.endDate)||l()(e.endDate).isBetween(C.startDate,C.endDate)||l()(e.startDate).isBefore(C.startDate,"day")&&l()(e.endDate).isAfter(C.endDate,"day"))}));return(0,a.jsxs)("section",{className:"".concat(e?"unactive":""),children:[(0,a.jsx)(n.b,{data:k,isLoading:!1,onRangeChange:S,onTileClick:e=>{e&&i(e.id)},onFilterData:()=>{j(1)},onClearFilterData:()=>{j(0)},config:{zoom:0,filterButtonState:v,showTooltip:!1,lang:"vi",translations:Z,showThemeToggle:!0,defaultTheme:"dark"}}),(0,a.jsx)(g.Z,{ID:s,setID:i,type:"gantt",refBtnProject:t})]})}l().extend(d())},80618:function(e,t,r){"use strict";var a=r(57437),n=r(2265),s=r(44967),l=r(16836),i=r(91626),d=r(58970),o=r(91250),c=r(46475),u=r(29487),m=r(94295),h=r(67776),p=r(32768),x=r(49089),g=r(68575),f=r(78049),y=r(63445),v=r(15130);t.Z=e=>{let{refBtnGroup:t}=e,[r,j]=(0,n.useState)(!1),[b,w]=(0,n.useState)([]),Z=(0,g.I0)(),{datas:C}=(0,g.v9)(e=>e.type_projects),N=async(e,t,r)=>{console.log(e);try{let a=await F(()=>f.Z.updateType(t,e));200===a&&(Z((0,y.b)()),Z((0,v.c)()),Z((0,y.b)()),I(r))}catch(e){console.error("Error creating unit product:",e)}},[_,S]=(0,n.useState)(""),k=async()=>{200===await F(()=>f.Z.deleteType([null!=_?_:""]))&&(Z((0,v.c)()),S(""))},T=e=>{w([...b,e])},I=e=>{w(b.filter(t=>t!==e))},[P,D]=(0,n.useState)(!1),{postdata:F}=(0,c.Z)(),[O]=(0,u.Z)(),V=[{title:"M\xe3 loại",dataIndex:"type_id",key:"type_id",render:(e,t,r)=>(0,a.jsxs)("div",{className:"flex gap-1 items-center",children:["#",r+1,".",e]})},{title:"T\xean loại",dataIndex:"name_type",width:"50%",key:"name_type",render:(e,t,r)=>(0,a.jsx)(a.Fragment,{children:b.includes(r)?(0,a.jsxs)(s.Z,{onFinish:e=>{N(e,t.type_id,r)},style:{display:"flex",flexWrap:"wrap",gap:"8px"},children:[(0,a.jsx)(s.Z.Item,{name:"name_type",rules:[{required:!0,message:"Vui l\xf2ng nhập t\xean mới"}],style:{margin:"0"},children:(0,a.jsx)(l.default,{placeholder:"Nhập t\xean loại",defaultValue:e})}),(0,a.jsxs)(s.Z.Item,{style:{gap:"2px",display:"flex",justifyContent:"end",margin:"0"},children:[(0,a.jsx)(i.ZP,{className:"font-semibold border-transparent group",type:"link",htmlType:"submit",icon:(0,a.jsx)(x.l_A,{className:"group-hover:text-green-500"})}),(0,a.jsx)(i.ZP,{className:"font-semibold border-transparent group",type:"link",onClick:()=>{I(r)},icon:(0,a.jsx)(p.bjh,{className:"group-hover:text-red-500"})})]})]}):(0,a.jsxs)("strong",{className:"flex gap-2 items-center",children:[e,(0,a.jsx)(i.ZP,{type:"link",onClick:()=>{T(r)},icon:(0,a.jsx)(h.FNg,{})}),(0,a.jsx)(i.ZP,{className:"  text-xs text-red-500 font-semibold",type:"text",onClick:()=>S(null==t?void 0:t.type_id),children:"X\xf3a"})]})})}],W=async e=>{try{let t=await F(()=>f.Z.createType(e));201===t&&(Z((0,y.b)()),Z((0,v.c)()),O.resetFields())}catch(e){console.error("Error creating product:",e)}};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(i.ZP,{hidden:!!t,className:"bg-blue-400 border-0 text-white font-semibold",onClick:()=>{j(!0)},ref:t,children:"Loại dự \xe1n"}),(0,a.jsx)(d.Z,{title:"Loại dự \xe1n",open:r,onCancel:()=>{j(!1)},footer:null,width:"100%",style:{maxWidth:"800px"},children:(0,a.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,a.jsx)(i.ZP,{className:"bg-orange-500 text-white font-semibold",icon:(0,a.jsx)(m.gyF,{}),onClick:()=>{O.resetFields(),D(!P)}}),(0,a.jsx)("div",{className:"bg-slate-200 px-1 py-2 rounded-md",hidden:!P,children:(0,a.jsxs)(s.Z,{form:O,onFinish:W,style:{display:"flex",flexWrap:"wrap",gap:"8px"},children:[(0,a.jsx)(s.Z.Item,{name:"name_type",rules:[{required:!0,message:"Vui l\xf2ng nhập t\xean loại"}],style:{flex:"1 1 0%",margin:"0"},children:(0,a.jsx)(l.default,{placeholder:"Nhập t\xean loại"})}),(0,a.jsx)(s.Z.Item,{style:{display:"flex",justifyContent:"end",margin:"0"},children:(0,a.jsx)(i.ZP,{className:"bg-green-500 text-white font-semibold",onClick:()=>{O.submit()},children:"Th\xeam"})})]})}),(0,a.jsx)("div",{className:"border-t-2 w-full overflow-x-auto",children:(0,a.jsx)("div",{className:"w-full",children:(0,a.jsx)(o.Z,{columns:V,scroll:{x:"max-content"},className:"custom-table",dataSource:C,pagination:{pageSize:10,showTotal:(e,t)=>"".concat(t[0],"-").concat(t[1]," of ").concat(e," items")},showSorterTooltip:{target:"sorter-icon"}})})})]})}),(0,a.jsx)(d.Z,{open:""!==_,title:"X\xf3a dữ liệu",onOk:k,onCancel:()=>{S("")},children:"Bạn c\xf3 chắc chắn muốn x\xf3a kh\xf4ng ?"})]})}},48302:function(e,t,r){"use strict";var a=r(57437),n=r(2265),s=r(91626),l=r(58970),i=r(44967),d=r(16836),o=r(11632),c=r(23496),u=r(90136),m=r(56612),h=r(20347),p=r(96473),x=r(29487),g=r(68575),f=r(78049),y=r(46475),v=r(63445),j=r(80618),b=r(4599),w=r(96748),Z=r(79587),C=r(71096),N=r.n(C),_=r(16114),S=r(79820),k=r(99397),T=r(95805),I=r(49663),P=r(32489),D=r(75060),F=r(69174),O=r(12381);t.Z=e=>{var t;let{ID:r,refBtnProject:C,type:V,setID:W}=e,R=(0,n.useRef)(),A=(0,n.useRef)(),[E,Y]=(0,n.useState)(""),[B,L]=(0,n.useState)(""),[M,z]=(0,n.useState)([]),[G,q]=(0,n.useState)(!1),[H,U]=(0,n.useState)([]),{datas:X}=(0,g.v9)(e=>e.type_projects),{datas:K}=(0,g.v9)(e=>e.role_projects),{datas:J}=(0,g.v9)(e=>e.get_opportunities),{datas:$}=(0,g.v9)(e=>e.infos_customer),[Q]=(0,x.Z)(),ee=(0,g.I0)(),{datas:et}=(0,g.v9)(e=>e.get_users),er=null===(t=null!=et?et:[])||void 0===t?void 0:t.filter(e=>!M.some(t=>t.user===e.user_id)),{postdata:ea}=(0,y.Z)(),en=async()=>{let e=await f.Z.getProject(r);if(200===e.statusCode){var t,a;Q.setFieldsValue(e.data),U([{uid:e.data.project_id,name:"logo.png",status:"done",url:e.data.picture_url}]),z(null!==(a=null==e?void 0:null===(t=e.data)||void 0===t?void 0:t.users)&&void 0!==a?a:[])}},es=e=>{z(t=>t.filter(t=>t.user!==e))},el=async e=>{try{var t;let a=(0,Z.Z)(Object.entries({...e,start_date:e.start_date?e.start_date.toISOString():void 0,end_date:e.end_date?e.end_date.toISOString():void 0,picture_url:H.length>0?[null==H?void 0:null===(t=H[0])||void 0===t?void 0:t.originFileObj]:null,users:JSON.stringify(M)}).reduce((e,t)=>{let[r,a]=t;return null!=a&&(e[r]=a),e},{})),n=await ea(()=>f.Z.updateProject(r,a));(200===n||201===n)&&(ee((0,v.b)()),Q.resetFields(),q(!1),"gantt"===V&&W&&(ee((0,w.C)()),W("")))}catch(e){console.error("Error updating project:",e)}},ei=(0,a.jsxs)("button",{style:{border:0,background:"none"},type:"button",children:[(0,a.jsx)(p.Z,{}),(0,a.jsx)("div",{style:{marginTop:8},children:"Upload"})]});return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(s.ZP,{hidden:!!C,type:"text",className:"text-xs text-yellow-500 font-semibold",onClick:()=>{q(!0),en()},ref:C,children:"Chỉnh sửa"}),(0,a.jsx)(l.Z,{title:"Cập nhật dự \xe1n",open:G,onCancel:()=>{q(!1),W&&W("")},footer:null,width:"100%",style:{maxWidth:"800px"},children:(0,a.jsxs)(i.Z,{layout:"vertical",form:Q,onFinish:el,style:{display:"flex",flexWrap:"wrap",gap:"12px"},children:[(0,a.jsx)(i.Z.Item,{name:"name",label:"T\xean dự \xe1n",style:{minWidth:"320px",flex:"1 1 0%"},rules:[{required:!0,message:"Vui l\xf2ng nhập t\xean dự \xe1n"}],children:(0,a.jsx)(d.default,{placeholder:"T\xean dự \xe1n"})}),(0,a.jsx)(i.Z.Item,{name:"customer",label:"Kh\xe1ch h\xe0ng",style:{minWidth:"320px",flex:"1 1 0%"},rules:[{required:!0,message:"Vui l\xf2ng nhập t\xean kh\xe1ch h\xe0ng"}],children:(0,a.jsx)(o.Z,{placeholder:"Chọn kh\xe1ch h\xe0ng",showSearch:!0,filterOption:(e,t)=>{var r;return(Array.isArray(null==t?void 0:t.children)?t.children.join(""):null!==(r=null==t?void 0:t.children)&&void 0!==r?r:"").toLowerCase().includes(e.toLowerCase())},dropdownRender:e=>(0,a.jsxs)(a.Fragment,{children:[e,(0,a.jsx)(c.Z,{style:{margin:"8px 0"}}),(0,a.jsx)(s.ZP,{type:"link",onClick:()=>{var e;null===(e=A.current)||void 0===e||e.click()},children:"+ Th\xeam t\xf9y chọn mới"})]}),children:null==$?void 0:$.map(e=>(0,a.jsx)(o.Z.Option,{value:e.info_id,children:e.name_company},e.info_id))})}),(0,a.jsx)(i.Z.Item,{name:"opportunity",label:"Cơ hội",style:{minWidth:"320px",flex:"1 1 0%"},rules:[],children:(0,a.jsx)(o.Z,{placeholder:"Chọn cơ hội",showSearch:!0,filterOption:(e,t)=>{var r;return(Array.isArray(null==t?void 0:t.children)?t.children.join(""):null!==(r=null==t?void 0:t.children)&&void 0!==r?r:"").toLowerCase().includes(e.toLowerCase())},children:null==J?void 0:J.map(e=>(0,a.jsx)(o.Z.Option,{value:e.opportunity_id,children:e.company_name},e.opportunity_id))})}),(0,a.jsx)(i.Z.Item,{name:"type",label:"Loại dự \xe1n",style:{minWidth:"320px",flex:"1 1 0%"},rules:[{required:!0,message:"Vui l\xf2ng chọn loại dự \xe1n"}],children:(0,a.jsx)(o.Z,{placeholder:"Chọn loại",showSearch:!0,filterOption:(e,t)=>{var r;return(Array.isArray(null==t?void 0:t.children)?t.children.join(""):null!==(r=null==t?void 0:t.children)&&void 0!==r?r:"").toLowerCase().includes(e.toLowerCase())},dropdownRender:e=>(0,a.jsxs)(a.Fragment,{children:[e,(0,a.jsx)(c.Z,{style:{margin:"8px 0"}}),(0,a.jsx)(s.ZP,{type:"link",onClick:()=>{var e;null===(e=R.current)||void 0===e||e.click()},children:"+ Th\xeam t\xf9y chọn mới"})]}),children:null==X?void 0:X.map(e=>(0,a.jsx)(o.Z.Option,{value:e.type_id,children:e.name_type},e.type_id))})}),(0,a.jsx)(i.Z.Item,{name:"status",label:"Trạng th\xe1i",rules:[{required:!0,message:"Vui l\xf2ng chọn trạng th\xe1i"}],style:{minWidth:"220px",flex:"1 1 0%"},children:(0,a.jsxs)(o.Z,{placeholder:"Chọn trạng th\xe1i",children:[(0,a.jsx)(o.Z.Option,{value:"waiting",children:"Đang chờ"}),(0,a.jsx)(o.Z.Option,{value:"start",children:"Bắt đầu"}),(0,a.jsx)(o.Z.Option,{value:"pause",children:"Tạm dừng"}),(0,a.jsx)(o.Z.Option,{value:"cancel",children:"Hủy"}),(0,a.jsx)(o.Z.Option,{value:"completed",children:"Ho\xe0n th\xe0nh"})]})}),(0,a.jsx)(i.Z.Item,{name:"price",label:"Gi\xe1 trị (vnđ)",style:{minWidth:"320px",flex:"1 1 0%"},children:(0,a.jsx)(u.Z,{placeholder:"Gi\xe1 trị",className:"w-full",formatter:e=>"".concat(e).replace(/\B(?=(\d{3})+(?!\d))/g,","),parser:e=>null==e?void 0:e.replace(/\$\s?|(,*)/g,"")})}),(0,a.jsx)(i.Z.Item,{name:"time_job",label:"Thời gian (giờ)",style:{minWidth:"220px",flex:"1 1 0%"},children:(0,a.jsx)(u.Z,{placeholder:"Thời gian c\xf4ng việc",className:"w-full"})}),(0,a.jsx)(i.Z.Item,{name:"start_date",label:"Ng\xe0y bắt đầu",initialValue:"",className:" mb-0",style:{minWidth:"320px",flex:"1 1 0%"},getValueFromEvent:e=>null==e?void 0:e.format("YYYY-MM-DD"),getValueProps:e=>({value:e?N()(e):""}),children:(0,a.jsx)(m.default,{placeholder:"Chọn ng\xe0y bắt đầu",style:{width:"100%"}})}),(0,a.jsx)(i.Z.Item,{name:"end_date",label:"Ng\xe0y kết th\xfac",initialValue:"",className:" mb-0",style:{minWidth:"320px",flex:"1 1 0%"},getValueFromEvent:e=>null==e?void 0:e.format("YYYY-MM-DD"),getValueProps:e=>({value:e?N()(e):""}),children:(0,a.jsx)(m.default,{placeholder:"Chọn ng\xe0y kết th\xfac",style:{width:"100%"}})}),(0,a.jsx)(i.Z.Item,{name:"user_support",label:"Nh\xe2n vi\xean hỗ trợ",style:{minWidth:"220px",flex:"1 1 0%"},children:(0,a.jsx)(o.Z,{placeholder:"Chọn nh\xe2n vi\xean",children:null==et?void 0:et.map(e=>(0,a.jsxs)(o.Z.Option,{value:e.user_id,children:[e.first_name," ",e.last_name]},e.user_id))})}),(0,a.jsx)(i.Z.Item,{name:"description",label:"M\xf4 tả",style:{width:"100%"},children:(0,a.jsx)(d.default.TextArea,{placeholder:"M\xf4 tả dự \xe1n",autoSize:{minRows:3}})}),(0,a.jsx)(i.Z.Item,{name:"picture_url",label:"Ảnh đại diện",className:"!m-0",style:{minWidth:"320px",flex:"1 1 0%"},children:(0,a.jsx)(h.default,{maxCount:1,action:"",listType:"picture-card",fileList:H,onPreview:e=>{ee((0,_.BZ)(e.url))},onChange:e=>{let{file:t}=e;"removed"===t.status?U([]):U([t])},children:H.length>0?null:ei})}),(0,a.jsx)(i.Z.Item,{className:"!m-0",style:{minWidth:"100%",flex:"1 1 0%"},children:(0,a.jsxs)(S.Zb,{className:"w-full",children:[(0,a.jsx)(S.Ol,{children:(0,a.jsxs)(S.ll,{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-green-600 font-semibold text-sm",children:"2"})}),"Ph\xe2n c\xf4ng dự \xe1n"]})}),(0,a.jsxs)(S.aY,{className:"space-y-4",children:[(0,a.jsx)(S.Zb,{className:"border-dashed border-2 border-gray-200",children:(0,a.jsx)(S.aY,{className:"p-4",children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 text-sm font-medium text-gray-700",children:[(0,a.jsx)(k.Z,{className:"w-4 h-4"}),"Th\xeam th\xe0nh vi\xean"]}),0===er.length?(0,a.jsxs)("div",{className:"text-center py-6 text-gray-500",children:[(0,a.jsx)(T.Z,{className:"w-8 h-8 mx-auto mb-2 text-gray-400"}),(0,a.jsx)("p",{children:"Tất cả người d\xf9ng đ\xe3 được ph\xe2n c\xf4ng"})]}):(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(D._,{children:"Chọn nh\xe2n vi\xean"}),(0,a.jsx)(o.Z,{placeholder:"Chọn nh\xe2n vi\xean",className:"h-14",value:E,onChange:Y,children:null==er?void 0:er.map(e=>(0,a.jsx)(o.Z.Option,{value:e.user_id,children:(0,a.jsxs)("div",{className:"flex flex-col",children:[(0,a.jsx)("span",{className:"font-medium",children:e.first_name+" "+e.last_name}),(0,a.jsx)("span",{className:"text-xs text-gray-500",children:e.email})]})},e.user_id))})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(D._,{children:"Chọn vai tr\xf2"}),(0,a.jsx)(o.Z,{placeholder:"Chọn vai tr\xf2",className:"h-14",value:B,onChange:L,children:null==K?void 0:K.map(e=>{var t;return(0,a.jsx)(o.Z.Option,{value:null!==(t=e.role_id)&&void 0!==t?t:"",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(F.C,{variant:"outline",className:"text-xs",children:e.name_tag}),(0,a.jsx)("span",{children:e.name})]})},e.role_id)})})]}),(0,a.jsx)("div",{className:"flex items-end",children:(0,a.jsxs)(O.Z2,{onClick:()=>{if(!E||!B){alert("Vui l\xf2ng chọn người d\xf9ng v\xe0 vai tr\xf2");return}if(E&&B){let e={user:E,role:B};z(t=>[...t,e]),Y(""),L("")}},disabled:!E||!B,className:"w-full",children:[(0,a.jsx)(k.Z,{className:"w-4 h-4 mr-2"}),"Th\xeam"]})})]})]})})}),M.length>0&&(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 text-sm font-medium text-gray-700",children:[(0,a.jsx)(I.Z,{className:"w-4 h-4"}),"Th\xe0nh vi\xean đ\xe3 ph\xe2n c\xf4ng (",M.length,")"]}),(0,a.jsx)("div",{className:"space-y-2",children:M.map(e=>{var t,r,n,s,l;return(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg border",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:(0,a.jsx)(T.Z,{className:"w-4 h-4 text-blue-600"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-medium text-gray-900",children:(null==et?void 0:null===(t=et.find(t=>t.user_id===e.user))||void 0===t?void 0:t.first_name)+" "+(null==et?void 0:null===(r=et.find(t=>t.user_id===e.user))||void 0===r?void 0:r.last_name)}),(0,a.jsx)("div",{className:"text-sm text-gray-500",children:null==et?void 0:null===(n=et.find(t=>t.user_id===e.user))||void 0===n?void 0:n.email})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(F.C,{variant:"secondary",className:"bg-blue-100 text-blue-800",children:null==K?void 0:null===(s=K.find(t=>t.role_id===e.role))||void 0===s?void 0:s.name_tag}),(0,a.jsx)("span",{className:"text-sm text-gray-600",children:null==K?void 0:null===(l=K.find(t=>t.role_id===e.role))||void 0===l?void 0:l.name}),(0,a.jsx)(O.Z2,{type:"button",variant:"ghost",size:"sm",onClick:()=>es(e.user),className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:(0,a.jsx)(P.Z,{className:"w-4 h-4"})})]})]},e.user)})})]})]})]})}),(0,a.jsx)(i.Z.Item,{style:{width:"100%",display:"flex",justifyContent:"end"},children:(0,a.jsx)(s.ZP,{type:"primary",htmlType:"submit",children:"Cập nhật"})})]})}),(0,a.jsx)(j.Z,{refBtnGroup:R}),(0,a.jsx)(b.Z,{refBtnCustomer:A})]})}},69174:function(e,t,r){"use strict";r.d(t,{C:function(){return i}});var a=r(57437);r(2265);var n=r(90535),s=r(93448);let l=(0,n.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function i(e){let{className:t,variant:r,...n}=e;return(0,a.jsx)("div",{className:(0,s.cn)(l({variant:r}),t),...n})}},12381:function(e,t,r){"use strict";r.d(t,{Z2:function(){return c},zx:function(){return o}});var a=r(57437),n=r(2265),s=r(37053),l=r(90535),i=r(93448);let d=(0,l.j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),o=n.forwardRef((e,t)=>{let{className:r,variant:n,size:l,asChild:o=!1,...c}=e,u=o?s.g7:"button";return(0,a.jsx)(u,{className:(0,i.cn)(d({variant:n,size:l,className:r})),ref:t,...c})});o.displayName="Button";let c=n.forwardRef((e,t)=>{let{className:r,variant:n,size:l,asChild:o=!1,...c}=e,u=o?s.g7:"button";return(0,a.jsx)(u,{className:(0,i.cn)(d({variant:n,size:l,className:r})),ref:t,...c})});c.displayName="Button"},79820:function(e,t,r){"use strict";r.d(t,{Ol:function(){return i},SZ:function(){return o},Zb:function(){return l},aY:function(){return c},ll:function(){return d}});var a=r(57437),n=r(2265),s=r(93448);let l=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("div",{ref:t,className:(0,s.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",r),...n})});l.displayName="Card";let i=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("div",{ref:t,className:(0,s.cn)("flex flex-col space-y-1.5 p-6",r),...n})});i.displayName="CardHeader";let d=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("div",{ref:t,className:(0,s.cn)("text-2xl font-semibold leading-none tracking-tight",r),...n})});d.displayName="CardTitle";let o=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("div",{ref:t,className:(0,s.cn)("text-sm text-muted-foreground",r),...n})});o.displayName="CardDescription";let c=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("div",{ref:t,className:(0,s.cn)("p-6 pt-0",r),...n})});c.displayName="CardContent",n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("div",{ref:t,className:(0,s.cn)("flex items-center p-6 pt-0",r),...n})}).displayName="CardFooter"},75060:function(e,t,r){"use strict";r.d(t,{_:function(){return o}});var a=r(57437),n=r(2265),s=r(6394),l=r(90535),i=r(93448);let d=(0,l.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),o=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)(s.f,{ref:t,className:(0,i.cn)(d(),r),...n})});o.displayName=s.f.displayName},93448:function(e,t,r){"use strict";r.d(t,{cn:function(){return s}});var a=r(61994),n=r(53335);function s(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,n.m6)((0,a.W)(t))}},64985:function(e,t,r){"use strict";r.d(t,{K:function(){return s}});var a=r(53757),n=r(20301);let s=(0,n.hg)("customer/fetchCustomerInfos",async(e,t)=>{try{return await a.Z.getAllCustomer()}catch(e){return t.rejectWithValue("Failed to fetch customer Infos")}}),l=(0,n.oM)({name:"customer_info",initialState:{datas:[],loading:!1,error:null},reducers:{},extraReducers:e=>{e.addCase(s.pending,e=>{e.loading=!0,e.error=null}).addCase(s.fulfilled,(e,t)=>{200===t.payload.statusCode&&(e.loading=!1,e.datas=t.payload.data)}).addCase(s.rejected,(e,t)=>{e.loading=!1,e.error=t.payload})}}).reducer;t.Z=l},16114:function(e,t,r){"use strict";r.d(t,{BZ:function(){return n},Ln:function(){return s}});let a=(0,r(20301).oM)({name:"image-preview",initialState:{value:""},reducers:{onChangeImagePreview:(e,t)=>{e.value=t.payload},onDeleteImagePreview:e=>{e.value=""}}}),{onChangeImagePreview:n,onDeleteImagePreview:s}=a.actions;t.ZP=a.reducer},63445:function(e,t,r){"use strict";r.d(t,{b:function(){return s}});var a=r(78049),n=r(20301);let s=(0,n.hg)("projects/fetchProjects",async(e,t)=>{try{return await a.Z.getProjects(e)}catch(e){return t.rejectWithValue("Failed to fetch projects")}}),l=(0,n.oM)({name:"projects",initialState:{datas:[],loading:!1,error:null},reducers:{},extraReducers:e=>{e.addCase(s.pending,e=>{e.loading=!0,e.error=null}).addCase(s.fulfilled,(e,t)=>{200===t.payload.statusCode&&(e.datas=t.payload.data,e.loading=!1)}).addCase(s.rejected,(e,t)=>{e.loading=!1,e.error=t.payload})}}).reducer;t.Z=l},96748:function(e,t,r){"use strict";r.d(t,{C:function(){return s}});var a=r(78049),n=r(20301);let s=(0,n.hg)("project/fetchProjectTypeFulls",async(e,t)=>{try{return await a.Z.getTypeFulls()}catch(e){return t.rejectWithValue("Failed to fetch project types")}}),l=(0,n.oM)({name:"type_full_project",initialState:{datas:[],loading:!1,error:null},reducers:{},extraReducers:e=>{e.addCase(s.pending,e=>{e.loading=!0,e.error=null}).addCase(s.fulfilled,(e,t)=>{200===t.payload.statusCode&&(e.loading=!1,e.datas=t.payload.data)}).addCase(s.rejected,(e,t)=>{e.loading=!1,e.error=t.payload})}}).reducer;t.Z=l},53757:function(e,t,r){"use strict";var a=r(28223),n=r(90382);t.Z={getAllCustomer:async()=>{try{return(await a.Z.get("/customer/get-all-customer?limit=0&page=0")).data}catch(e){throw(0,n.S)(e),e}},getAboutCustomer:async()=>{try{return(await a.Z.get("/customer/get-about-customer")).data}catch(e){throw(0,n.S)(e),e}},deleteGroupCustomer:async e=>{try{return(await a.Z.delete("/customer/group-customer",{data:e})).data}catch(e){throw(0,n.S)(e),e}},getChartCustomer:async()=>{try{return(await a.Z.get("/customer/get-customer-dashboard")).data}catch(e){throw(0,n.S)(e),e}},getFilterCustomer:async e=>{try{let t=new URLSearchParams;return e&&Object.entries(e).forEach(e=>{let[r,a]=e;null!=a&&t.append(r,a.toString())}),(await a.Z.get("/customer/get-customer-filter?".concat(t.toString()))).data}catch(e){throw(0,n.S)(e),e}},getGroupCustomer:async()=>{try{return(await a.Z.get("/customer/get-group-customer")).data}catch(e){throw(0,n.S)(e),e}},getCustomerID:async e=>{try{return(await a.Z.get("/customer/get-customer-id?info_id=".concat(e))).data}catch(e){throw(0,n.S)(e),e}},createInfoCustomer:async e=>{try{return(await a.Y.post("/customer/create-customer-info",e)).data}catch(e){throw(0,n.S)(e),e}},createAccountCustomer:async e=>{try{return(await a.Y.post("/customer/create-account-customer",e)).data}catch(e){throw(0,n.S)(e),e}},getAllAccountCustomer:async e=>{try{let t=new URLSearchParams;return e&&Object.entries(e).forEach(e=>{let[r,a]=e;null!=a&&t.append(r,a.toString())}),(await a.Z.get("/customer/get-all-account-customer?".concat(t.toString()))).data}catch(e){throw(0,n.S)(e),e}},getIDAccountCustomer:async e=>{try{return(await a.Z.get("/customer/get-id-account-customer/".concat(e))).data}catch(e){throw(0,n.S)(e),e}},updateAccountCustomer:async(e,t)=>{try{return(await a.Y.put("/customer/update-account-customer/".concat(e),t)).data}catch(e){throw(0,n.S)(e),e}},deleteInfoCustomer:async e=>{try{return(await a.Z.delete("/customer/customer-info",{data:e})).data}catch(e){throw(0,n.S)(e),e}},createGroupCustomer:async e=>{try{return(await a.Z.post("/customer/create-group-customer",e)).data}catch(e){throw(0,n.S)(e),e}},updateGroupCustomer:async(e,t)=>{try{return(await a.Z.put("/customer/update-group-customer/".concat(e),t)).data}catch(e){throw(0,n.S)(e),e}},updateStatusCustomer:async e=>(await a.Z.put("/customer/update-status-customer",e)).data,updateCustomerInfo:async e=>(console.log(e),(await a.Y.put("/customer/update-customer-info",e)).data)}},54048:function(){}}]);