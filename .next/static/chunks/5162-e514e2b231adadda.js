"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5162],{83458:function(e,l,t){var n=t(57437),i=t(2265),r=t(91626),a=t(58970),s=t(44967),d=t(11632),o=t(16836),c=t(91250),u=t(46475),h=t(29487),m=t(94295),x=t(67776),p=t(68575),g=t(24307),y=t(45747),v=t(61232),f=t(94899),j=t(96248),w=t(80841),k=t(22744),Z=t(21544);l.Z=e=>{let{refBtnStatus:l}=e,t=(0,i.useRef)(),[_,C]=(0,i.useState)(!1),[b,N]=(0,i.useState)(-1),W=(0,p.I0)(),{datas:I}=(0,p.v9)(e=>e.get_type_work),{datas:F}=(0,p.v9)(e=>e.get_status_work),S=e=>{var l;N(e),A.setFieldsValue({...null==F?void 0:F[e],type_work:null==F?void 0:null===(l=F[e].type_work)||void 0===l?void 0:l.type_work_id})},[T,P]=(0,i.useState)(!1),{postdata:V}=(0,u.Z)(),[L]=(0,h.Z)(),[A]=(0,h.Z)(),[D,q]=(0,i.useState)(""),B=async()=>{200===await V(()=>g.Z.deleteStatusWork([null!=D?D:""]))&&(W((0,v.vh)()),q(""))},Y=async e=>{try{let l=await V(()=>g.Z.createStatusWork(e));201===l&&(W((0,v.vh)()),W((0,f.cW)()),L.resetFields(),P(!1))}catch(e){console.error("Error creating product:",e)}},M=async e=>{try{let l=await V(()=>{var l;return g.Z.updateStatusWork(null!==(l=null==F?void 0:F[null!=b?b:0].status_work_id)&&void 0!==l?l:"",e)});200===l&&(W((0,v.vh)()),W((0,j.D)()),W((0,w.LG)()),N(-1))}catch(e){console.error("Error creating product:",e)}};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(r.ZP,{hidden:!!l,className:"bg-blue-400 border-0 text-white font-semibold",onClick:()=>{C(!0)},ref:l,children:"Trạng th\xe1i c\xf4ng việc"}),(0,n.jsx)(a.Z,{title:(0,n.jsxs)("div",{style:{display:"flex",gap:"5px",alignItems:"center"},children:[(0,n.jsx)("span",{children:"Trạng th\xe1i c\xf4ng việc"}),(0,n.jsx)(r.ZP,{className:"text-white font-semibold bg-orange-500",icon:(0,n.jsx)(m.gyF,{}),type:"default",onClick:()=>{L.resetFields(),P(!T)}}),(0,n.jsx)(r.ZP,{icon:(0,n.jsx)(k.h78,{}),onClick:()=>{var e;null===(e=t.current)||void 0===e||e.click()}})]}),open:_,onCancel:()=>{C(!1)},footer:null,width:"100%",style:{maxWidth:"800px"},children:(0,n.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,n.jsx)("div",{className:"bg-slate-200 px-1 py-2 rounded-md",hidden:!T,children:(0,n.jsxs)(s.Z,{form:L,onFinish:Y,style:{display:"flex",flexWrap:"wrap",gap:"8px"},children:[(0,n.jsx)(s.Z.Item,{name:"type_work",rules:[{required:!0,message:"Vui l\xf2ng chọn loại"}],style:{flex:"1 1 0%",margin:"0"},children:(0,n.jsx)(d.Z,{placeholder:"Chọn loại",showSearch:!0,filterOption:(e,l)=>{var t;return(Array.isArray(null==l?void 0:l.children)?l.children.join(""):null!==(t=null==l?void 0:l.children)&&void 0!==t?t:"").toLowerCase().includes(e.toLowerCase())},children:null==I?void 0:I.map(e=>(0,n.jsx)(y.W,{value:e.type_work_id,children:e.name},e.type_work_id))})}),(0,n.jsx)(s.Z.Item,{name:"name",rules:[{required:!0,message:"Vui l\xf2ng nhập t\xean trạng th\xe1i"}],style:{flex:"1 1 0%",margin:"0"},children:(0,n.jsx)(o.default,{placeholder:"Nhập t\xean trạng th\xe1i"})}),(0,n.jsx)(s.Z.Item,{name:"name_tag",rules:[{required:!0,message:"Vui l\xf2ng nhập tag trạng th\xe1i"}],style:{flex:"1 1 0%",margin:"0"},children:(0,n.jsx)(o.default,{placeholder:"Nhập tag trạng th\xe1i"})}),(0,n.jsx)(s.Z.Item,{style:{display:"flex",justifyContent:"end",margin:"0"},children:(0,n.jsx)(r.ZP,{className:"bg-green-500 text-white font-semibold",onClick:()=>{L.submit()},children:"Th\xeam"})})]})}),(0,n.jsx)("div",{className:"bg-slate-200 px-1 py-2 rounded-md",hidden:!(b>-1),children:(0,n.jsxs)(s.Z,{form:A,onFinish:M,style:{display:"flex",flexWrap:"wrap",gap:"8px"},children:[(0,n.jsx)(s.Z.Item,{name:"type_work",rules:[{required:!0,message:"Vui l\xf2ng chọn loại"}],style:{flex:"1 1 0%",margin:"0"},children:(0,n.jsx)(d.Z,{placeholder:"Chọn loại",showSearch:!0,filterOption:(e,l)=>{var t;return(Array.isArray(null==l?void 0:l.children)?l.children.join(""):null!==(t=null==l?void 0:l.children)&&void 0!==t?t:"").toLowerCase().includes(e.toLowerCase())},children:null==I?void 0:I.map(e=>(0,n.jsx)(y.W,{value:e.type_work_id,children:e.name},e.type_work_id))})}),(0,n.jsx)(s.Z.Item,{name:"name",rules:[{required:!0,message:"Vui l\xf2ng nhập t\xean trạng th\xe1i"}],style:{flex:"1 1 0%",margin:"0"},children:(0,n.jsx)(o.default,{placeholder:"Nhập t\xean trạng th\xe1i"})}),(0,n.jsx)(s.Z.Item,{name:"name_tag",rules:[{required:!0,message:"Vui l\xf2ng nhập tag trạng th\xe1i"}],style:{flex:"1 1 0%",margin:"0"},children:(0,n.jsx)(o.default,{placeholder:"Nhập tag trạng th\xe1i"})}),(0,n.jsxs)(s.Z.Item,{style:{display:"flex",gap:"2px",justifyContent:"end",margin:"0"},children:[(0,n.jsx)(r.ZP,{className:"bg-yellow-500 text-white font-semibold",htmlType:"submit",children:"Cập nhật"}),(0,n.jsx)(r.ZP,{className:"bg-red-500 text-white font-semibold",onClick:()=>{N(-1)},children:"Huỷ"})]})]})}),(0,n.jsx)("div",{className:"border-t-2 w-full overflow-x-auto",children:(0,n.jsx)("div",{className:"w-full",children:(0,n.jsx)(c.Z,{columns:[{title:"M\xe3 trạng th\xe1i",dataIndex:"status_work_id",key:"status_work_id",render:(e,l,t)=>(0,n.jsxs)("div",{className:"flex gap-1 items-center",children:["#",t+1,".",e]})},{title:"T\xean loại",dataIndex:["type_work","name"],width:"25%",key:"name_type",render:e=>(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("strong",{className:"flex gap-2 items-center",children:e})})},{title:"Tag trạng th\xe1i",dataIndex:"name_tag",width:"25%",key:"name_tag",render:e=>(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("strong",{className:"flex gap-2 items-center",children:e})})},{title:"T\xean trạng th\xe1i",dataIndex:"name",width:"25%",key:"name",render:(e,l,t)=>(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)("strong",{className:"flex gap-2 items-center",children:[e,(0,n.jsx)(r.ZP,{type:"link",onClick:()=>{S(t)},icon:(0,n.jsx)(x.FNg,{})}),(0,n.jsx)(r.ZP,{className:"  text-xs text-red-500 font-semibold",type:"text",onClick:()=>q(null==l?void 0:l.status_work_id),children:"X\xf3a"})]})})}],scroll:{x:"max-content"},className:"custom-table",dataSource:F,pagination:{pageSize:10,showTotal:(e,l)=>"".concat(l[0],"-").concat(l[1]," of ").concat(e," items")},showSorterTooltip:{target:"sorter-icon"}})})})]})}),(0,n.jsx)(Z.Z,{refBtnType:t}),(0,n.jsx)(a.Z,{open:""!==D,title:"X\xf3a dữ liệu",onOk:B,onCancel:()=>{q("")},children:"Bạn c\xf3 chắc chắn muốn x\xf3a kh\xf4ng ?"})]})}},21544:function(e,l,t){var n=t(57437),i=t(2265),r=t(91626),a=t(58970),s=t(44967),d=t(16836),o=t(91250),c=t(46475),u=t(29487),h=t(94295),m=t(67776),x=t(68575),p=t(24307),g=t(96248),y=t(80841);l.Z=e=>{let{refBtnType:l}=e,[t,v]=(0,i.useState)(!1),[f,j]=(0,i.useState)(-1),w=(0,x.I0)(),{datas:k}=(0,x.v9)(e=>e.get_type_work),Z=e=>{j(e),W.setFieldsValue(null==k?void 0:k[e])},[_,C]=(0,i.useState)(!1),{postdata:b}=(0,c.Z)(),[N]=(0,u.Z)(),[W]=(0,u.Z)(),[I,F]=(0,i.useState)(""),S=async()=>{200===await b(()=>p.Z.deleteTypeWork([null!=I?I:""]))&&(w((0,g.D)()),F(""))},T=async e=>{try{let l=await b(()=>p.Z.createTypeWork(e));201===l&&(w((0,g.D)()),N.resetFields(),C(!1))}catch(e){console.error("Error creating product:",e)}},P=async e=>{try{let l=await b(()=>{var l;return p.Z.updateTypeWork(null!==(l=null==k?void 0:k[null!=f?f:0].type_work_id)&&void 0!==l?l:"",e)});200===l&&(w((0,g.D)()),w((0,y.LG)()),j(-1))}catch(e){console.error("Error creating product:",e)}};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(r.ZP,{hidden:!!l,className:"bg-blue-400 border-0 text-white font-semibold",onClick:()=>{v(!0)},ref:l,children:"Loại c\xf4ng việc"}),(0,n.jsx)(a.Z,{title:(0,n.jsxs)("div",{style:{display:"flex",gap:"5px",alignItems:"center"},children:[(0,n.jsx)("span",{children:"Loại c\xf4ng việc"}),(0,n.jsx)(r.ZP,{className:"text-white font-semibold bg-orange-500",icon:(0,n.jsx)(h.gyF,{}),type:"default",onClick:()=>{N.resetFields(),C(!_)}})]}),open:t,onCancel:()=>{v(!1)},footer:null,width:"100%",style:{maxWidth:"800px"},children:(0,n.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,n.jsx)("div",{className:"bg-slate-200 px-1 py-2 rounded-md",hidden:!_,children:(0,n.jsxs)(s.Z,{form:N,onFinish:T,style:{display:"flex",flexWrap:"wrap",gap:"8px"},children:[(0,n.jsx)(s.Z.Item,{name:"name",rules:[{required:!0,message:"Vui l\xf2ng nhập t\xean loại"}],style:{flex:"1 1 0%",margin:"0"},children:(0,n.jsx)(d.default,{placeholder:"Nhập t\xean loại"})}),(0,n.jsx)(s.Z.Item,{name:"name_tag",rules:[{required:!0,message:"Vui l\xf2ng nhập tag loại"}],style:{flex:"1 1 0%",margin:"0"},children:(0,n.jsx)(d.default,{placeholder:"Nhập tag loại"})}),(0,n.jsx)(s.Z.Item,{style:{display:"flex",justifyContent:"end",margin:"0"},children:(0,n.jsx)(r.ZP,{className:"bg-green-500 text-white font-semibold",onClick:()=>{N.submit()},children:"Th\xeam"})})]})}),(0,n.jsx)("div",{className:"bg-slate-200 px-1 py-2 rounded-md",hidden:!(f>-1),children:(0,n.jsxs)(s.Z,{form:W,onFinish:P,style:{display:"flex",flexWrap:"wrap",gap:"8px"},children:[(0,n.jsx)(s.Z.Item,{name:"name",rules:[{required:!0,message:"Vui l\xf2ng nhập t\xean loại"}],style:{flex:"1 1 0%",margin:"0"},children:(0,n.jsx)(d.default,{placeholder:"Nhập t\xean loại"})}),(0,n.jsx)(s.Z.Item,{name:"name_tag",rules:[{required:!0,message:"Vui l\xf2ng nhập tag loại"}],style:{flex:"1 1 0%",margin:"0"},children:(0,n.jsx)(d.default,{placeholder:"Nhập tag loại"})}),(0,n.jsxs)(s.Z.Item,{style:{display:"flex",gap:"2px",justifyContent:"end",margin:"0"},children:[(0,n.jsx)(r.ZP,{className:"bg-yellow-500 text-white font-semibold",htmlType:"submit",children:"Cập nhật"}),(0,n.jsx)(r.ZP,{className:"bg-red-500 text-white font-semibold",onClick:()=>{j(-1)},children:"Huỷ"})]})]})}),(0,n.jsx)("div",{className:"border-t-2 w-full overflow-x-auto",children:(0,n.jsx)("div",{className:"w-full",children:(0,n.jsx)(o.Z,{columns:[{title:"M\xe3 loại",dataIndex:"type_work_id",key:"type_work_id",render:(e,l,t)=>(0,n.jsxs)("div",{className:"flex gap-1 items-center",children:["#",t+1,".",e]})},{title:"Tag loại",dataIndex:"name_tag",width:"35%",key:"name_tag",render:e=>(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("strong",{className:"flex gap-2 items-center",children:e})})},{title:"T\xean loại",dataIndex:"name",width:"40%",key:"name",render:(e,l,t)=>(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)("strong",{className:"flex gap-2 items-center",children:[e,(0,n.jsx)(r.ZP,{type:"link",onClick:()=>{Z(t)},icon:(0,n.jsx)(m.FNg,{})}),(0,n.jsx)(r.ZP,{className:"  text-xs text-red-500 font-semibold",type:"text",onClick:()=>F(null==l?void 0:l.type_work_id),children:"X\xf3a"})]})})}],scroll:{x:"max-content"},className:"custom-table",dataSource:k,pagination:{pageSize:10,showTotal:(e,l)=>"".concat(l[0],"-").concat(l[1]," of ").concat(e," items")},showSorterTooltip:{target:"sorter-icon"}})})})]})}),(0,n.jsx)(a.Z,{open:""!==I,title:"X\xf3a dữ liệu",onOk:S,onCancel:()=>{F("")},children:"Bạn c\xf3 chắc chắn muốn x\xf3a kh\xf4ng ?"})]})}},15162:function(e,l,t){t.d(l,{Z:function(){return V}});var n=t(57437),i=t(46475),r=t(96473),a=t(80841),s=t(24307),d=t(91626),o=t(58970),c=t(42654),u=t(87863),h=t(89970),m=t(11632),x=t(44967),p=t(23496),g=t(16836),y=t(56612),v=t(20347),f=t(29487),j=t(45747),w=t(7140),k=t(2265),Z=t(94295),_=t(68575),C=t(21544),b=t(83458),N=t(9626),W=t(43882),I=t(71096),F=t.n(I),S=t(99376),T=t(79587),P=t(16114);function V(e){var l,t;let{ID:I,idType:V,refBtn:L,setID:A,type:D}=e,{projectID:q}=(0,S.useParams)(),[B,Y]=(0,k.useState)([]),M=(0,k.useRef)(null),E=(0,k.useRef)(),R=(0,k.useRef)(),O=(0,k.useRef)(),{datas:G}=(0,_.v9)(e=>e.get_type_work),{datas:H}=(0,_.v9)(e=>e.get_users),{datas:X}=(0,_.v9)(e=>e.get_projects),{datas:z}=(0,_.v9)(e=>e.get_activities),[K,U]=(0,k.useState)(!1),[$,J]=(0,k.useState)([]),[Q,ee]=(0,k.useState)([]),[el]=(0,f.Z)(),{postdata:et}=(0,i.Z)(),en=(0,_.I0)(),[ei,er]=(0,k.useState)(!1),[ea,es]=(0,k.useState)(""),ed=async()=>{let e=await s.Z.getWorkById(I);if(200===e.statusCode){var l,t,n,i,r,a,d,o;let s=e.data;el.setFieldsValue({...s,type:null==s?void 0:null===(l=s.type)||void 0===l?void 0:l.type_work_id,status:null==s?void 0:null===(t=s.status)||void 0===t?void 0:t.status_work_id,activity:null==s?void 0:null===(n=s.activity)||void 0===n?void 0:n.activity_id}),Y(null!==(d=null===(i=s.picture_urls)||void 0===i?void 0:i.map(e=>({uid:e.picture_id,name:e.type,status:"done",url:e.url})))&&void 0!==d?d:[]),es(null==s?void 0:null===(r=s.type)||void 0===r?void 0:r.type_work_id),ee(null!==(o=null==s?void 0:null===(a=s.list_user)||void 0===a?void 0:a.map(e=>e.user_id))&&void 0!==o?o:[])}},eo=async e=>{let l=await et(()=>s.Z.updateWork(I,{...e,list_users:Q}));(200===l||201===l)&&(en((0,a.LG)({project:q})),er(!1),"schedule"===D&&en((0,W.C)(V)))},ec=async(e,l)=>{let{file:t}=e;if((null==t?void 0:t.url)&&(null==t?void 0:t.status)==="removed")200===await et(()=>s.Z.deletePictureWork(t.uid))&&(ed(),"schedule"===D&&en((0,W.C)(V)));else{let e={activity:I,url:[t.originFileObj],type:l?"start":"end"};if(e){let l=(0,T.Z)(e);201===await et(()=>s.Z.createPictureWork(l))&&(ed(),"schedule"===D&&en((0,W.C)(V)))}}},eu=async()=>{el.submit()};(0,k.useEffect)(()=>{H&&J(H.map(e=>({label:e.first_name+" "+e.last_name,value:e.user_id})))},[H]);let eh=(0,n.jsxs)("button",{style:{border:0,background:"none"},type:"button",children:[(0,n.jsx)(r.Z,{}),(0,n.jsx)("div",{style:{marginTop:8},children:"Upload"})]});return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(d.ZP,{hidden:!!D||!!L,className:"  text-xs text-yellow-500 font-semibold",type:"text",ref:L,onClick:()=>{er(!0),ed()},children:"Chỉnh sửa"}),(0,n.jsxs)(o.Z,{title:"Cập nhật c\xf4ng việc",open:ei,onCancel:()=>{er(!1),A&&A("")},footer:null,width:"100%",style:{maxWidth:"800px"},children:[(0,n.jsx)(c.Z,{defaultActiveKey:"1",style:{width:"100%"},type:"line",children:(0,n.jsxs)(w.Z,{tab:"Th\xf4ng tin c\xf4ng việc",children:[(0,n.jsxs)("div",{className:"flex mb-2 items-center gap-1",children:[(0,n.jsx)(u.C.Group,{max:{count:5,style:{color:"#f56a00",backgroundColor:"#fde3cf"}},children:null==Q?void 0:Q.map(e=>{var l,t,i,r;let a=null==H?void 0:H.find(l=>l.user_id===e);return(0,n.jsx)(h.Z,{title:null!==(t=null!==(l=null==a?void 0:a.first_name)&&void 0!==l?l:null==a?void 0:a.last_name)&&void 0!==t?t:"",placement:"top",children:(0,n.jsx)(u.C,{src:null==a?void 0:a.picture_url,alt:null!==(r=null!==(i=null==a?void 0:a.first_name)&&void 0!==i?i:null==a?void 0:a.last_name)&&void 0!==r?r:"",style:{backgroundColor:"#87d068"}})})})}),K?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(m.Z,{mode:"multiple",onBlur:()=>{U(!K)},allowClear:!0,maxTagCount:"responsive",style:{width:"220px"},value:Q,placeholder:"Please select",onChange:e=>{ee(e)},options:$}),(0,n.jsx)(Z.FMH,{className:"w-8 h-8 text-red-500 cursor-pointer",onClick:()=>{U(!K)}})]}):(0,n.jsx)(Z.S$f,{className:"w-8 h-8 text-[#ED8C1F] cursor-pointer",onClick:()=>{U(!K)}})]}),(0,n.jsxs)(x.Z,{layout:"vertical",form:el,onFinish:eo,style:{display:"flex",flexWrap:"wrap",gap:"12px"},children:[(0,n.jsx)(x.Z.Item,{name:"type",label:"Loại c\xf4ng việc",rules:[{required:!0,message:"Vui l\xf2ng chọn loại c\xf4ng việc!"}],style:{width:"100%",flex:"1 1 0%"},children:(0,n.jsx)(m.Z,{placeholder:"Chọn loại",onChange:e=>{es(e)},showSearch:!0,filterOption:(e,l)=>{var t;return(Array.isArray(null==l?void 0:l.children)?l.children.join(""):null!==(t=null==l?void 0:l.children)&&void 0!==t?t:"").toLowerCase().includes(e.toLowerCase())},dropdownRender:e=>(0,n.jsxs)(n.Fragment,{children:[e,(0,n.jsx)(p.Z,{style:{margin:"8px 0"}}),(0,n.jsx)(d.ZP,{type:"link",onClick:()=>{var e;null===(e=E.current)||void 0===e||e.click()},children:"+ Th\xeam t\xf9y chọn mới"})]}),children:null==G?void 0:G.map(e=>(0,n.jsx)(j.W,{value:e.type_work_id,children:e.name},e.type_work_id))})}),(0,n.jsx)(x.Z.Item,{name:"name",label:"T\xean c\xf4ng việc",rules:[{required:!0,type:"string",message:"Vui l\xf2ng nhập t\xean c\xf4ng việc"}],style:{minWidth:"100%",flex:"1 1 0%"},children:(0,n.jsx)(g.default,{})}),(0,n.jsx)(x.Z.Item,{name:"project",label:"C\xf4ng tr\xecnh",rules:[{required:!0,message:"Vui l\xf2ng chọn c\xf4ng tr\xecnh!"}],style:{minWidth:"320px",flex:"1 1 0%"},children:(0,n.jsx)(m.Z,{placeholder:"Chọn c\xf4ng tr\xecnh",showSearch:!0,filterOption:(e,l)=>{var t;return(Array.isArray(null==l?void 0:l.children)?l.children.join(""):null!==(t=null==l?void 0:l.children)&&void 0!==t?t:"").toLowerCase().includes(e.toLowerCase())},dropdownRender:e=>(0,n.jsxs)(n.Fragment,{children:[e,(0,n.jsx)(p.Z,{style:{margin:"8px 0"}}),(0,n.jsx)(d.ZP,{type:"link",onClick:()=>{var e;null===(e=M.current)||void 0===e||e.click()},children:"+ Th\xeam t\xf9y chọn mới"})]}),children:null==X?void 0:X.map(e=>(0,n.jsx)(j.W,{value:e.project_id,children:e.name},e.project_id))})}),(0,n.jsx)(x.Z.Item,{name:"status",label:"Trạng th\xe1i",style:{minWidth:"240px",flex:"1 1 0%"},children:(0,n.jsx)(m.Z,{placeholder:"Chọn trạng th\xe1i",showSearch:!0,filterOption:(e,l)=>{var t;return(Array.isArray(null==l?void 0:l.children)?l.children.join(""):null!==(t=null==l?void 0:l.children)&&void 0!==t?t:"").toLowerCase().includes(e.toLowerCase())},dropdownRender:e=>(0,n.jsxs)(n.Fragment,{children:[e,(0,n.jsx)(p.Z,{style:{margin:"8px 0"}}),(0,n.jsx)(d.ZP,{type:"link",onClick:()=>{var e;null===(e=R.current)||void 0===e||e.click()},children:"+ Th\xeam t\xf9y chọn mới"})]}),children:null===(t=G.find(e=>e.type_work_id===ea))||void 0===t?void 0:null===(l=t.status)||void 0===l?void 0:l.map(e=>(0,n.jsx)(j.W,{value:e.status_work_id,children:e.name},e.status_work_id))})}),(0,n.jsx)(x.Z.Item,{name:"activity",label:"Hoạt động",style:{minWidth:"240px",flex:"1 1 0%"},children:(0,n.jsx)(m.Z,{placeholder:"Chọn hoạt động",showSearch:!0,filterOption:(e,l)=>{var t;return(Array.isArray(null==l?void 0:l.children)?l.children.join(""):null!==(t=null==l?void 0:l.children)&&void 0!==t?t:"").toLowerCase().includes(e.toLowerCase())},dropdownRender:e=>(0,n.jsxs)(n.Fragment,{children:[e,(0,n.jsx)(p.Z,{style:{margin:"8px 0"}}),(0,n.jsx)(d.ZP,{type:"link",onClick:()=>{var e;null===(e=O.current)||void 0===e||e.click()},children:"+ Th\xeam t\xf9y chọn mới"})]}),children:null==z?void 0:z.map(e=>(0,n.jsx)(j.W,{value:e.activity_id,children:e.name},e.activity_id))})}),(0,n.jsx)(x.Z.Item,{name:"description",label:"M\xf4 tả",style:{width:"100%"},children:(0,n.jsx)(g.default.TextArea,{placeholder:"Description",autoSize:{minRows:3}})}),(0,n.jsx)(x.Z.Item,{name:"time_start",initialValue:"",className:" mb-0",style:{minWidth:"320px",flex:"1 1 0%"},getValueFromEvent:e=>null==e?void 0:e.format("YYYY-MM-DD"),getValueProps:e=>({value:e?F()(e):""}),children:(0,n.jsx)(y.default,{placeholder:"Chọn ng\xe0y bắt đầu",style:{width:"100%"}})}),(0,n.jsx)(x.Z.Item,{name:"time_end",rules:[{required:!0}],initialValue:"",className:" mb-0",style:{minWidth:"320px",flex:"1 1 0%"},getValueFromEvent:e=>null==e?void 0:e.format("YYYY-MM-DD"),getValueProps:e=>({value:e?F()(e):""}),children:(0,n.jsx)(y.default,{placeholder:"Chọn ng\xe0y kết th\xfac",style:{width:"100%"},format:"YYYY-MM-DD",allowClear:!0})})]}),(0,n.jsxs)("div",{className:"my-2 flex flex-col gap-8",children:[(0,n.jsxs)("div",{className:"mb-2  pb-2",children:[(0,n.jsx)("div",{className:"flex items-center text-xs font-medium text-[#EB8823] hover:opacity-85 cursor-pointer mb-2",children:(0,n.jsx)("p",{className:"pointer-events-none",children:"Ảnh đầu hoạt động"})}),(0,n.jsx)("div",{className:"!m-0",style:{minWidth:"320px",flex:"1 1 0%"},children:(0,n.jsx)(v.default,{action:"",listType:"picture-card",fileList:B.filter(e=>"start"===e.name),onChange:e=>{ec(e,!0)},onPreview:e=>{en((0,P.BZ)(e.url))},multiple:!0,children:eh})})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{className:"flex items-center text-xs font-medium text-[#EB8823] hover:opacity-85 cursor-pointer mb-2",children:(0,n.jsx)("p",{className:"pointer-events-none",children:"Ảnh sau hoạt động"})}),(0,n.jsx)("div",{className:"!m-0",style:{minWidth:"320px",flex:"1 1 0%"},children:(0,n.jsx)(v.default,{action:"",listType:"picture-card",fileList:B.filter(e=>"end"===e.name),onPreview:e=>{en((0,P.BZ)(e.url))},onChange:e=>{ec(e,!1)},multiple:!0,children:eh})})]})]})]},1)}),(0,n.jsx)("div",{className:"flex justify-end w-full mt-4",children:(0,n.jsx)(d.ZP,{type:"primary",onClick:eu,children:"Cập nhật"})})]}),(0,n.jsx)(C.Z,{refBtnType:E}),(0,n.jsx)(b.Z,{refBtnStatus:R}),(0,n.jsx)(N.Z,{refBtnActivity:O})]})}},43882:function(e,l,t){t.d(l,{C:function(){return r}});var n=t(20301),i=t(24307);let r=(0,n.hg)("typeWorkID/fetchTypeWorksID",async(e,l)=>{try{return await i.Z.getFullTypeWorkById(e)}catch(e){return l.rejectWithValue("Failed to fetch type works")}}),a=(0,n.oM)({name:"typeWork",initialState:{datas:void 0,loading:!1,error:null},reducers:{},extraReducers:e=>{e.addCase(r.pending,e=>{e.loading=!0,e.error=null}).addCase(r.fulfilled,(e,l)=>{e.loading=!1,e.datas=l.payload.data}).addCase(r.rejected,(e,l)=>{e.loading=!1,e.error=l.payload})}}).reducer;l.Z=a},80841:function(e,l,t){t.d(l,{Dx:function(){return a},LG:function(){return r}});var n=t(20301),i=t(24307);let r=(0,n.hg)("work/fetchWorks",async(e,l)=>{try{return await i.Z.getAllWorks(e)}catch(e){return l.rejectWithValue("Failed to fetch works")}}),a=(0,n.hg)("work/fetchYearWorks",async(e,l)=>{try{return await i.Z.getAllYearWorks(e)}catch(e){return l.rejectWithValue("Failed to fetch works")}}),s=(0,n.hg)("work/createWork",async(e,l)=>{try{return await i.Z.createWork(e)}catch(e){return l.rejectWithValue("Failed to create work")}}),d=(0,n.hg)("work/updateWork",async(e,l)=>{let{work_id:t,data:n}=e;try{return await i.Z.updateWork(t,n)}catch(e){return l.rejectWithValue("Failed to update work")}}),o=(0,n.oM)({name:"work",initialState:{datas:[],loading:!1,error:null},reducers:{},extraReducers:e=>{e.addCase(r.pending,e=>{e.loading=!0,e.error=null}).addCase(r.fulfilled,(e,l)=>{e.loading=!1,e.datas=l.payload.data}).addCase(r.rejected,(e,l)=>{e.loading=!1,e.error=l.payload}).addCase(a.pending,e=>{e.loading=!0,e.error=null}).addCase(a.fulfilled,(e,l)=>{e.loading=!1,e.datas=l.payload.data}).addCase(a.rejected,(e,l)=>{e.loading=!1,e.error=l.payload}).addCase(s.fulfilled,(e,l)=>{e.datas.push(l.payload.data)}).addCase(d.fulfilled,(e,l)=>{let t=e.datas.findIndex(e=>e.work_id===l.payload.data.work_id);-1!==t&&(e.datas[t]=l.payload.data)})}}).reducer;l.ZP=o},16114:function(e,l,t){t.d(l,{BZ:function(){return i},Ln:function(){return r}});let n=(0,t(20301).oM)({name:"image-preview",initialState:{value:""},reducers:{onChangeImagePreview:(e,l)=>{e.value=l.payload},onDeleteImagePreview:e=>{e.value=""}}}),{onChangeImagePreview:i,onDeleteImagePreview:r}=n.actions;l.ZP=n.reducer}}]);