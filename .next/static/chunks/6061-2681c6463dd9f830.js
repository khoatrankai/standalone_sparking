"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6061],{6061:function(e,t,l){l.d(t,{Z:function(){return B}});var a=l(57437),n=l(2265),r=l(46475),i=l(47256),d=l(70601),s=l(65624),o=l(91626),c=l(11632),h=l(58970),u=l(91250),p=l(56771),x=l(99376),m=l(22744),g=l(68575);function y(){let[e,t]=(0,n.useState)(25),l=(0,s.Z)(["admin-top","payment","payment-edit","contract"]),{datas:y}=(0,g.v9)(e=>e.get_payments),[f,v]=(0,n.useState)([]),j=async(e,t)=>{200===await C(()=>d.Z.updatePayment(e,{status:t}))&&b((0,i.cQ)({}))},w=[{title:"#M\xe3 thanh to\xe1n",dataIndex:["payment_id"],className:"text-xs",render:(e,t)=>(0,a.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,a.jsxs)("strong",{children:["#",e]}),(0,a.jsx)("div",{className:"flex gap-2 flex-wrap",children:l&&(0,a.jsx)(a.Fragment,{children:"pending"===t.status&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(o.ZP,{type:"dashed",className:"bg-green-400 text-white",onClick:()=>{j(e,"success")},children:"Đ\xe3 thanh to\xe1n"}),(0,a.jsx)(o.ZP,{type:"dashed",className:"bg-red-400 text-white",onClick:()=>{j(e,"fail")},children:"Hủy thanh to\xe1n"})]})})})]})},{title:"T\xean hợp đồng",dataIndex:["contract","name_contract"],className:"text-xs",render:e=>e||"N/A",sorter:(e,t)=>{var l,a;return((null===(l=e.contract)||void 0===l?void 0:l.name_contract)||"").localeCompare((null===(a=t.contract)||void 0===a?void 0:a.name_contract)||"")}},{title:"Nh\xe0 cung cấp",dataIndex:["supplier","name"],className:"text-xs",render:e=>e||"N/A",sorter:(e,t)=>{var l,a;return((null===(l=e.supplier)||void 0===l?void 0:l.name)||"").localeCompare((null===(a=t.supplier)||void 0===a?void 0:a.name)||"")}},{title:"Gi\xe1 trị",dataIndex:["price"],className:"text-xs",render:e=>e?"".concat(e.toLocaleString("vi-VN"),"đ"):"N/A",sorter:(e,t)=>(e.price||0)-(t.price||0)},{title:"Chi ph\xed/Dịch vụ",dataIndex:["type_product","name"],className:"text-xs",render:e=>e||"N/A",sorter:(e,t)=>{var l,a;return((null===(l=e.type_product)||void 0===l?void 0:l.name)||"").localeCompare((null===(a=t.type_product)||void 0===a?void 0:a.name)||"")}},{title:"Ng\xe0y kết th\xfac",dataIndex:"date_expired",className:"text-xs",render:e=>e?new Date(e).toLocaleDateString("vi-VN"):"N/A",sorter:(e,t)=>new Date(e.date_expired||0).getTime()-new Date(t.date_expired||0).getTime()},{title:"Trạng th\xe1i",dataIndex:"status",className:"text-xs",render:(e,t)=>{var l;return(0,a.jsx)("span",{style:{color:"success"===e?"green":"pending"===e?"gray":"red"},children:"fail"===e?"Thất bại":"success"===e?"Th\xe0nh c\xf4ng":new Date().getTime()<=new Date(null!==(l=null==t?void 0:t.date_expired)&&void 0!==l?l:"").getTime()?"Đang chờ":"Qu\xe1 hạn"})},sorter:(e,t)=>(e.status||"").localeCompare(t.status||"")}],Z=e=>{v(null==y?void 0:y.filter(t=>{var l,a,n,r;return String((null==t?void 0:null===(l=t.contract)||void 0===l?void 0:l.name_contract)+" "+(null==t?void 0:t.price)+" "+(null==t?void 0:null===(a=t.type_product)||void 0===a?void 0:a.name)+" "+t.created_at+" "+new Date(null!==(r=t.date_expired)&&void 0!==r?r:"").toLocaleDateString("vi-VN")+" "+t.type_product+" "+t.payment_id+" "+(null==t?void 0:null===(n=t.supplier)||void 0===n?void 0:n.name)+" "+(null==t?void 0:t.status)).toLowerCase().includes(e.toLowerCase())}))},{postdata:C}=(0,r.Z)(),b=(0,g.I0)(),[_,N]=(0,n.useState)(!1),[S,T]=(0,n.useState)([]),k=async()=>{200===await C(()=>d.Z.deletePayment(S))&&(b((0,i.cQ)({})),T([]),N(!1))},I=(0,x.useSearchParams)();return(0,n.useEffect)(()=>{let e=I.get("id");y&&e?Z(e):v(y.map((e,t)=>({...e,key:t})))},[y,I]),(0,a.jsxs)("div",{className:"",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-2 flex-wrap gap-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(c.Z,{defaultValue:e,style:{width:83},onChange:e=>t(e),options:[{value:10,label:10},{value:25,label:25},{value:50,label:50},{value:100,label:100},{value:500,label:500},{value:1e3,label:1e3},{value:1e8,label:"Tất cả"}]}),(0,a.jsx)(o.ZP,{hidden:!(S.length>0),children:"Xuất ra"}),(0,a.jsx)(o.ZP,{onClick:()=>{N(!0)},danger:!0,hidden:!(S.length>0),className:"text-xl",icon:(0,a.jsx)(m.FH3,{})}),(0,a.jsx)(h.Z,{open:_,title:"X\xf3a dữ liệu",onOk:k,onCancel:()=>{N(!1)},children:"Bạn c\xf3 chắc chắn muốn x\xf3a kh\xf4ng ?"})]}),(0,a.jsx)("div",{className:"flex items-center",children:(0,a.jsx)(p.Z,{onChange:e=>{console.log(e),Z(e.target.value)},placeholder:"T\xecm kiếm",style:{width:200}})})]}),(0,a.jsx)("div",{className:"w-full overflow-auto",children:(0,a.jsx)("div",{className:"min-w-fit",children:(0,a.jsx)(u.Z,{columns:w,rowSelection:{onChange:(e,t)=>{T(t.map(e=>{var t;return null!==(t=e.payment_id)&&void 0!==t?t:""}))}},dataSource:f,scroll:{x:"max-content"},pagination:{pageSize:e,showTotal:(e,t)=>"".concat(t[0],"-").concat(t[1]," of ").concat(e," items")},showSorterTooltip:{target:"sorter-icon"}})})})]})}var f=l(56612),v=l(3810),j=l(63302),w=l(63599),Z=l(42654),C=l(44967),b=l(23496),_=l(90136),N=l(16836),S=l(29487),T=l(45747),k=l(7140),I=l(77398),W=l.n(I),P=l(32768),F=l(94295),A=l(67776),L=l(33262),V=e=>{let{refBtnType:t}=e,[l,s]=(0,n.useState)(!1),[c,p]=(0,n.useState)(-1),x=(0,g.I0)(),{datas:m}=(0,g.v9)(e=>e.get_type_method),y=e=>{p(e),Z.setFieldsValue(null==m?void 0:m[e])},[f,v]=(0,n.useState)(!1),{postdata:j}=(0,r.Z)(),[w]=(0,S.Z)(),[Z]=(0,S.Z)(),b=async e=>{console.log(e);try{let t=await j(()=>d.Z.createTypeMethod(e));201===t&&(x((0,L.um)()),w.resetFields(),v(!1))}catch(e){console.error("Error creating product:",e)}},_=async e=>{try{console.log(e);let t=await j(()=>{var t;return d.Z.updateTypeMethod(null!==(t=null==m?void 0:m[null!=c?c:0].type_method_id)&&void 0!==t?t:"",e)});200===t&&(x((0,L.um)()),x((0,i.cQ)({})),p(-1))}catch(e){console.error("Error creating product:",e)}};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(o.ZP,{hidden:!!t,className:"bg-blue-400 border-0 text-white font-semibold",onClick:()=>{s(!0)},ref:t,children:"Phương thức thanh to\xe1n"}),(0,a.jsx)(h.Z,{title:(0,a.jsxs)("div",{style:{display:"flex",gap:"5px",alignItems:"center"},children:[(0,a.jsx)("span",{children:"Phương thức thanh to\xe1n"}),(0,a.jsx)(o.ZP,{className:"text-white font-semibold bg-orange-500",icon:(0,a.jsx)(F.gyF,{}),type:"default",onClick:()=>{w.resetFields(),v(!f)}})]}),open:l,onCancel:()=>{s(!1)},footer:null,width:"100%",style:{maxWidth:"800px"},children:(0,a.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,a.jsx)("div",{className:"bg-slate-200 px-1 py-2 rounded-md",hidden:!f,children:(0,a.jsxs)(C.Z,{form:w,onFinish:b,style:{display:"flex",flexWrap:"wrap",gap:"8px"},children:[(0,a.jsx)(C.Z.Item,{name:"name",rules:[{required:!0,message:"Vui l\xf2ng nhập t\xean loại"}],style:{flex:"1 1 0%",margin:"0"},children:(0,a.jsx)(N.default,{placeholder:"Nhập t\xean loại"})}),(0,a.jsx)(C.Z.Item,{name:"name_tag",rules:[{required:!0,message:"Vui l\xf2ng nhập tag loại"}],style:{flex:"1 1 0%",margin:"0"},children:(0,a.jsx)(N.default,{placeholder:"Nhập tag loại"})}),(0,a.jsx)(C.Z.Item,{style:{display:"flex",minWidth:"100%",justifyContent:"end",margin:"0"},children:(0,a.jsx)(o.ZP,{className:"bg-green-500 text-white font-semibold",onClick:()=>{w.submit()},children:"Th\xeam"})})]})}),(0,a.jsx)("div",{className:"bg-slate-200 px-1 py-2 rounded-md",hidden:!(c>-1),children:(0,a.jsxs)(C.Z,{form:Z,onFinish:_,style:{display:"flex",flexWrap:"wrap",gap:"8px"},children:[(0,a.jsx)(C.Z.Item,{name:"name",rules:[{required:!0,message:"Vui l\xf2ng nhập t\xean loại"}],style:{flex:"1 1 0%",margin:"0"},children:(0,a.jsx)(N.default,{placeholder:"Nhập t\xean loại"})}),(0,a.jsx)(C.Z.Item,{name:"name_tag",rules:[{required:!0,message:"Vui l\xf2ng nhập tag loại"}],style:{flex:"1 1 0%",margin:"0"},children:(0,a.jsx)(N.default,{placeholder:"Nhập tag loại"})}),(0,a.jsxs)(C.Z.Item,{style:{display:"flex",minWidth:"100%",gap:"2px",justifyContent:"end",margin:"0"},children:[(0,a.jsx)(o.ZP,{className:"bg-yellow-500 text-white font-semibold",htmlType:"submit",children:"Cập nhật"}),(0,a.jsx)(o.ZP,{className:"bg-red-500 text-white font-semibold",onClick:()=>{p(-1)},children:"Huỷ"})]})]})}),(0,a.jsx)("div",{className:"border-t-2 w-full overflow-x-auto",children:(0,a.jsx)("div",{className:"w-full",children:(0,a.jsx)(u.Z,{columns:[{title:"Tag loại",dataIndex:"name_tag",width:"20%",key:"name_tag",render:e=>(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("strong",{className:"flex gap-2 items-center",children:e})})},{title:"T\xean loại",dataIndex:"name",width:"40%",key:"name",render:(e,t,l)=>(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("strong",{className:"flex gap-2 items-center",children:[e,(0,a.jsx)(o.ZP,{type:"link",onClick:()=>{y(l)},icon:(0,a.jsx)(A.FNg,{})})]})})}],scroll:{x:"max-content"},className:"custom-table",dataSource:m,pagination:{pageSize:10,showTotal:(e,t)=>"".concat(t[0],"-").concat(t[1]," of ").concat(e," items")},showSorterTooltip:{target:"sorter-icon"}})})})]})})]})},M=l(2950);function D(){let{customerID:e,projectID:t}=(0,x.useParams)(),l=(0,n.useRef)(),s=(0,n.useRef)(),u=(0,n.useRef)(),{datas:p}=(0,g.v9)(e=>e.get_contracts),{datas:m}=(0,g.v9)(e=>e.type_product),{datas:y}=(0,g.v9)(e=>e.get_supplier),{datas:v}=(0,g.v9)(e=>e.vat_system),{datas:I}=(0,g.v9)(e=>e.get_type_method);(0,n.useEffect)(()=>{e&&q((0,M.Wq)({customer:e}))},[e]);let[F,A]=(0,n.useState)(!1),[L]=(0,S.Z)(),{postdata:D}=(0,r.Z)(),q=(0,g.I0)(),[B,E]=(0,n.useState)(!1),R=async e=>{let l=await D(()=>d.Z.createPayment(e));(200===l||201===l)&&(q((0,i.cQ)({project:t})),E(!1))},O=async()=>{L.submit()};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(o.ZP,{className:"bg-blue-400 border-0 text-white font-semibold",icon:(0,a.jsx)(P.b0B,{}),onClick:()=>{E(!0)},children:"Th\xeam h\xf3a đơn"}),(0,a.jsxs)(h.Z,{title:"Tạo h\xf3a đơn",open:B,onCancel:()=>{E(!1)},footer:null,width:"100%",style:{maxWidth:"800px"},children:[(0,a.jsx)(Z.Z,{defaultActiveKey:"1",style:{width:"100%"},type:"line",children:(0,a.jsx)(k.Z,{tab:"Th\xf4ng tin h\xf3a đơn",children:(0,a.jsxs)(C.Z,{layout:"vertical",form:L,onFinish:R,style:{display:"flex",flexWrap:"wrap",columnGap:"12px"},children:[(0,a.jsx)(C.Z.Item,{name:"type",label:"Thanh to\xe1n",rules:[{required:!0}],style:{minWidth:"240px",flex:"1 1 0%"},children:(0,a.jsxs)(c.Z,{placeholder:"Select status",onChange:e=>{A("import"===e)},children:[(0,a.jsx)(T.W,{value:"import",children:"Đến NCC"}),(0,a.jsx)(T.W,{value:"export",children:"Từ Kh\xe1ch h\xe0ng"})]})}),(0,a.jsx)(C.Z.Item,{name:"contract",label:"Hợp đồng",rules:[{required:!0,message:"Vui l\xf2ng chọn hợp đồng!"}],style:{width:"100%",flex:"1 1 0%"},children:(0,a.jsx)(c.Z,{placeholder:"Chọn hợp đồng",showSearch:!0,filterOption:(e,t)=>{var l;return(Array.isArray(null==t?void 0:t.children)?t.children.join(""):null!==(l=null==t?void 0:t.children)&&void 0!==l?l:"").toLowerCase().includes(e.toLowerCase())},dropdownRender:e=>(0,a.jsxs)(a.Fragment,{children:[e,(0,a.jsx)(b.Z,{style:{margin:"8px 0"}}),(0,a.jsx)(o.ZP,{type:"link",onClick:()=>{var e;null===(e=l.current)||void 0===e||e.click()},children:"+ Th\xeam t\xf9y chọn mới"})]}),children:null==p?void 0:p.map(e=>(0,a.jsx)(T.W,{value:e.contract_id,children:e.name_contract},e.contract_id))})}),(0,a.jsx)(C.Z.Item,{name:"price",label:"Gi\xe1 trị(vnđ)",style:{minWidth:"240px",flex:"1 1 0%"},children:(0,a.jsx)(_.Z,{placeholder:"Gi\xe1",className:"w-full",formatter:e=>"".concat(e).replace(/\B(?=(\d{3})+(?!\d))/g,","),parser:e=>null==e?void 0:e.replace(/\$\s?|(,*)/g,"")})}),(0,a.jsx)(C.Z.Item,{name:"description",label:"M\xf4 tả",style:{width:"100%"},children:(0,a.jsx)(N.default.TextArea,{placeholder:"Description",autoSize:{minRows:3}})}),(0,a.jsx)(C.Z.Item,{name:"type_product",label:"Chi ph\xed/Dịch vụ",style:{width:"100%",flex:"1 1 0%"},children:(0,a.jsx)(c.Z,{placeholder:"Chọn loại",showSearch:!0,filterOption:(e,t)=>{var l;return(Array.isArray(null==t?void 0:t.children)?t.children.join(""):null!==(l=null==t?void 0:t.children)&&void 0!==l?l:"").toLowerCase().includes(e.toLowerCase())},children:null==m?void 0:m.map(e=>(0,a.jsx)(T.W,{value:e.type_product_id,children:e.name},e.type_product_id))})}),(0,a.jsx)(C.Z.Item,{name:"supplier",label:"Nh\xe0 cung cấp",rules:[{required:F,message:"Vui l\xf2ng chọn cung cấp!"}],style:{width:"100%",flex:"1 1 0%"},children:(0,a.jsx)(c.Z,{placeholder:"Chọn nh\xe0 cung cấp",showSearch:!0,filterOption:(e,t)=>{var l;return(Array.isArray(null==t?void 0:t.children)?t.children.join(""):null!==(l=null==t?void 0:t.children)&&void 0!==l?l:"").toLowerCase().includes(e.toLowerCase())},dropdownRender:e=>(0,a.jsxs)(a.Fragment,{children:[e,(0,a.jsx)(b.Z,{style:{margin:"8px 0"}}),(0,a.jsx)(o.ZP,{type:"link",onClick:()=>{var e;null===(e=s.current)||void 0===e||e.click()},children:"+ Th\xeam t\xf9y chọn mới"})]}),children:null==y?void 0:y.map(e=>(0,a.jsx)(T.W,{value:e.supplier_id,children:e.name},e.supplier_id))})}),(0,a.jsx)(C.Z.Item,{name:"date_expired",label:"Ng\xe0y kết th\xfac",rules:[{required:!0}],style:{minWidth:"320px",flex:"1 1 0%"},getValueProps:e=>({value:e?W()(e):null}),children:(0,a.jsx)(f.default,{placeholder:"Chọn ng\xe0y kết th\xfac",style:{width:"100%"}})}),(0,a.jsx)(C.Z.Item,{name:"vat",label:"Thuế",style:{width:"100%",flex:"1 1 0%"},children:(0,a.jsx)(c.Z,{placeholder:"Chọn thuế",showSearch:!0,filterOption:(e,t)=>{var l;return(Array.isArray(null==t?void 0:t.children)?t.children.join(""):null!==(l=null==t?void 0:t.children)&&void 0!==l?l:"").toLowerCase().includes(e.toLowerCase())},children:null==v?void 0:v.map(e=>(0,a.jsx)(T.W,{value:e.vat_id,children:e.type_vat},e.vat_id))})}),(0,a.jsx)(C.Z.Item,{name:"type_method",label:"Phương thức thanh to\xe1n",style:{minWidth:"100%"},children:(0,a.jsx)(c.Z,{placeholder:"Chọn phương thức thanh to\xe1n",showSearch:!0,filterOption:(e,t)=>{var l;return(Array.isArray(null==t?void 0:t.children)?t.children.join(""):null!==(l=null==t?void 0:t.children)&&void 0!==l?l:"").toLowerCase().includes(e.toLowerCase())},dropdownRender:e=>(0,a.jsxs)(a.Fragment,{children:[e,(0,a.jsx)(b.Z,{style:{margin:"8px 0"}}),(0,a.jsx)(o.ZP,{type:"link",onClick:()=>{var e;null===(e=u.current)||void 0===e||e.click()},children:"+ Th\xeam t\xf9y chọn mới"})]}),children:null==I?void 0:I.map(e=>(0,a.jsx)(T.W,{value:e.type_method_id,children:e.name},e.type_method_id))})})]})},1)}),(0,a.jsx)("div",{className:"flex justify-end w-full mt-4",children:(0,a.jsx)(o.ZP,{type:"primary",onClick:O,children:"Tạo"})})]}),(0,a.jsx)(j.Z,{refBtnContract:l}),(0,a.jsx)(w.Z,{refBtnSupplier:s}),(0,a.jsx)(V,{refBtnType:u})]})}function q(){let{RangePicker:e}=f.default,{customerID:t,projectID:l}=(0,x.useParams)(),[r,d]=(0,n.useState)({customer:null!=t?t:void 0}),s=(0,g.I0)();(0,n.useEffect)(()=>{r&&s((0,i.cQ)({...r,project:l}))},[r,l]);let{datas:o}=(0,g.v9)(e=>e.get_supplier),{datas:h}=(0,g.v9)(e=>e.get_payments),{datas:u}=(0,g.v9)(e=>e.get_contracts);return(0,a.jsxs)("div",{className:"flex items-start gap-4 w-full flex-col",children:[(0,a.jsxs)("div",{className:"flex gap-2 items-center  flex-wrap",children:[(0,a.jsx)(D,{}),(0,a.jsx)(V,{})]}),!l&&(0,a.jsxs)("div",{className:"flex flex-col gap-2 w-full",children:[(0,a.jsx)("p",{className:"text-sm font-semibold text-[#1BA399]",children:"Được lọc theo:"}),(0,a.jsxs)("div",{className:"flex flex-wrap w-full items-center justify-end gap-2   pb-4 ",children:[!t&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(c.Z,{placeholder:"Loại h\xf3a đơn",style:{minWidth:120,flex:"1 1 0%"},onChange:e=>{d({...r,type:e,supplier:void 0,contract:void 0})},showSearch:!0,allowClear:!0,filterOption:(e,t)=>{var l;return(Array.isArray(null==t?void 0:t.label)?t.label.join(""):null!==(l=null==t?void 0:t.label)&&void 0!==l?l:"").toLowerCase().includes(e.toLowerCase())},options:[{value:"import",label:"Nh\xe0 cung cấp"},{value:"export",label:"Kh\xe1ch h\xe0ng"}]}),"import"===r.type&&(0,a.jsx)(c.Z,{placeholder:"Nh\xe0 cung cấp",showSearch:!0,filterOption:(e,t)=>{var l,a;return(null!==(a=null==t?void 0:null===(l=t.children)||void 0===l?void 0:l.join(""))&&void 0!==a?a:"").toLowerCase().includes(e.toLowerCase())},onChange:e=>{d({...r,supplier:e})},style:{minWidth:120,flex:"1 1 0%"},children:null==o?void 0:o.map(e=>(0,a.jsx)(T.W,{value:e.supplier_id,children:e.name},e.supplier_id))}),"export"===r.type&&(0,a.jsx)(c.Z,{placeholder:"Hợp đồng",showSearch:!0,allowClear:!0,filterOption:(e,t)=>{var l;return(null!==(l=null==t?void 0:t.children)&&void 0!==l?l:"").toLowerCase().includes(e.toLowerCase())},onChange:e=>{d({...r,contract:e})},style:{minWidth:120,flex:"1 1 0%"},children:null==u?void 0:u.map(e=>(0,a.jsx)(T.W,{value:e.contract_id,children:e.name_contract},e.contract_id))})]}),["success","pending","fail",void 0].includes(r.status)&&(0,a.jsx)(e,{style:{minWidth:120,flex:"1 1 0%"},onChange:(e,t)=>{d({...r,date_start:t[0],date_end:t[1]})}}),(0,a.jsx)(c.Z,{placeholder:"T\xecnh trạng",onChange:e=>{d({...r,status:e})},style:{minWidth:120,flex:"1 1 0%"},showSearch:!0,allowClear:!0,filterOption:(e,t)=>{var l;return(Array.isArray(null==t?void 0:t.label)?t.label.join(""):null!==(l=null==t?void 0:t.label)&&void 0!==l?l:"").toLowerCase().includes(e.toLowerCase())},options:[{value:"success",label:"Đ\xe3 thanh to\xe1n"},{value:"pending",label:"Chưa thanh to\xe1n"},{value:"fail",label:"Thất bại"},{value:"expired",label:"Qu\xe1 hạn"},{value:"ready",label:"Sắp tới"}]})]})]}),(0,a.jsx)("div",{className:"w-full",children:(0,a.jsxs)("div",{className:"flex justify-around gap-2 flex-wrap",children:[(0,a.jsxs)(v.Z,{className:"lex flex-col pl-4 pt-8 rounded-lg gap-2 min-w-fit flex-1 h-32 bg-[#EB8823] border-0 shadow-lg  shadow-black/20",children:[(0,a.jsxs)("p",{className:"font-bold text-3xl text-white",children:[h.reduce((e,t)=>{if("success"===t.status){var l;return e+(null!==(l=t.price)&&void 0!==l?l:0)}return e},0).toLocaleString("vi-vn"),"đ"]}),(0,a.jsx)("p",{className:"text-xs text-wrap text-slate-50/80 min-w-36",children:"Đ\xe3 thanh to\xe1n"})]}),(0,a.jsxs)(v.Z,{className:"lex flex-col pl-4 pt-8 rounded-lg gap-2 min-w-fit flex-1 h-32 bg-[#EB8823] border-0 shadow-lg  shadow-black/20",children:[(0,a.jsxs)("p",{className:"font-bold text-3xl text-white",children:[h.reduce((e,t)=>{var l,a;let n=new Date().getTime(),r=new Date(null!==(l=t.date_expired)&&void 0!==l?l:"").getTime();return"pending"===t.status&&n<=r?e+(null!==(a=t.price)&&void 0!==a?a:0):e},0).toLocaleString("vi-vn"),"đ"]}),(0,a.jsx)("p",{className:"text-xs text-wrap text-slate-50/80 min-w-36",children:"Chưa thanh to\xe1n"})]}),(0,a.jsxs)(v.Z,{className:"lex flex-col pl-4 pt-8 rounded-lg gap-2 min-w-fit flex-1 h-32 bg-[#EB8823] border-0 shadow-lg  shadow-black/20",children:[(0,a.jsxs)("p",{className:"font-bold text-3xl text-white",children:[h.reduce((e,t)=>{var l,a;let n=new Date().getTime(),r=new Date(null!==(l=t.date_expired)&&void 0!==l?l:"").getTime();return"pending"===t.status&&n>r?e+(null!==(a=t.price)&&void 0!==a?a:0):e},0).toLocaleString("vi-vn"),"đ"]}),(0,a.jsx)("p",{className:"text-xs text-wrap text-slate-50/80 min-w-36",children:"Đ\xe3 qu\xe1 hạn"})]})]})})]})}function B(){let e=(0,s.Z)(["admin-top","contract","contract-edit","payment","payment-edit"]);return(0,a.jsxs)("div",{className:"flex flex-col gap-4 rounded-md p-4 shadow-[0_8px_30px_rgb(0,0,0,0.12)] bg-white",children:[e&&(0,a.jsx)("div",{className:"rounded-md",children:(0,a.jsx)(q,{})}),(0,a.jsx)("div",{className:"rounded-md",children:(0,a.jsx)(y,{})})]})}},63599:function(e,t,l){l.d(t,{Z:function(){return y}});var a=l(57437),n=l(46475),r=l(72589),i=l(90987),d=l(91626),s=l(58970),o=l(42654),c=l(44967),h=l(16836),u=l(29487),p=l(7140),x=l(2265),m=l(32768),g=l(68575);function y(e){let{refBtnSupplier:t}=e,[l]=(0,u.Z)(),{postdata:y}=(0,n.Z)(),f=(0,g.I0)(),[v,j]=(0,x.useState)(!1),w=async e=>{let t=await y(()=>i.Z.createSupplier(e));(200===t||201===t)&&(f((0,r.Hm)()),j(!1))},Z=async()=>{l.submit()};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(d.ZP,{hidden:!!t,className:"bg-blue-400 border-0 text-white font-semibold",icon:(0,a.jsx)(m.b0B,{}),onClick:()=>{j(!0)},ref:t,children:"Th\xeam nh\xe0 cung ứng"}),(0,a.jsxs)(s.Z,{title:"Tạo nh\xe0 cung ứng",open:v,onCancel:()=>{j(!1)},footer:null,width:"100%",style:{maxWidth:"800px"},children:[(0,a.jsx)(o.Z,{defaultActiveKey:"1",style:{width:"100%"},type:"line",children:(0,a.jsx)(p.Z,{tab:"Th\xf4ng tin nh\xe0 cung ứng",children:(0,a.jsxs)(c.Z,{layout:"vertical",form:l,onFinish:w,style:{display:"flex",flexWrap:"wrap",columnGap:"12px"},children:[(0,a.jsx)(c.Z.Item,{name:"name",label:"T\xean nh\xe0 cung ứng",rules:[{required:!0,type:"string",message:"Vui l\xf2ng nhập t\xean nh\xe0 cung ứng"}],style:{minWidth:"100%",flex:"1 1 0%"},children:(0,a.jsx)(h.default,{})}),(0,a.jsx)(c.Z.Item,{name:"email",label:"Email",style:{width:"320px",flex:"1 1 0%"},children:(0,a.jsx)(h.default,{})}),(0,a.jsx)(c.Z.Item,{name:"phone_number",label:"Số điện thoại",style:{width:"320px",flex:"1 1 0%"},children:(0,a.jsx)(h.default,{})}),(0,a.jsx)(c.Z.Item,{name:"address",label:"Địa chỉ",style:{width:"320px",flex:"1 1 0%"},children:(0,a.jsx)(h.default,{})}),(0,a.jsx)(c.Z.Item,{name:"description",label:"M\xf4 tả",style:{width:"100%"},children:(0,a.jsx)(h.default.TextArea,{placeholder:"Description",autoSize:{minRows:3}})})]})},1)}),(0,a.jsx)("div",{className:"flex justify-end w-full mt-4",children:(0,a.jsx)(d.ZP,{type:"primary",onClick:Z,children:"Tạo"})})]})]})}},47256:function(e,t,l){l.d(t,{cQ:function(){return r}});var a=l(20301),n=l(70601);let r=(0,a.hg)("payment/fetchPayments",async(e,t)=>{try{return await n.Z.getAllPayments(e)}catch(e){return t.rejectWithValue("Failed to fetch payments")}}),i=(0,a.hg)("payment/createPayment",async(e,t)=>{try{return await n.Z.createPayment(e)}catch(e){return t.rejectWithValue("Failed to create payment")}}),d=(0,a.hg)("payment/updatePayment",async(e,t)=>{let{id:l,data:a}=e;try{return await n.Z.updatePayment(l,a)}catch(e){return t.rejectWithValue("Failed to update payment")}}),s=(0,a.oM)({name:"payment",initialState:{datas:[],loading:!1,error:null},reducers:{},extraReducers:e=>{e.addCase(r.pending,e=>{e.loading=!0,e.error=null}).addCase(r.fulfilled,(e,t)=>{e.loading=!1,e.datas=t.payload.data}).addCase(r.rejected,(e,t)=>{e.loading=!1,e.error=t.payload}).addCase(i.fulfilled,(e,t)=>{e.datas.push(t.payload.data)}).addCase(d.fulfilled,(e,t)=>{let l=e.datas.findIndex(e=>e.payment_id===t.payload.data.payment_id);-1!==l&&(e.datas[l]=t.payload.data)})}}).reducer;t.ZP=s},33262:function(e,t,l){l.d(t,{um:function(){return r}});var a=l(70601),n=l(20301);let r=(0,n.hg)("typeMethod/fetchTypeMethods",async(e,t)=>{try{return await a.Z.getAllTypeMethods()}catch(e){return t.rejectWithValue("Failed to fetch type methods")}}),i=(0,n.hg)("typeMethod/createTypeMethod",async(e,t)=>{try{return await a.Z.createTypeMethod(e)}catch(e){return t.rejectWithValue("Failed to create type method")}}),d=(0,n.hg)("typeMethod/updateTypeMethod",async(e,t)=>{try{return await a.Z.updateTypeMethod(e.id,e.data)}catch(e){return t.rejectWithValue("Failed to update type method")}}),s=(0,n.oM)({name:"typeMethod",initialState:{datas:[],loading:!1,error:null},reducers:{},extraReducers:e=>{e.addCase(r.pending,e=>{e.loading=!0,e.error=null}).addCase(r.fulfilled,(e,t)=>{200===t.payload.statusCode?(e.datas=t.payload.data,e.loading=!1):(e.loading=!1,e.error="Unexpected status code")}).addCase(r.rejected,(e,t)=>{e.loading=!1,e.error=t.payload}).addCase(i.pending,e=>{e.loading=!0,e.error=null}).addCase(i.fulfilled,(e,t)=>{201===t.payload.statusCode?(e.datas.push(t.payload.data),e.loading=!1):(e.loading=!1,e.error="Unexpected status code")}).addCase(i.rejected,(e,t)=>{e.loading=!1,e.error=t.payload}).addCase(d.pending,e=>{e.loading=!0,e.error=null}).addCase(d.fulfilled,(e,t)=>{if(200===t.payload.statusCode){let l=e.datas.findIndex(e=>e.type_method_id===t.payload.data.type_method_id);-1!==l&&(e.datas[l]=t.payload.data),e.loading=!1}else e.loading=!1,e.error="Unexpected status code"}).addCase(d.rejected,(e,t)=>{e.loading=!1,e.error=t.payload})}}).reducer;t.ZP=s},72589:function(e,t,l){l.d(t,{Hm:function(){return r}});var a=l(20301),n=l(90987);let r=(0,a.hg)("supplier/fetchSuppliers",async(e,t)=>{try{let e=await n.Z.getAllSuppliers();return console.log(e),e}catch(e){return t.rejectWithValue("Failed to fetch suppliers")}}),i=(0,a.hg)("supplier/createSupplier",async(e,t)=>{try{return await n.Z.createSupplier(e)}catch(e){return t.rejectWithValue("Failed to create supplier")}}),d=(0,a.hg)("supplier/updateSupplier",async(e,t)=>{let{supplier_id:l,data:a}=e;try{return await n.Z.updateSupplier(l,a)}catch(e){return t.rejectWithValue("Failed to update supplier")}}),s=(0,a.oM)({name:"supplier",initialState:{datas:[],loading:!1,error:null},reducers:{},extraReducers:e=>{e.addCase(r.pending,e=>{e.loading=!0,e.error=null}).addCase(r.fulfilled,(e,t)=>{e.loading=!1,e.datas=t.payload.data}).addCase(r.rejected,(e,t)=>{e.loading=!1,e.error=t.payload}).addCase(i.fulfilled,(e,t)=>{e.datas.push(t.payload.data)}).addCase(d.fulfilled,(e,t)=>{let l=e.datas.findIndex(e=>e.supplier_id===t.payload.data.supplier_id);-1!==l&&(e.datas[l]=t.payload.data)})}}).reducer;t.ZP=s}}]);