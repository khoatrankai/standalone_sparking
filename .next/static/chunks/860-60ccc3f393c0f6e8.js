"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[860],{31304:function(e,t,l){l.d(t,{Z:function(){return N}});var a=l(57437),n=l(46475),r=l(3224),s=l(86220),i=l(34819),d=l(16114),c=l(53757),o=l(58102),u=l(79587),h=l(96473),m=l(91626),x=l(58970),p=l(44967),f=l(16836),y=l(11632),g=l(56612),j=l(20347),v=l(29487),Z=l(45747),w=l(71096),_=l.n(w),C=l(99376),b=l(2265),S=l(68575);function N(e){let{customer_id:t,refBtnCustomer:l,type:w}=e,[N]=(0,v.Z)(),{customerID:W}=(0,C.useParams)(),[k,I]=(0,b.useState)([]),P=(0,S.I0)(),{postdata:V}=(0,n.Z)(),[T,F]=(0,b.useState)(!1),L=async()=>{let e=await c.Z.getIDAccountCustomer(t);200===e.statusCode&&e.data&&(N.setFieldsValue({...e.data}),P((0,s.P)({customer_info:W})),P((0,r.m)()),I([{uid:e.data.customer_id,name:"logo.png",status:"done",url:e.data.picture_url}]))},q=async e=>{var l;let a=(0,u.Z)(Object.entries({...e,customer_id:null!=t?t:W.toString(),picture_url:k.length>0?[null==k?void 0:null===(l=k[0])||void 0===l?void 0:l.originFileObj]:null}).reduce((e,t)=>{let[l,a]=t;return null!=a&&(e[l]=a),e},{}));if("customer"===w){let e=await V(()=>o.Z.updateAccountCustomerProfile(a));(200===e||201===e)&&(N.resetFields(),F(!1),P((0,i.R)()))}else{let e=await V(()=>c.Z.updateAccountCustomer(t,a));(200===e||201===e)&&(N.resetFields(),F(!1),P((0,s.P)({customer_info:W})))}},A=(0,a.jsxs)("button",{style:{border:0,background:"none"},type:"button",children:[(0,a.jsx)(h.Z,{}),(0,a.jsx)("div",{style:{marginTop:8},children:"Upload"})]});return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(m.ZP,{className:"  text-xs text-yellow-500 font-semibold",type:"text",hidden:!!l,ref:l,onClick:()=>{F(!0),w?P((0,i.R)()).unwrap().then(e=>{200===e.statusCode&&(N.setFieldsValue({...e.data}),I([{uid:e.data.customer_id,name:"logo.png",status:"done",url:e.data.picture_url}]))}).catch(()=>{}):L()},children:"Chỉnh sửa"}),(0,a.jsx)(x.Z,{title:"Cập nhật kh\xe1ch h\xe0ng",open:T,onCancel:()=>{F(!1)},footer:null,width:"100%",style:{maxWidth:"800px"},children:(0,a.jsxs)(p.Z,{layout:"vertical",onFinish:q,form:N,style:{display:"flex",flexWrap:"wrap",gap:"8px"},children:[(0,a.jsxs)("div",{className:"flex flex-wrap gap-2 h-fit w-fit rounded-lg p-1",children:[(0,a.jsx)(p.Z.Item,{name:"full_name",className:"!m-0",label:"T\xean kh\xe1ch",rules:[{required:!0,message:"Vui l\xf2ng nhập t\xean c\xf4ng ty!"}],style:{minWidth:"320px",flex:"1 1 0%"},children:(0,a.jsx)(f.default,{})}),(0,a.jsx)(p.Z.Item,{name:"email",label:"Email",rules:[{required:!0,message:"Vui l\xf2ng nhập email!"}],style:{minWidth:"320px",flex:"1 1 0%"},children:(0,a.jsx)(f.default,{})}),(0,a.jsx)(p.Z.Item,{name:"password",label:"Mật khẩu",rules:[{required:!0,message:"Vui l\xf2ng nhập password!"}],style:{minWidth:"320px",flex:"1 1 0%"},children:(0,a.jsx)(f.default.Password,{})}),(0,a.jsx)(p.Z.Item,{name:"position",label:"Vị tr\xed",style:{minWidth:"320px",flex:"1 1 0%"},children:(0,a.jsx)(f.default,{})}),(0,a.jsx)(p.Z.Item,{name:"gender",label:"Giới t\xednh",style:{minWidth:"320px",flex:"1 1 0%"},children:(0,a.jsxs)(y.Z,{placeholder:"Select a currency type",defaultValue:"male",children:[(0,a.jsx)(Z.W,{value:"male",children:"Nam"}),(0,a.jsx)(Z.W,{value:"female",children:"Nữ"}),(0,a.jsx)(Z.W,{value:"other",children:"Kh\xe1c"})]})}),(0,a.jsx)(p.Z.Item,{name:"phone_number",label:"Số điện thoại",rules:[{required:!0,message:"Vui l\xf2ng nhập số điện thoại!"}],style:{minWidth:"320px",flex:"1 1 0%"},children:(0,a.jsx)(f.default,{})}),(0,a.jsx)(p.Z.Item,{name:"date_of_birth",label:"Ng\xe0y sinh",initialValue:"",className:" mb-0",style:{minWidth:"320px",flex:"1 1 0%"},getValueFromEvent:e=>null==e?void 0:e.format("YYYY-MM-DD"),getValueProps:e=>({value:e?_()(e):""}),children:(0,a.jsx)(g.default,{placeholder:"Chọn ng\xe0y sinh",style:{width:"100%"}})}),(0,a.jsx)(p.Z.Item,{name:"picture_url",label:"Ảnh đại diện",className:"!m-0",style:{minWidth:"320px",flex:"1 1 0%"},children:(0,a.jsx)(j.default,{maxCount:1,action:"",listType:"picture-card",fileList:k,onPreview:e=>{P((0,d.BZ)(e.url))},onChange:e=>{let{file:t}=e;"removed"===t.status?I([]):I([t])},children:!(k.length>0)&&A})})]}),(0,a.jsx)(p.Z.Item,{style:{width:"100%",display:"flex",justifyContent:"end"},children:(0,a.jsx)(m.ZP,{type:"primary",htmlType:"submit",children:"Cập nhật"})})]})})]})}},79966:function(e,t,l){l.d(t,{Z:function(){return K}});var a=l(57437),n=l(11632),r=l(42654),s=l(2265),i=l(66349);function d(){return(0,a.jsxs)("div",{className:"flex flex-col gap-4 p-4",children:[(0,a.jsx)("p",{className:"text-xl",children:"Th\xf4ng tin kh\xe1ch h\xe0ng"}),(0,a.jsx)(i.Z,{})]})}var c=l(6061);function o(){return(0,a.jsxs)("div",{className:"flex flex-col gap-4 p-4 w-full",children:[(0,a.jsx)("p",{className:"text-xl",children:"H\xf3a đơn"}),(0,a.jsx)(c.Z,{})]})}var u=l(13969);function h(){return(0,a.jsxs)("div",{className:"flex flex-col gap-4 p-4 w-full",children:[(0,a.jsx)("p",{className:"text-xl",children:"H\xf3a đơn"}),(0,a.jsx)(u.Z,{})]})}var m=l(2449);function x(){return(0,a.jsxs)("div",{className:"flex flex-col gap-4 p-4 w-full",children:[(0,a.jsx)("p",{className:"text-xl",children:"Hợp đồng"}),(0,a.jsx)(m.Z,{})]})}var p=l(30531);function f(){return(0,a.jsxs)("div",{className:"flex flex-col gap-4 p-4 w-full",children:[(0,a.jsx)("p",{className:"text-xl",children:"B\xe1o gi\xe1"}),(0,a.jsx)(p.Z,{})]})}var y=l(68575),g=l(99376),j=l(46475),v=l(96473),Z=l(91626),w=l(58970),_=l(44967),C=l(16836),b=l(56612),S=l(20347),N=l(45747),W=l(32768),k=l(29487),I=l(79587),P=l(71096),V=l.n(P),T=l(53757),F=l(3224);function L(e){let{refBtnCustomer:t}=e,[l,r]=(0,s.useState)(),{postdata:i}=(0,j.Z)(),d=(0,y.I0)(),[c]=(0,k.Z)(),{customerID:o}=(0,g.useParams)(),[u,h]=(0,s.useState)(!1),m=async e=>{let t=(0,I.Z)(Object.entries({...e,customer_info:o,picture_url:[null==l?void 0:l.originFileObj]}).reduce((e,t)=>{let[l,a]=t;return null!=a&&(e[l]=a),e},{})),a=await i(()=>T.Z.createAccountCustomer(t));(200===a||201===a)&&(c.resetFields(),h(!1),d((0,F.m)()))},x=(0,a.jsxs)("button",{style:{border:0,background:"none"},type:"button",children:[(0,a.jsx)(v.Z,{}),(0,a.jsx)("div",{style:{marginTop:8},children:"Upload"})]});return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(Z.ZP,{hidden:!!t,className:"bg-blue-400 border-0 text-white font-semibold",icon:(0,a.jsx)(W.b0B,{}),onClick:()=>{h(!0)},ref:t,children:"Th\xeam t\xe0i khoản"}),(0,a.jsx)(w.Z,{title:"Tạo t\xe0i khoản",open:u,onCancel:()=>{h(!1)},footer:null,width:"100%",style:{maxWidth:"800px"},children:(0,a.jsxs)(_.Z,{layout:"vertical",onFinish:m,form:c,style:{display:"flex",flexWrap:"wrap",gap:"8px"},children:[(0,a.jsxs)("div",{className:"flex flex-wrap gap-2 h-fit w-fit rounded-lg p-1",children:[(0,a.jsx)(_.Z.Item,{name:"full_name",className:"!m-0",label:"T\xean kh\xe1ch",rules:[{required:!0,message:"Vui l\xf2ng nhập t\xean c\xf4ng ty!"}],style:{minWidth:"320px",flex:"1 1 0%"},children:(0,a.jsx)(C.default,{})}),(0,a.jsx)(_.Z.Item,{name:"email",label:"Email",rules:[{required:!0,message:"Vui l\xf2ng nhập email!"}],style:{minWidth:"320px",flex:"1 1 0%"},children:(0,a.jsx)(C.default,{})}),(0,a.jsx)(_.Z.Item,{name:"password",label:"Mật khẩu",rules:[{required:!0,message:"Vui l\xf2ng nhập password!"}],style:{minWidth:"320px",flex:"1 1 0%"},children:(0,a.jsx)(C.default.Password,{})}),(0,a.jsx)(_.Z.Item,{name:"position",label:"Vị tr\xed",style:{minWidth:"320px",flex:"1 1 0%"},children:(0,a.jsx)(C.default,{})}),(0,a.jsx)(_.Z.Item,{name:"gender",label:"Giới t\xednh",style:{minWidth:"320px",flex:"1 1 0%"},children:(0,a.jsxs)(n.Z,{placeholder:"Select a currency type",defaultValue:"male",children:[(0,a.jsx)(N.W,{value:"male",children:"Nam"}),(0,a.jsx)(N.W,{value:"female",children:"Nữ"}),(0,a.jsx)(N.W,{value:"other",children:"Kh\xe1c"})]})}),(0,a.jsx)(_.Z.Item,{name:"phone_number",label:"Số điện thoại",rules:[{required:!0,message:"Vui l\xf2ng nhập số điện thoại!"}],style:{minWidth:"320px",flex:"1 1 0%"},children:(0,a.jsx)(C.default,{})}),(0,a.jsx)(_.Z.Item,{name:"date_of_birth",label:"Ng\xe0y sinh",initialValue:"",className:" mb-0",style:{minWidth:"320px",flex:"1 1 0%"},getValueFromEvent:e=>null==e?void 0:e.format("YYYY-MM-DD"),getValueProps:e=>({value:e?V()(e):""}),children:(0,a.jsx)(b.default,{placeholder:"Chọn ng\xe0y sinh",style:{width:"100%"}})}),(0,a.jsx)(_.Z.Item,{name:"picture_url",label:"Ảnh đại diện",className:"!m-0",style:{minWidth:"320px",flex:"1 1 0%"},children:(0,a.jsx)(S.default,{maxCount:1,action:"",listType:"picture-card",onChange:e=>{let{file:t}=e;r(t)},children:x})})]}),(0,a.jsx)(_.Z.Item,{style:{width:"100%",display:"flex",justifyContent:"end"},children:(0,a.jsx)(Z.ZP,{type:"primary",htmlType:"submit",children:"Tạo"})})]})})]})}function q(){return(0,a.jsx)("div",{className:"flex flex-col gap-2",children:(0,a.jsx)("div",{className:"flex gap-2 items-center",children:(0,a.jsx)(L,{})})})}var A=l(66487),B=l(91250),D=l(22744),M=l(31304),O=l(86220),R=l(56771);function E(){let{customerID:e}=(0,g.useParams)(),[t,l]=(0,s.useState)(25),r=(0,y.I0)(),{datas:i}=(0,y.v9)(e=>e.get_account_customers);(0,s.useEffect)(()=>{e&&r((0,O.P)({customer_info:e}))},[e]);let[d,c]=(0,s.useState)(),{postdata:o}=(0,j.Z)(),u=[{title:"#",className:"text-xs",dataIndex:"customer_id",render:(e,t,l)=>(0,a.jsxs)("div",{className:"flex flex-col gap-1 ",children:[(0,a.jsxs)("strong",{children:["#",l+1]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)(Z.ZP,{type:"text",ghost:!0,className:"text-xs text-blue-600",onClick:()=>{window.location.href="/customers/info/".concat(e)},children:"Xem"}),(0,a.jsx)(M.Z,{customer_id:e})]})]}),sorter:(e,t)=>{var l,a;return(null!==(l=e.customer_id)&&void 0!==l?l:"").localeCompare(null!==(a=t.customer_id)&&void 0!==a?a:"")}},{title:"T\xean kh\xe1ch h\xe0ng",className:"text-xs",dataIndex:"full_name",render:e=>(0,a.jsx)(a.Fragment,{children:(null==e?void 0:e.length)>15?"".concat(e.slice(0,15),"..."):e}),sorter:(e,t)=>{var l,a;return(null!==(l=e.full_name)&&void 0!==l?l:"").localeCompare(null!==(a=t.full_name)&&void 0!==a?a:"")}},{title:"Email",className:"text-xs",dataIndex:["email"],render:e=>(0,a.jsx)(a.Fragment,{children:(null==e?void 0:e.length)>15?"".concat(e.slice(0,15),"..."):e}),sorter:(e,t)=>e.email.localeCompare(t.email)},{title:"Chức vụ",className:"text-xs",dataIndex:["position"],sorter:(e,t)=>e.position.localeCompare(t.position)},{title:"Điện thoại",className:"text-xs",dataIndex:"phone_number",sorter:(e,t)=>e.phone_number.localeCompare(t.phone_number)},{title:"Đang hoạt động",className:"text-xs",dataIndex:"status",render:(t,l)=>(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(A.Z,{defaultChecked:"active"===t,onChange:async t=>{let a=new FormData;a.append("status",t?"active":"hide"),200===await o(()=>T.Z.updateAccountCustomer(l.customer_id,a))&&(r((0,O.P)({customer_info:e})),r((0,F.m)()))}})})}];(0,s.useEffect)(()=>{c(i.map((e,t)=>({...e,key:t})))},[i]);let h=e=>{c(null==i?void 0:i.filter(t=>String(t.customer_id+" "+t.email+" "+t.phone_number+" "+(null==t?void 0:t.position)+" "+(null==t?void 0:t.full_name)).toLowerCase().includes(e.toLowerCase())))},[m,x]=(0,s.useState)(!1),[p,f]=(0,s.useState)([]),v=async()=>{200===await o(()=>T.Z.deleteInfoCustomer(p))&&(r((0,O.P)({customer_info:e})),r((0,F.m)()),f([]),x(!1))};return(0,a.jsxs)("div",{className:"",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-2 flex-wrap gap-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(n.Z,{defaultValue:t,style:{width:83},onChange:e=>l(e),options:[{value:10,label:10},{value:25,label:25},{value:50,label:50},{value:100,label:100},{value:500,label:500},{value:1e3,label:1e3},{value:1e8,label:"Tất cả"}]}),(0,a.jsx)(Z.ZP,{hidden:!(p.length>0),children:"Xuất ra"}),(0,a.jsx)(Z.ZP,{onClick:()=>{x(!0)},danger:!0,hidden:!(p.length>0),className:"text-xl",icon:(0,a.jsx)(D.FH3,{})})]}),(0,a.jsx)("div",{className:"flex gap-2 items-center",children:(0,a.jsx)(R.Z,{onChange:e=>{h(e.target.value)},placeholder:"T\xecm kiếm",style:{width:200}})})]}),(0,a.jsx)("div",{className:"w-full overflow-auto",children:(0,a.jsx)("div",{className:"min-w-fit",children:(0,a.jsx)(B.Z,{columns:u,rowSelection:{onChange:(e,t)=>{f(t.map(e=>e.customer_id))}},dataSource:d,scroll:{x:"max-content"},pagination:{pageSize:t,showTotal:(e,t)=>"".concat(t[0],"-").concat(t[1]," of ").concat(e," items")},showSorterTooltip:{target:"sorter-icon"}})})}),(0,a.jsx)(w.Z,{open:m,title:"X\xf3a dữ liệu",onOk:v,onCancel:()=>{x(!1)},children:"Bạn c\xf3 chắc chắn muốn x\xf3a kh\xf4ng ?"})]})}function Y(){return(0,a.jsx)("div",{children:(0,a.jsxs)("div",{className:"flex flex-col gap-4 rounded-md p-4 shadow-[0_8px_30px_rgb(0,0,0,0.12)] bg-white",children:[(0,a.jsx)("div",{className:"rounded-md",children:(0,a.jsx)(q,{})}),(0,a.jsx)("div",{className:"rounded-md",children:(0,a.jsx)(E,{})})]})})}function H(){return(0,a.jsxs)("div",{className:"flex flex-col gap-4 p-4 w-full",children:[(0,a.jsx)("p",{className:"text-xl",children:"Người li\xean hệ"}),(0,a.jsx)(Y,{})]})}var U=l(20396);function K(){let e=(0,U.ZP)({maxWidth:639}),t=(0,g.useRouter)(),{datas:l}=(0,y.v9)(e=>e.infos_customer),{customerID:s}=(0,g.useParams)(),i=[{label:"Th\xf4ng tin kh\xe1ch h\xe0ng",key:"customer",children:(0,a.jsx)(d,{})},{label:"Li\xean hệ",key:"contact",children:(0,a.jsx)(H,{})},{label:"H\xf3a đơn",key:"invoice",children:(0,a.jsx)(o,{})},{label:"Dự \xe1n",key:"project",children:(0,a.jsx)(h,{})},{label:"Hợp đồng",key:"contract",children:(0,a.jsx)(x,{})},{label:"B\xe1o gi\xe1",key:"price_quote",children:(0,a.jsx)(f,{})}];return(0,a.jsxs)("div",{className:"flex flex-col",children:[(0,a.jsx)("div",{children:(0,a.jsx)(n.Z,{placeholder:"Kh\xe1ch h\xe0ng",style:{minWidth:120,flex:"1 1 0%"},defaultValue:s,onChange:e=>{t.push("/customer/info/".concat(e||l[0].info_id))},showSearch:!0,allowClear:!0,filterOption:(e,t)=>{var l;return(null!==(l=null==t?void 0:t.label)&&void 0!==l?l:"").toLowerCase().includes(e.toLowerCase())},options:l.map(e=>({value:e.info_id,label:e.name_company}))})}),(0,a.jsx)("div",{className:"flex-1",children:(0,a.jsx)(r.Z,{items:i,tabPosition:"".concat(e?"top":"right")})})]})}},66349:function(e,t,l){l.d(t,{Z:function(){return _}});var a=l(57437),n=l(46475),r=l(3224),s=l(64985),i=l(16114),d=l(53757),c=l(79587),o=l(96473),u=l(44967),h=l(16836),m=l(11632),x=l(23496),p=l(91626),f=l(20347),y=l(58970),g=l(29487),j=l(45747),v=l(99376),Z=l(2265),w=l(68575);function _(e){let{info_id:t}=e,[l]=(0,g.Z)(),{customerID:_}=(0,v.useParams)(),[C,b]=(0,Z.useState)([]),S=(0,Z.useRef)(),N=(0,w.I0)(),{datas:W}=(0,w.v9)(e=>e.province_system),{postdata:k}=(0,n.Z)(),{datas:I}=(0,w.v9)(e=>e.get_users),{datas:P}=(0,w.v9)(e=>e.get_group_customer),[V,T]=(0,Z.useState)(!1),F=async()=>{let e=await d.Z.getCustomerID(null!=t?t:_.toString());if(200===e.statusCode&&e.data){var a,n;l.setFieldsValue({...e.data,group_customer:null===(n=e.data)||void 0===n?void 0:null===(a=n.group_customer)||void 0===a?void 0:a.group_id}),N((0,s.K)()),N((0,r.m)()),b([{uid:e.data.customer_id,name:"logo.png",status:"done",url:e.data.picture_url}])}};(0,Z.useEffect)(()=>{_&&!t&&F()},[_,t]);let L=e=>{let{file:t}=e;"removed"===t.status?b([]):b([t])},q=async e=>{var a;let n=(0,c.Z)(Object.entries({...e,info_id:null!=t?t:_.toString(),picture_url:C.length>0?[null==C?void 0:null===(a=C[0])||void 0===a?void 0:a.originFileObj]:null}).reduce((e,t)=>{let[l,a]=t;return null!=a&&(e[l]=a),e},{})),r=await k(()=>d.Z.updateCustomerInfo(n));(200===r||201===r)&&(l.resetFields(),T(!1))},A=(0,a.jsxs)("button",{style:{border:0,background:"none"},type:"button",children:[(0,a.jsx)(o.Z,{}),(0,a.jsx)("div",{style:{marginTop:8},children:"Upload"})]});return(0,a.jsx)(a.Fragment,{children:_?(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)(u.Z,{layout:"vertical",onFinish:q,form:l,style:{display:"flex",flexWrap:"wrap",gap:"8px"},children:[(0,a.jsxs)("div",{className:"flex flex-wrap gap-2 h-fit w-fit rounded-lg p-1",children:[(0,a.jsx)(u.Z.Item,{name:"name_company",className:"!m-0",label:"T\xean c\xf4ng ty",rules:[{required:!0,message:"Vui l\xf2ng nhập t\xean c\xf4ng ty!"}],style:{minWidth:"320px",flex:"1 1 0%"},children:(0,a.jsx)(h.default,{})}),(0,a.jsx)(u.Z.Item,{name:"group_customer",label:"Nh\xf3m kh\xe1ch h\xe0ng",rules:[{required:!0,message:"Vui l\xf2ng nhập nh\xf3m kh\xe1ch h\xe0ng!"}],style:{minWidth:"320px",flex:"1 1 0%"},children:(0,a.jsx)(m.Z,{placeholder:"Chọn nh\xf3m",showSearch:!0,filterOption:(e,t)=>{var l;return(Array.isArray(null==t?void 0:t.children)?t.children.join(""):null!==(l=null==t?void 0:t.children)&&void 0!==l?l:"").toLowerCase().includes(e.toLowerCase())},dropdownRender:e=>(0,a.jsxs)(a.Fragment,{children:[e,(0,a.jsx)(x.Z,{style:{margin:"8px 0"}}),(0,a.jsx)(p.ZP,{type:"link",onClick:()=>{var e;null===(e=S.current)||void 0===e||e.click()},children:"+ Th\xeam t\xf9y chọn mới"})]}),children:null==P?void 0:P.map(e=>(0,a.jsx)(j.W,{value:e.group_id,children:e.name_group},e.group_id))})}),(0,a.jsx)(u.Z.Item,{name:"tax_code",label:"M\xe3 số thuế",rules:[{required:!0,message:"Vui l\xf2ng nhập m\xe3 số thuế!"}],style:{minWidth:"320px",flex:"1 1 0%"},children:(0,a.jsx)(h.default,{})}),(0,a.jsx)(u.Z.Item,{name:"address_delivery",label:"Địa chỉ giao h\xe0ng",style:{minWidth:"320px",flex:"1 1 0%"},children:(0,a.jsx)(h.default,{})}),(0,a.jsx)(u.Z.Item,{name:"province",label:"Tỉnh/Th\xe0nh phố",rules:[{required:!0,message:"Vui l\xf2ng nhập tỉnh/th\xe0nh phố!"}],style:{minWidth:"320px",flex:"1 1 0%"},children:(0,a.jsx)(m.Z,{placeholder:"Chọn khu vực",children:null==W?void 0:W.map(e=>(0,a.jsx)(j.W,{value:e.province_id,children:e.name_province},e.province_id))})}),(0,a.jsx)(u.Z.Item,{name:"phone_number",label:"Số điện thoại",rules:[{required:!0,message:"Vui l\xf2ng nhập số điện thoại!"}],style:{minWidth:"320px",flex:"1 1 0%"},children:(0,a.jsx)(h.default,{})}),(0,a.jsx)(u.Z.Item,{name:"type_money",label:"Loại tiền tệ",style:{minWidth:"320px",flex:"1 1 0%"},children:(0,a.jsxs)(m.Z,{placeholder:"Select a currency type",defaultValue:"vnd",children:[(0,a.jsx)(j.W,{value:"vnd",children:"VND"}),(0,a.jsx)(j.W,{value:"usd",children:"USD"})]})}),(0,a.jsx)(u.Z.Item,{name:"staff_support",label:"Nh\xe2n vi\xean hỗ trợ",style:{minWidth:"320px",flex:"1 1 0%"},children:(0,a.jsx)(m.Z,{placeholder:"Chọn nh\xe2n vi\xean",showSearch:!0,filterOption:(e,t)=>{var l,a;return(null!==(a=null==t?void 0:null===(l=t.children)||void 0===l?void 0:l.join(""))&&void 0!==a?a:"").toLowerCase().includes(e.toLowerCase())},children:null==I?void 0:I.map(e=>(0,a.jsxs)(j.W,{value:e.user_id,children:[e.first_name," ",e.last_name]},e.user_id))})}),(0,a.jsx)(u.Z.Item,{name:"website",label:"Website",style:{minWidth:"320px",flex:"1 1 0%"},children:(0,a.jsx)(h.default,{})}),(0,a.jsx)(u.Z.Item,{name:"picture_url",label:"Ảnh đại diện",className:"!m-0",style:{minWidth:"320px",flex:"1 1 0%"},children:(0,a.jsx)(f.default,{maxCount:1,action:"",listType:"picture-card",fileList:C,onPreview:e=>{N((0,i.BZ)(e.url))},onChange:L,children:C.length>0?null:A})})]}),(0,a.jsx)(u.Z.Item,{style:{width:"100%",display:"flex",justifyContent:"end"},children:(0,a.jsx)(p.ZP,{type:"primary",htmlType:"submit",children:"Cập nhật"})})]})}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(p.ZP,{className:"  text-xs text-yellow-500 font-semibold",type:"text",onClick:()=>{T(!0),F()},children:"Chỉnh sửa"}),(0,a.jsx)(y.Z,{title:"Cập nhật kh\xe1ch h\xe0ng",open:V,onCancel:()=>{T(!1)},footer:null,width:"100%",style:{maxWidth:"800px"},children:(0,a.jsxs)(u.Z,{layout:"vertical",onFinish:q,form:l,style:{display:"flex",flexWrap:"wrap",gap:"8px"},children:[(0,a.jsxs)("div",{className:"flex flex-wrap gap-2 h-fit w-fit rounded-lg p-1",children:[(0,a.jsx)(u.Z.Item,{name:"name_company",className:"!m-0",label:"T\xean c\xf4ng ty",rules:[{required:!0,message:"Vui l\xf2ng nhập t\xean c\xf4ng ty!"}],style:{minWidth:"320px",flex:"1 1 0%"},children:(0,a.jsx)(h.default,{})}),(0,a.jsx)(u.Z.Item,{name:"group_customer",label:"Nh\xf3m kh\xe1ch h\xe0ng",rules:[{required:!0,message:"Vui l\xf2ng nhập nh\xf3m kh\xe1ch h\xe0ng!"}],style:{minWidth:"320px",flex:"1 1 0%"},children:(0,a.jsx)(m.Z,{placeholder:"Chọn nh\xf3m",showSearch:!0,filterOption:(e,t)=>{var l;return(Array.isArray(null==t?void 0:t.children)?t.children.join(""):null!==(l=null==t?void 0:t.children)&&void 0!==l?l:"").toLowerCase().includes(e.toLowerCase())},dropdownRender:e=>(0,a.jsxs)(a.Fragment,{children:[e,(0,a.jsx)(x.Z,{style:{margin:"8px 0"}}),(0,a.jsx)(p.ZP,{type:"link",onClick:()=>{var e;null===(e=S.current)||void 0===e||e.click()},children:"+ Th\xeam t\xf9y chọn mới"})]}),children:null==P?void 0:P.map(e=>(0,a.jsx)(j.W,{value:e.group_id,children:e.name_group},e.group_id))})}),(0,a.jsx)(u.Z.Item,{name:"tax_code",label:"M\xe3 số thuế",rules:[{required:!0,message:"Vui l\xf2ng nhập m\xe3 số thuế!"}],style:{minWidth:"320px",flex:"1 1 0%"},children:(0,a.jsx)(h.default,{})}),(0,a.jsx)(u.Z.Item,{name:"address_delivery",label:"Địa chỉ giao h\xe0ng",style:{minWidth:"320px",flex:"1 1 0%"},children:(0,a.jsx)(h.default,{})}),(0,a.jsx)(u.Z.Item,{name:"province",label:"Tỉnh/Th\xe0nh phố",rules:[{required:!0,message:"Vui l\xf2ng nhập tỉnh/th\xe0nh phố!"}],style:{minWidth:"320px",flex:"1 1 0%"},children:(0,a.jsx)(m.Z,{placeholder:"Chọn khu vực",children:null==W?void 0:W.map(e=>(0,a.jsx)(j.W,{value:e.province_id,children:e.name_province},e.province_id))})}),(0,a.jsx)(u.Z.Item,{name:"phone_number",label:"Số điện thoại",rules:[{required:!0,message:"Vui l\xf2ng nhập số điện thoại!"}],style:{minWidth:"320px",flex:"1 1 0%"},children:(0,a.jsx)(h.default,{})}),(0,a.jsx)(u.Z.Item,{name:"type_money",label:"Loại tiền tệ",style:{minWidth:"320px",flex:"1 1 0%"},children:(0,a.jsxs)(m.Z,{placeholder:"Select a currency type",defaultValue:"vnd",children:[(0,a.jsx)(j.W,{value:"vnd",children:"VND"}),(0,a.jsx)(j.W,{value:"usd",children:"USD"})]})}),(0,a.jsx)(u.Z.Item,{name:"staff_support",label:"Nh\xe2n vi\xean hỗ trợ",style:{minWidth:"320px",flex:"1 1 0%"},children:(0,a.jsx)(m.Z,{placeholder:"Chọn nh\xe2n vi\xean",showSearch:!0,filterOption:(e,t)=>{var l,a;return(null!==(a=null==t?void 0:null===(l=t.children)||void 0===l?void 0:l.join(""))&&void 0!==a?a:"").toLowerCase().includes(e.toLowerCase())},children:null==I?void 0:I.map(e=>(0,a.jsxs)(j.W,{value:e.user_id,children:[e.first_name," ",e.last_name]},e.user_id))})}),(0,a.jsx)(u.Z.Item,{name:"website",label:"Website",style:{minWidth:"320px",flex:"1 1 0%"},children:(0,a.jsx)(h.default,{})}),(0,a.jsx)(u.Z.Item,{name:"picture_url",label:"Ảnh đại diện",className:"!m-0",style:{minWidth:"320px",flex:"1 1 0%"},children:(0,a.jsx)(f.default,{maxCount:1,action:"",listType:"picture-card",fileList:C,onPreview:e=>{N((0,i.BZ)(e.url))},onChange:L,children:C.length>0?null:A})})]}),(0,a.jsx)(u.Z.Item,{style:{width:"100%",display:"flex",justifyContent:"end"},children:(0,a.jsx)(p.ZP,{type:"primary",htmlType:"submit",children:"Cập nhật"})})]})})]})})}},86220:function(e,t,l){l.d(t,{P:function(){return r}});var a=l(53757),n=l(20301);let r=(0,n.hg)("customer/fetchCustomerAccounts",async(e,t)=>{try{return await a.Z.getAllAccountCustomer(e)}catch(e){return t.rejectWithValue("Failed to fetch customer Infos")}}),s=(0,n.oM)({name:"customer_info",initialState:{datas:[],loading:!1,error:null},reducers:{},extraReducers:e=>{e.addCase(r.pending,e=>{e.loading=!0,e.error=null}).addCase(r.fulfilled,(e,t)=>{200===t.payload.statusCode&&(e.loading=!1,e.datas=t.payload.data)}).addCase(r.rejected,(e,t)=>{e.loading=!1,e.error=t.payload})}}).reducer;t.Z=s},58286:function(e,t,l){l.d(t,{b:function(){return r}});var a=l(53757),n=l(20301);let r=(0,n.hg)("customer/fetchCustomerFilter",async(e,t)=>{try{return await a.Z.getFilterCustomer(null!=e?e:{})}catch(e){return t.rejectWithValue("Failed to fetch customer Infos")}}),s=(0,n.oM)({name:"customer_info",initialState:{datas:[],loading:!1,error:null},reducers:{},extraReducers:e=>{e.addCase(r.pending,e=>{e.loading=!0,e.error=null}).addCase(r.fulfilled,(e,t)=>{200===t.payload.statusCode&&(e.loading=!1,e.datas=t.payload.data)}).addCase(r.rejected,(e,t)=>{e.loading=!1,e.error=t.payload})}}).reducer;t.Z=s},34819:function(e,t,l){l.d(t,{R:function(){return r}});var a=l(58102),n=l(20301);let r=(0,n.hg)("customer/fetchCustomerProfile",async(e,t)=>{try{return await a.Z.getProfileCustomer()}catch(e){return t.rejectWithValue("Failed to fetch user info")}}),s=(0,n.oM)({name:"customer_profile",initialState:{datas:null,loading:!1,error:null},reducers:{},extraReducers:e=>{e.addCase(r.pending,e=>{e.loading=!0,e.error=null}).addCase(r.fulfilled,(e,t)=>{200===t.payload.statusCode&&(e.loading=!1,e.datas=t.payload.data),400===t.payload.statusCode&&(e.loading=!1,e.datas=null)}).addCase(r.rejected,(e,t)=>{e.loading=!1,e.error=t.payload})}}).reducer;t.Z=s},19518:function(e,t,l){l.d(t,{d:function(){return r}});var a=l(64262),n=l(20301);let r=(0,n.hg)("system/fetchSystemProvinces",async(e,t)=>{try{return await a.Z.getProvinces()}catch(e){return t.rejectWithValue("Failed to fetch product Vats")}}),s=(0,n.oM)({name:"province_system",initialState:{datas:[],loading:!1,error:null},reducers:{},extraReducers:e=>{e.addCase(r.pending,e=>{e.loading=!0,e.error=null}).addCase(r.fulfilled,(e,t)=>{200===t.payload.statusCode&&(e.loading=!1,e.datas=t.payload.data)}).addCase(r.rejected,(e,t)=>{e.loading=!1,e.error=t.payload})}}).reducer;t.Z=s},58102:function(e,t,l){var a=l(90382),n=l(28223);t.Z={getProfileCustomer:async()=>{try{return(await n.Z.get("/customer/profile",{withCredentials:!0})).data}catch(e){throw(0,a.S)(e),e}},loginCustomer:async e=>(await n.Z.post("/auth/login-customer",e,{withCredentials:!0})).data,logoutCustomer:async()=>(await n.Z.post("/auth/logout-customer")).data,updatePasswordCustomer:async e=>{try{return(await n.Z.put("/customer/update-password",e)).data}catch(e){throw(0,a.S)(e),e}},updateAccountCustomerProfile:async e=>{try{return(await n.Y.put("/customer/update-account-customer-profile",e)).data}catch(e){throw(0,a.S)(e),e}},getAllCustomerByToken:async()=>{try{return(await n.Z.get("/customer/get-all-customer-by-token")).data}catch(e){throw(0,a.S)(e),e}},getAllProjectByToken:async()=>{try{return(await n.Z.get("/project/all-customer")).data}catch(e){throw(0,a.S)(e),e}},getAllPriceQuoteByToken:async()=>{try{return(await n.Z.get("/price_quote/all-customer")).data}catch(e){throw(0,a.S)(e),e}},getAllContractByToken:async()=>{try{return(await n.Z.get("/contract/all-customer")).data}catch(e){throw(0,a.S)(e),e}},getAllPaymentByToken:async()=>{try{return(await n.Z.get("/contract/all-payment-customer")).data}catch(e){throw(0,a.S)(e),e}}}},64262:function(e,t,l){var a=l(90382),n=l(28223);t.Z={getProvinces:async()=>{try{return(await n.Z.get("/system/provinces")).data}catch(e){throw(0,a.S)(e),e}},getVats:async()=>{try{return(await n.Z.get("/system/vats")).data}catch(e){throw(0,a.S)(e),e}},getVat:async e=>{try{return(await n.Z.get("/system/vat/".concat(e))).data}catch(e){throw(0,a.S)(e),e}},createVat:async e=>{try{return(await n.Z.post("/system/create-vat",{type_vat:e.type_vat})).data}catch(e){throw(0,a.S)(e),e}},updateVat:async(e,t)=>{try{return(await n.Z.put("/system/update-vat/".concat(e),t)).data}catch(e){throw(0,a.S)(e),e}},getProfits:async()=>{try{return(await n.Z.get("/system/profits")).data}catch(e){throw(0,a.S)(e),e}},getProfit:async e=>{try{return(await n.Z.get("/system/profit/".concat(e))).data}catch(e){throw(0,a.S)(e),e}},createProfit:async e=>{try{return(await n.Z.post("/system/create-profit",e)).data}catch(e){throw(0,a.S)(e),e}},updateProfit:async(e,t)=>{try{return(await n.Z.put("/system/profit/".concat(e),t)).data}catch(e){throw(0,a.S)(e),e}},getTargets:async()=>{try{return(await n.Z.get("/system/targets_revenue")).data}catch(e){throw(0,a.S)(e),e}},getTarget:async e=>{try{return(await n.Z.get("/system/target_revenue/".concat(e))).data}catch(e){throw(0,a.S)(e),e}},getTargetYear:async()=>{try{return(await n.Z.get("/system/target_revenue_year")).data}catch(e){throw(0,a.S)(e),e}},createTarget:async e=>{try{return(await n.Z.post("/system/target_revenue",e)).data}catch(e){throw(0,a.S)(e),e}},updateTarget:async(e,t)=>{try{return(await n.Z.put("/system/target_revenue/".concat(e),t)).data}catch(e){throw(0,a.S)(e),e}},getLinksSystem:async()=>{try{return(await n.Z.get("/system/links_system")).data}catch(e){throw(0,a.S)(e),e}},getLinkSystem:async e=>{try{return(await n.Z.get("/system/link_system/".concat(e))).data}catch(e){throw(0,a.S)(e),e}},createLinkSystem:async e=>{try{return(await n.Z.post("/system/link_system",e)).data}catch(e){throw(0,a.S)(e),e}},updateLinkSystem:async(e,t)=>{try{return(await n.Z.put("/system/link_system/".concat(e),t)).data}catch(e){throw(0,a.S)(e),e}}}}}]);