(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9633],{2911:function(e,t,n){Promise.resolve().then(n.bind(n,4858))},48467:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=Number.isNaN||function(e){return"number"==typeof e&&e!=e};function a(e,t){if(e.length!==t.length)return!1;for(var n,a,i=0;i<e.length;i++)if(!((n=e[i])===(a=t[i])||r(n)&&r(a)))return!1;return!0}function i(e,t){void 0===t&&(t=a);var n=null;function r(){for(var r=[],a=0;a<arguments.length;a++)r[a]=arguments[a];if(n&&n.lastThis===this&&t(r,n.lastArgs))return n.lastResult;var i=e.apply(this,r);return n={lastResult:i,lastArgs:r,lastThis:this},i}return r.clear=function(){n=null},r}},87863:function(e,t,n){"use strict";n.d(t,{C:function(){return Z}});var r=n(2265),a=n(36760),i=n.n(a),l=n(38503),o=n(28791),s=n(6543),c=n(71744),d=n(64024),u=n(33759),p=n(28617);let f=r.createContext({});var h=n(95201),m=n(12918),g=n(99320),v=n(71140);let x=e=>{let{antCls:t,componentCls:n,iconCls:r,avatarBg:a,avatarColor:i,containerSize:l,containerSizeLG:o,containerSizeSM:s,textFontSize:c,textFontSizeLG:d,textFontSizeSM:u,borderRadius:p,borderRadiusLG:f,borderRadiusSM:g,lineWidth:v,lineType:x}=e,y=(e,t,a)=>({width:e,height:e,borderRadius:"50%",["&".concat(n,"-square")]:{borderRadius:a},["&".concat(n,"-icon")]:{fontSize:t,["> ".concat(r)]:{margin:0}}});return{[n]:Object.assign(Object.assign(Object.assign(Object.assign({},(0,m.Wf)(e)),{position:"relative",display:"inline-flex",justifyContent:"center",alignItems:"center",overflow:"hidden",color:i,whiteSpace:"nowrap",textAlign:"center",verticalAlign:"middle",background:a,border:"".concat((0,h.unit)(v)," ").concat(x," transparent"),"&-image":{background:"transparent"},["".concat(t,"-image-img")]:{display:"block"}}),y(l,c,p)),{"&-lg":Object.assign({},y(o,d,f)),"&-sm":Object.assign({},y(s,u,g)),"> img":{display:"block",width:"100%",height:"100%",objectFit:"cover"}})}},y=e=>{let{componentCls:t,groupBorderColor:n,groupOverlapping:r,groupSpace:a}=e;return{["".concat(t,"-group")]:{display:"inline-flex",[t]:{borderColor:n},"> *:not(:first-child)":{marginInlineStart:r}},["".concat(t,"-group-popover")]:{["".concat(t," + ").concat(t)]:{marginInlineStart:a}}}};var b=(0,g.I$)("Avatar",e=>{let{colorTextLightSolid:t,colorTextPlaceholder:n}=e,r=(0,v.mergeToken)(e,{avatarBg:n,avatarColor:t});return[x(r),y(r)]},e=>{let{controlHeight:t,controlHeightLG:n,controlHeightSM:r,fontSize:a,fontSizeLG:i,fontSizeXL:l,fontSizeHeading3:o,marginXS:s,marginXXS:c,colorBorderBg:d}=e;return{containerSize:t,containerSizeLG:n,containerSizeSM:r,textFontSize:Math.round((i+l)/2),textFontSizeLG:o,textFontSizeSM:a,groupSpace:c,groupOverlapping:-s,groupBorderColor:d}}),j=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>t.indexOf(r)&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)0>t.indexOf(r[a])&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};let w=r.forwardRef((e,t)=>{let n;let[a,h]=r.useState(1),[m,g]=r.useState(!1),[v,x]=r.useState(!0),y=r.useRef(null),w=r.useRef(null),_=(0,o.sQ)(t,y),{getPrefixCls:C,avatar:k}=r.useContext(c.E_),O=r.useContext(f),Z=()=>{if(!w.current||!y.current)return;let t=w.current.offsetWidth,n=y.current.offsetWidth;if(0!==t&&0!==n){let{gap:r=4}=e;2*r<n&&h(n-2*r<t?(n-2*r)/t:1)}};r.useEffect(()=>{g(!0)},[]),r.useEffect(()=>{x(!0),h(1)},[e.src]),r.useEffect(Z,[e.gap]);let{prefixCls:S,shape:N,size:W,src:E,srcSet:P,icon:I,className:R,rootClassName:z,alt:B,draggable:T,children:A,crossOrigin:F}=e,D=j(e,["prefixCls","shape","size","src","srcSet","icon","className","rootClassName","alt","draggable","children","crossOrigin"]),L=(0,u.Z)(e=>{var t,n;return null!==(n=null!==(t=null!=W?W:null==O?void 0:O.size)&&void 0!==t?t:e)&&void 0!==n?n:"default"}),V=Object.keys("object"==typeof L&&L||{}).some(e=>["xs","sm","md","lg","xl","xxl"].includes(e)),M=(0,p.Z)(V),q=r.useMemo(()=>{if("object"!=typeof L)return{};let e=L[s.c4.find(e=>M[e])];return e?{width:e,height:e,fontSize:e&&(I||A)?e/2:18}:{}},[M,L]),G=C("avatar",S),H=(0,d.Z)(G),[K,Y,Q]=b(G,H),$=i()({["".concat(G,"-lg")]:"large"===L,["".concat(G,"-sm")]:"small"===L}),U=r.isValidElement(E),X=N||(null==O?void 0:O.shape)||"circle",J=i()(G,$,null==k?void 0:k.className,"".concat(G,"-").concat(X),{["".concat(G,"-image")]:U||E&&v,["".concat(G,"-icon")]:!!I},Q,H,R,z,Y),ee="number"==typeof L?{width:L,height:L,fontSize:I?L/2:18}:{};if("string"==typeof E&&v)n=r.createElement("img",{src:E,draggable:T,srcSet:P,onError:()=>{let{onError:t}=e;!1!==(null==t?void 0:t())&&x(!1)},alt:B,crossOrigin:F});else if(U)n=E;else if(I)n=I;else if(m||1!==a){let e="scale(".concat(a,")");n=r.createElement(l.default,{onResize:Z},r.createElement("span",{className:"".concat(G,"-string"),ref:w,style:Object.assign({},{msTransform:e,WebkitTransform:e,transform:e})},A))}else n=r.createElement("span",{className:"".concat(G,"-string"),style:{opacity:0},ref:w},A);return delete D.onError,delete D.gap,K(r.createElement("span",Object.assign({},D,{style:Object.assign(Object.assign(Object.assign(Object.assign({},ee),q),null==k?void 0:k.style),D.style),className:J,ref:_}),n))});var _=n(45287),C=n(19722),k=n(14301);let O=e=>{let{size:t,shape:n}=r.useContext(f),a=r.useMemo(()=>({size:e.size||t,shape:e.shape||n}),[e.size,e.shape,t,n]);return r.createElement(f.Provider,{value:a},e.children)};w.Group=e=>{var t,n,a;let{getPrefixCls:l,direction:o}=r.useContext(c.E_),{prefixCls:s,className:u,rootClassName:p,style:f,maxCount:h,maxStyle:m,size:g,shape:v,maxPopoverPlacement:x,maxPopoverTrigger:y,children:j,max:Z}=e,S=l("avatar",s),N="".concat(S,"-group"),W=(0,d.Z)(S),[E,P,I]=b(S,W),R=i()(N,{["".concat(N,"-rtl")]:"rtl"===o},I,W,u,p,P),z=(0,_.Z)(j).map((e,t)=>(0,C.Tm)(e,{key:"avatar-key-".concat(t)})),B=(null==Z?void 0:Z.count)||h,T=z.length;if(B&&B<T){let e=z.slice(0,B),l=z.slice(B,T),o=(null==Z?void 0:Z.style)||m,s=(null===(t=null==Z?void 0:Z.popover)||void 0===t?void 0:t.trigger)||y||"hover",c=(null===(n=null==Z?void 0:Z.popover)||void 0===n?void 0:n.placement)||x||"top",d=Object.assign(Object.assign({content:l},null==Z?void 0:Z.popover),{overlayClassName:i()("".concat(N,"-popover"),null===(a=null==Z?void 0:Z.popover)||void 0===a?void 0:a.overlayClassName),placement:c,trigger:s});return e.push(r.createElement(k.Z,Object.assign({key:"avatar-popover-key",destroyTooltipOnHide:!0},d),r.createElement(w,{style:o},"+".concat(T-B)))),E(r.createElement(O,{shape:v,size:g},r.createElement("div",{className:R,style:f},e)))}return E(r.createElement(O,{shape:v,size:g},r.createElement("div",{className:R,style:f},z)))};var Z=w},14301:function(e,t,n){"use strict";n.d(t,{Z:function(){return N}});var r=n(2265),a=n(36760),i=n.n(a),l=n(50506),o=n(95814);let s=e=>e?"function"==typeof e?e():e:null;var c=n(68710),d=n(19722),u=n(71744),p=n(89970),f=n(5769),h=n(12918),m=n(691),g=n(88260),v=n(34442),x=n(53454),y=n(99320),b=n(71140);let j=e=>{let{componentCls:t,popoverColor:n,titleMinWidth:r,fontWeightStrong:a,innerPadding:i,boxShadowSecondary:l,colorTextHeading:o,borderRadiusLG:s,zIndexPopup:c,titleMarginBottom:d,colorBgElevated:u,popoverBg:p,titleBorderBottom:f,innerContentPadding:m,titlePadding:v}=e;return[{[t]:Object.assign(Object.assign({},(0,h.Wf)(e)),{position:"absolute",top:0,left:{_skip_check_:!0,value:0},zIndex:c,fontWeight:"normal",whiteSpace:"normal",textAlign:"start",cursor:"auto",userSelect:"text","--valid-offset-x":"var(--arrow-offset-horizontal, var(--arrow-x))",transformOrigin:"var(--valid-offset-x, 50%) var(--arrow-y, 50%)","--antd-arrow-background-color":u,width:"max-content",maxWidth:"100vw","&-rtl":{direction:"rtl"},"&-hidden":{display:"none"},["".concat(t,"-content")]:{position:"relative"},["".concat(t,"-inner")]:{backgroundColor:p,backgroundClip:"padding-box",borderRadius:s,boxShadow:l,padding:i},["".concat(t,"-title")]:{minWidth:r,marginBottom:d,color:o,fontWeight:a,borderBottom:f,padding:v},["".concat(t,"-inner-content")]:{color:n,padding:m}})},(0,g.ZP)(e,"var(--antd-arrow-background-color)"),{["".concat(t,"-pure")]:{position:"relative",maxWidth:"none",margin:e.sizePopupArrow,display:"inline-block",["".concat(t,"-content")]:{display:"inline-block"}}}]},w=e=>{let{componentCls:t}=e;return{[t]:x.i.map(n=>{let r=e["".concat(n,"6")];return{["&".concat(t,"-").concat(n)]:{"--antd-arrow-background-color":r,["".concat(t,"-inner")]:{backgroundColor:r},["".concat(t,"-arrow")]:{background:"transparent"}}}})}};var _=(0,y.I$)("Popover",e=>{let{colorBgElevated:t,colorText:n}=e,r=(0,b.mergeToken)(e,{popoverBg:t,popoverColor:n});return[j(r),w(r),(0,m._y)(r,"zoom-big")]},e=>{let{lineWidth:t,controlHeight:n,fontHeight:r,padding:a,wireframe:i,zIndexPopupBase:l,borderRadiusLG:o,marginXS:s,lineType:c,colorSplit:d,paddingSM:u}=e,p=n-r;return Object.assign(Object.assign(Object.assign({titleMinWidth:177,zIndexPopup:l+30},(0,v.w)(e)),(0,g.wZ)({contentRadius:o,limitVerticalRadius:!0})),{innerPadding:i?0:12,titleMarginBottom:i?0:s,titlePadding:i?"".concat(p/2,"px ").concat(a,"px ").concat(p/2-t,"px"):0,titleBorderBottom:i?"".concat(t,"px ").concat(c," ").concat(d):"none",innerContentPadding:i?"".concat(u,"px ").concat(a,"px"):0})},{resetStyle:!1,deprecatedTokens:[["width","titleMinWidth"],["minWidth","titleMinWidth"]]}),C=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>t.indexOf(r)&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)0>t.indexOf(r[a])&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};let k=e=>{let{title:t,content:n,prefixCls:a}=e;return t||n?r.createElement(r.Fragment,null,t&&r.createElement("div",{className:"".concat(a,"-title")},t),n&&r.createElement("div",{className:"".concat(a,"-inner-content")},n)):null},O=e=>{let{hashId:t,prefixCls:n,className:a,style:l,placement:o="top",title:c,content:d,children:u}=e,p=s(c),h=s(d),m=i()(t,n,"".concat(n,"-pure"),"".concat(n,"-placement-").concat(o),a);return r.createElement("div",{className:m,style:l},r.createElement("div",{className:"".concat(n,"-arrow")}),r.createElement(f.Popup,Object.assign({},e,{className:t,prefixCls:n}),u||r.createElement(k,{prefixCls:n,title:p,content:h})))};var Z=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>t.indexOf(r)&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)0>t.indexOf(r[a])&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};let S=r.forwardRef((e,t)=>{var n,a;let{prefixCls:f,title:h,content:m,overlayClassName:g,placement:v="top",trigger:x="hover",children:y,mouseEnterDelay:b=.1,mouseLeaveDelay:j=.1,onOpenChange:w,overlayStyle:C={}}=e,O=Z(e,["prefixCls","title","content","overlayClassName","placement","trigger","children","mouseEnterDelay","mouseLeaveDelay","onOpenChange","overlayStyle"]),{getPrefixCls:S}=r.useContext(u.E_),N=S("popover",f),[W,E,P]=_(N),I=S(),R=i()(g,E,P),[z,B]=(0,l.Z)(!1,{value:null!==(n=e.open)&&void 0!==n?n:e.visible,defaultValue:null!==(a=e.defaultOpen)&&void 0!==a?a:e.defaultVisible}),T=(e,t)=>{B(e,!0),null==w||w(e,t)},A=e=>{e.keyCode===o.Z.ESC&&T(!1,e)},F=s(h),D=s(m);return W(r.createElement(p.Z,Object.assign({placement:v,trigger:x,mouseEnterDelay:b,mouseLeaveDelay:j,overlayStyle:C},O,{prefixCls:N,overlayClassName:R,ref:t,open:z,onOpenChange:e=>{T(e)},overlay:F||D?r.createElement(k,{prefixCls:N,title:F,content:D}):null,transitionName:(0,c.m)(I,"zoom-big",O.transitionName),"data-popover-inject":!0}),(0,d.Tm)(y,{onKeyDown:e=>{var t,n;r.isValidElement(y)&&(null===(n=null==y?void 0:(t=y.props).onKeyDown)||void 0===n||n.call(t,e)),A(e)}})))});S._InternalPanelDoNotUseOrYouWillBeFired=e=>{let{prefixCls:t,className:n}=e,a=C(e,["prefixCls","className"]),{getPrefixCls:l}=r.useContext(u.E_),o=l("popover",t),[s,c,d]=_(o);return s(r.createElement(O,Object.assign({},a,{prefixCls:o,hashId:c,className:i()(n,d)})))};var N=S},3071:function(e,t,n){"use strict";n.d(t,{Dz:function(){return a},Oq:function(){return p},cv:function(){return d},dO:function(){return s},iz:function(){return f},jn:function(){return i},oc:function(){return u}});var r=n(69398),a=function(e){var t=e.top,n=e.right,r=e.bottom,a=e.left;return{top:t,right:n,bottom:r,left:a,width:n-a,height:r-t,x:a,y:t,center:{x:(n+a)/2,y:(r+t)/2}}},i=function(e,t){return{top:e.top-t.top,left:e.left-t.left,bottom:e.bottom+t.bottom,right:e.right+t.right}},l=function(e,t){return{top:e.top+t.top,left:e.left+t.left,bottom:e.bottom-t.bottom,right:e.right-t.right}},o={top:0,right:0,bottom:0,left:0},s=function(e){var t=e.borderBox,n=e.margin,r=void 0===n?o:n,s=e.border,c=void 0===s?o:s,d=e.padding,u=void 0===d?o:d,p=a(i(t,r)),f=a(l(t,c)),h=a(l(f,u));return{marginBox:p,borderBox:a(t),paddingBox:f,contentBox:h,margin:r,border:c,padding:u}},c=function(e){var t=e.slice(0,-2);if("px"!==e.slice(-2))return 0;var n=Number(t);return isNaN(n)&&(0,r.Z)(!1),n},d=function(e,t){var n=e.borderBox,r=e.border,a=e.margin,i=e.padding;return s({borderBox:{top:n.top+t.y,left:n.left+t.x,bottom:n.bottom+t.y,right:n.right+t.x},border:r,margin:a,padding:i})},u=function(e,t){return void 0===t&&(t={x:window.pageXOffset,y:window.pageYOffset}),d(e,t)},p=function(e,t){return s({borderBox:e,margin:{top:c(t.marginTop),right:c(t.marginRight),bottom:c(t.marginBottom),left:c(t.marginLeft)},padding:{top:c(t.paddingTop),right:c(t.paddingRight),bottom:c(t.paddingBottom),left:c(t.paddingLeft)},border:{top:c(t.borderTopWidth),right:c(t.borderRightWidth),bottom:c(t.borderBottomWidth),left:c(t.borderLeftWidth)}})},f=function(e){return p(e.getBoundingClientRect(),window.getComputedStyle(e))}},99376:function(e,t,n){"use strict";var r=n(35475);n.o(r,"useParams")&&n.d(t,{useParams:function(){return r.useParams}}),n.o(r,"usePathname")&&n.d(t,{usePathname:function(){return r.usePathname}}),n.o(r,"useRouter")&&n.d(t,{useRouter:function(){return r.useRouter}}),n.o(r,"useSearchParams")&&n.d(t,{useSearchParams:function(){return r.useSearchParams}})},64119:function(e,t){"use strict";t.Z=function(e){var t=[],n=null,r=function(){for(var r=arguments.length,a=Array(r),i=0;i<r;i++)a[i]=arguments[i];t=a,n||(n=requestAnimationFrame(function(){n=null,e.apply(void 0,t)}))};return r.cancel=function(){n&&(cancelAnimationFrame(n),n=null)},r}},60343:function(e,t,n){"use strict";n.d(t,{I4:function(){return l},Ye:function(){return i}});var r=n(2265);function a(e,t){var n=(0,r.useState)(function(){return{inputs:t,result:e()}})[0],a=(0,r.useRef)(!0),i=(0,r.useRef)(n),l=a.current||t&&i.current.inputs&&function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}(t,i.current.inputs)?i.current:{inputs:t,result:e()};return(0,r.useEffect)(function(){a.current=!1,i.current=l},[l]),l.result}var i=a,l=function(e,t){return a(function(){return e},t)}},4858:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return N}});var r=n(57437),a=n(78687),i=n(2265),l=n(82762),o=n(45008),s=n(73609),c=n(66789),d=n(14301),u=n(84154),p=n(32768),f=n(68575),h=n(67545),m=n(99376);function g(){let e=(0,o._)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: flex-start;\n  gap: 2px;\n  min-height: 80px;\n  border-radius: 5px;\n  overflow: hidden;\n  max-width: 311px;\n  background: white;\n  margin-top: 15px;\n\n  .secondary-details {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    width: 100%;\n    font-size: 12px;\n    font-weight: 400px;\n    color: #7d7d7d;\n  }\n  /* .priority{ */\n  /* margin-right: 12px; */\n  /* align-self: center;\n    svg{\n      width: 12px !important;\n      height: 12px !important;\n      margin-right: 12px; */\n  /* margin-top: 2px; */\n  /* } */\n  /* } */\n"]);return g=function(){return e},e}let v=s.Z.div(g());var x=e=>{let{item:t,index:n}=e,{id:a}=(0,m.useParams)(),o=(0,i.useRef)(),{datas:s}=(0,f.v9)(e=>e.get_contracts);return(0,r.jsx)(l._l,{draggableId:t.activity_id,index:n,children:e=>{var n,i,l,f;return(0,r.jsxs)("div",{onClick:()=>{},ref:e.innerRef,...e.draggableProps,...e.dragHandleProps,children:[(0,r.jsxs)(v,{className:"shadow-[0px_2px_3px_-1px_rgba(0,0,0,0.1),0px_1px_0px_0px_rgba(25,28,33,0.02),0px_0px_0px_1px_rgba(25,28,33,0.08)]",onClick:()=>{var e;null===(e=o.current)||void 0===e||e.click()},children:[t.picture_urls&&(null===(n=t.picture_urls)||void 0===n?void 0:n.length)>0&&(0,r.jsx)("div",{className:"w-full h-40 overflow-hidden",onClick:e=>{e.stopPropagation()},children:(0,r.jsx)("div",{className:"h-full",children:(0,r.jsx)(c.Z,{alt:"",width:270,height:160,className:"object-cover",src:t.picture_urls[t.picture_urls.length-1].url})})}),(0,r.jsxs)("div",{className:"p-3 w-full flex flex-col gap-2",children:[(0,r.jsxs)("div",{className:"flex justify-between w-full",children:[(0,r.jsx)("div",{children:(0,r.jsx)("p",{className:"text-sm font-semibold",children:t.name})}),(0,r.jsx)("div",{children:(0,r.jsx)("div",{className:"secondary-details",children:(0,r.jsx)("p",{children:(0,r.jsx)("span",{children:new Date(t.created_at).toLocaleDateString("en-us",{month:"short",day:"2-digit"})})})})})]}),(0,r.jsxs)("div",{className:"flex justify-between w-full",children:[(0,r.jsxs)("div",{className:"flex gap-4",children:[(0,r.jsx)(d.Z,{content:t.description,children:(0,r.jsx)(p.lIk,{})}),(0,r.jsxs)("div",{className:"flex gap-1 items-center",children:[(0,r.jsx)(u.G1z,{}),(0,r.jsx)("p",{className:"text-xs font-light",children:null!==(f=null===(i=t.picture_urls)||void 0===i?void 0:i.length)&&void 0!==f?f:0})]})]}),(0,r.jsx)("p",{className:"text-xs text-black/40 font-bold",children:null===(l=s.find(e=>{var n;return e.contract_id===(null!==(n=null==t?void 0:t.contract)&&void 0!==n?n:"")}))||void 0===l?void 0:l.name_contract})]})]})]}),(0,r.jsx)(h.Z,{ID:null==t?void 0:t.activity_id,idType:a,refBtn:o,type:"schedule"})]})}},t.activity_id)},y=n(24307),b=n(16534),j=n(27929),w=n(46475),_=n(9626),C=()=>{let[e,t]=(0,i.useState)([]),{id:n}=(0,m.useParams)(),{postdata:a}=(0,w.Z)(),o=(0,f.I0)();(0,i.useEffect)(()=>{n&&o((0,j.N)(n.toString()))},[n]);let{datas:s}=(0,f.v9)(e=>e.get_type_id_activities);(0,i.useEffect)(()=>{var e;t(null!==(e=null==s?void 0:s.status)&&void 0!==e?e:[])},[s]);let c=async e=>{let t=e.map(e=>e.activity.map((t,n)=>({activity_id:t.activity_id,status:e.status_activity_id,position:n+1}))).flat();200===await a(()=>y.Z.updateStatusListActivity(t))&&o((0,j.N)(n.toString()))},d=(e,t,n)=>{if(!e.destination)return;let{source:r,destination:a}=e;if(r.droppableId!==a.droppableId){let e=t[Number(r.droppableId)],i=t[Number(a.droppableId)],l=[...e.activity],o=[...i.activity],[s]=l.splice(r.index,1);o.splice(a.index,0,s),n(e=>e.map((e,t)=>t===Number(r.droppableId)?{...e,activity:l}:t===Number(a.droppableId)?{...e,activity:o}:e)),c(t.map((e,t)=>t===Number(r.droppableId)?{...e,activity:l}:t===Number(a.droppableId)?{...e,activity:o}:e))}else{let e=[...t[Number(r.droppableId)].activity],[i]=e.splice(r.index,1);e.splice(a.index,0,i),n(t=>t.map((t,n)=>n===Number(r.droppableId)?{...t,activity:e}:t)),c(t.map((t,n)=>n===Number(r.droppableId)?{...t,activity:e}:t))}};return(0,r.jsx)(l.Z5,{onDragEnd:n=>{d(n,e,t)},children:(0,r.jsx)("div",{className:"flex sm:justify-normal justify-center",children:(0,r.jsx)("div",{className:"flex w-full min-h-[60vh] flex-wrap gap-4 sm:justify-normal justify-center",children:Object.entries(e).map(e=>{let[t,a]=e;return(0,r.jsx)(l.bK,{droppableId:t,children:e=>(0,r.jsxs)("div",{className:"bg-gray-100",style:{minHeight:"100px",display:"flex",maxHeight:"fit-content",flexDirection:"column",minWidth:"300px",borderRadius:"15px",padding:"15px 15px"},ref:e.innerRef,...e.droppableProps,children:[(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsx)("div",{style:{fontWeight:"bold",color:"#1BA29B",fontSize:16,marginBottom:"1.5px"},children:a.name}),(0,r.jsx)("div",{children:(0,r.jsx)(b.P66,{})})]}),(0,r.jsx)("div",{className:"max-h-[70vh] overflow-auto min-h-8",children:a.activity.map((e,t)=>(0,r.jsx)(x,{item:e,index:t},t))}),(0,r.jsx)("div",{children:(0,r.jsx)(_.Z,{idStatus:a.status_activity_id,idType:n,type:"schedule"})})]})},t)})})})})};function k(){return(0,r.jsx)("div",{children:(0,r.jsx)(C,{})})}var O=n(94899),Z=n(2950),S=n(65624);function N(){let e=(0,f.I0)(),t=(0,S.Z)(["admin-top","activity","activity-read"]);return(0,i.useEffect)(()=>{t&&(e((0,O.cW)()),e((0,Z.Wq)(null)))},[e,t]),(0,r.jsx)(r.Fragment,{children:t?(0,r.jsx)("div",{className:"sm:p-8 p-2 bg-[#001529] h-full",children:(0,r.jsx)(k,{})}):(0,r.jsx)(a.Z,{})})}},67545:function(e,t,n){"use strict";n.d(t,{Z:function(){return Z}});var r=n(57437),a=n(46475),i=n(11265),l=n(24307),o=n(91626),s=n(58970),c=n(42654),d=n(44967),u=n(11632),p=n(23496),f=n(16836),h=n(29487),m=n(45747),g=n(7140),v=n(2265),x=n(68575),y=n(27929),b=n(63302),j=n(60792),w=n(45407),_=n(83458),C=n(21544),k=n(99376),O=n(15162);function Z(e){let{ID:t,idType:n,type:Z,refBtn:S,setID:N}=e,W=(0,v.useRef)(),E=(0,v.useRef)(),P=(0,v.useRef)(),I=(0,v.useRef)(),R=(0,v.useRef)(),z=(0,v.useRef)(),[B,T]=(0,v.useState)(""),{datas:A}=(0,x.v9)(e=>e.get_type_activities),{datas:F}=(0,x.v9)(e=>e.get_contracts),{projectID:D}=(0,k.useParams)(),[L]=(0,h.Z)(),{postdata:V}=(0,a.Z)(),M=(0,x.I0)(),[q,G]=(0,v.useState)(!1),[H,K]=(0,v.useState)(""),[Y,Q]=(0,v.useState)([]),$=async()=>{let e=await l.Z.getActivityById(t);if(200===e.statusCode){let t=e.data;L.setFieldsValue(t),K(e.data.type)}};(0,v.useEffect)(()=>{if(H){var e,t;Q(null!==(t=null===(e=A.find(e=>e.type_activity_id===H))||void 0===e?void 0:e.status)&&void 0!==t?t:[])}},[H]);let U=async e=>{console.log(t);let r=await V(()=>l.Z.updateActivity(t,e));(200===r||201===r)&&($(),Z||M((0,i.ij)({project:D})),"schedule"===Z&&M((0,y.N)(n)),"gantt"===Z&&N&&(M((0,i.ij)({})),N("")))},X=async()=>{L.submit()};return(0,v.useEffect)(()=>{if(""!==B){var e;null===(e=z.current)||void 0===e||e.click()}},[B]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(o.ZP,{hidden:!!Z,className:"  text-xs text-yellow-500 font-semibold",type:"text",ref:S,onClick:()=>{G(!0),$()},children:"Chỉnh sửa"}),(0,r.jsx)(s.Z,{title:"Cập nhật hoạt động",open:q,onCancel:()=>{G(!1),N&&N("")},footer:null,width:"100%",style:{maxWidth:"800px"},children:(0,r.jsx)(c.Z,{defaultActiveKey:"1",style:{width:"100%"},type:"line",children:(0,r.jsxs)(g.Z,{tab:"Th\xf4ng tin hoạt động",children:[(0,r.jsxs)(d.Z,{layout:"vertical",form:L,onFinish:U,style:{display:"flex",flexWrap:"wrap",columnGap:"12px"},children:[(0,r.jsx)(d.Z.Item,{name:"type",label:"Loại hoạt động",rules:[{required:!0,message:"Vui l\xf2ng chọn loại hoạt động!"}],style:{width:"100%",flex:"1 1 0%"},children:(0,r.jsx)(u.Z,{disabled:!0,placeholder:"Chọn loại",onChange:e=>{K(e)},showSearch:!0,filterOption:(e,t)=>{var n;return(Array.isArray(null==t?void 0:t.children)?t.children.join(""):null!==(n=null==t?void 0:t.children)&&void 0!==n?n:"").toLowerCase().includes(e.toLowerCase())},dropdownRender:e=>(0,r.jsxs)(r.Fragment,{children:[e,(0,r.jsx)(p.Z,{style:{margin:"8px 0"}}),(0,r.jsx)(o.ZP,{type:"link",onClick:()=>{var e;null===(e=W.current)||void 0===e||e.click()},children:"+ Th\xeam t\xf9y chọn mới"})]}),children:null==A?void 0:A.map(e=>(0,r.jsx)(m.W,{value:e.type_activity_id,children:e.name},e.type_activity_id))})}),(0,r.jsx)(d.Z.Item,{name:"name",label:"T\xean hoạt động",rules:[{required:!0,type:"string",message:"Vui l\xf2ng nhập t\xean hoạt động"}],style:{minWidth:"100%",flex:"1 1 0%"},children:(0,r.jsx)(f.default,{})}),(0,r.jsx)(d.Z.Item,{name:"status",label:"Trạng th\xe1i",style:{minWidth:"240px",flex:"1 1 0%"},children:(0,r.jsx)(u.Z,{disabled:!0,placeholder:"Chọn loại",showSearch:!0,filterOption:(e,t)=>{var n;return(Array.isArray(null==t?void 0:t.children)?t.children.join(""):null!==(n=null==t?void 0:t.children)&&void 0!==n?n:"").toLowerCase().includes(e.toLowerCase())},dropdownRender:e=>(0,r.jsxs)(r.Fragment,{children:[e,(0,r.jsx)(p.Z,{style:{margin:"8px 0"}}),(0,r.jsx)(o.ZP,{type:"link",onClick:()=>{var e;null===(e=P.current)||void 0===e||e.click()},children:"+ Th\xeam t\xf9y chọn mới"})]}),children:null==Y?void 0:Y.map(e=>(0,r.jsx)(m.W,{value:e.status_activity_id,children:e.name},e.status_activity_id))})}),(0,r.jsx)(d.Z.Item,{name:"contract",label:"Hợp động",style:{minWidth:"240px",flex:"1 1 0%"},children:(0,r.jsx)(u.Z,{placeholder:"Chọn hợp động",showSearch:!0,filterOption:(e,t)=>{var n;return(Array.isArray(null==t?void 0:t.children)?t.children.join(""):null!==(n=null==t?void 0:t.children)&&void 0!==n?n:"").toLowerCase().includes(e.toLowerCase())},dropdownRender:e=>(0,r.jsxs)(r.Fragment,{children:[e,(0,r.jsx)(p.Z,{style:{margin:"8px 0"}}),(0,r.jsx)(o.ZP,{type:"link",onClick:()=>{var e;null===(e=E.current)||void 0===e||e.click()},children:"+ Th\xeam t\xf9y chọn mới"})]}),children:null==F?void 0:F.map(e=>(0,r.jsx)(m.W,{value:e.contract_id,children:e.name_contract},e.contract_id))})}),(0,r.jsx)(d.Z.Item,{name:"description",label:"M\xf4 tả",style:{width:"100%"},children:(0,r.jsx)(f.default.TextArea,{placeholder:"Description",autoSize:{minRows:3}})})]}),(0,r.jsx)("div",{className:"flex justify-end w-full mt-4",children:(0,r.jsx)(o.ZP,{type:"primary",onClick:X,children:"Cập nhật"})})]},1)})}),(0,r.jsx)(b.Z,{refBtnContract:E}),(0,r.jsx)(j.Z,{refBtnType:W}),(0,r.jsx)(w.Z,{refBtnStatus:P}),(0,r.jsx)(_.Z,{refBtnStatus:R}),(0,r.jsx)(C.Z,{refBtnType:I}),(0,r.jsx)(O.Z,{ID:B,refBtn:z,setID:T})]})}},78687:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var r=n(57437),a=n(71047),i=n(91626);function l(){return(0,r.jsx)(a.ZP,{status:"403",title:"403",subTitle:"Sorry, you are not authorized to access this page.",extra:(0,r.jsx)(i.ZP,{type:"primary",children:"Quay lại"})})}n(2265)},61232:function(e,t,n){"use strict";n.d(t,{vh:function(){return i}});var r=n(20301),a=n(24307);let i=(0,r.hg)("statusWork/fetchStatusWork",async(e,t)=>{try{return await a.Z.getAllStatusWorks()}catch(e){return t.rejectWithValue("Failed to fetch Status activities")}}),l=(0,r.hg)("statusWork/createStatusWork",async(e,t)=>{try{return await a.Z.createStatusWork(e)}catch(e){return t.rejectWithValue("Failed to create Status activity")}}),o=(0,r.hg)("statusWork/updateStatusWork",async(e,t)=>{let{Status_id:n,data:r}=e;try{return await a.Z.updateStatusWork(n,r)}catch(e){return t.rejectWithValue("Failed to update Status activity")}}),s=(0,r.oM)({name:"statusWork",initialState:{datas:[],loading:!1,error:null},reducers:{},extraReducers:e=>{e.addCase(i.pending,e=>{e.loading=!0,e.error=null}).addCase(i.fulfilled,(e,t)=>{e.loading=!1,e.datas=t.payload.data}).addCase(i.rejected,(e,t)=>{e.loading=!1,e.error=t.payload}).addCase(l.fulfilled,(e,t)=>{e.datas.push(t.payload.data)}).addCase(o.fulfilled,(e,t)=>{let n=e.datas.findIndex(e=>e.status_work_id===t.payload.data.status_work_id);-1!==n&&(e.datas[n]=t.payload.data)})}}).reducer;t.ZP=s},96248:function(e,t,n){"use strict";n.d(t,{D:function(){return i}});var r=n(20301),a=n(24307);let i=(0,r.hg)("typeWork/fetchTypeWork",async(e,t)=>{try{return await a.Z.getAllTypeWorks()}catch(e){return t.rejectWithValue("Failed to fetch type Work")}}),l=(0,r.hg)("typeWork/createTypeWork",async(e,t)=>{try{return await a.Z.createTypeWork(e)}catch(e){return t.rejectWithValue("Failed to create type Work")}}),o=(0,r.hg)("typeWork/updateTypeWork",async(e,t)=>{let{type_id:n,data:r}=e;try{return await a.Z.updateTypeWork(n,r)}catch(e){return t.rejectWithValue("Failed to update type Work")}}),s=(0,r.oM)({name:"typeWork",initialState:{datas:[],loading:!1,error:null},reducers:{},extraReducers:e=>{e.addCase(i.pending,e=>{e.loading=!0,e.error=null}).addCase(i.fulfilled,(e,t)=>{e.loading=!1,e.datas=t.payload.data}).addCase(i.rejected,(e,t)=>{e.loading=!1,e.error=t.payload}).addCase(l.fulfilled,(e,t)=>{e.datas.push(t.payload.data)}).addCase(o.fulfilled,(e,t)=>{let n=e.datas.findIndex(e=>e.type_work_id===t.payload.data.type_work_id);-1!==n&&(e.datas[n]=t.payload.data)})}}).reducer;t.ZP=s},65624:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(2265),a=n(68575);function i(e){let[t,n]=(0,r.useState)(!1),{datas:i}=(0,a.v9)(e=>e.get_access_roles);return(0,r.useEffect)(()=>{i&&(null==i?void 0:i.length)>0&&n(i.some(t=>e.includes(t.role_type.name_tag)))},[i,e]),t}},45008:function(e,t,n){"use strict";function r(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}n.d(t,{_:function(){return r}})},69398:function(e,t,n){"use strict";function r(e,t){if(!e)throw Error("Invariant failed")}n.d(t,{Z:function(){return r}})}},function(e){e.O(0,[5652,6051,7699,5706,5452,1994,6950,522,3217,3338,5319,5651,6006,1047,8143,7526,7464,7821,3464,9481,314,9970,5270,1412,3281,7651,6399,5422,1250,8970,4967,3569,3344,6498,3984,136,6612,480,7580,8026,3609,4599,6966,2883,9626,5162,2971,2117,1744],function(){return e(e.s=2911)}),_N_E=e.O()}]);