(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[196],{88963:function(e,t,a){Promise.resolve().then(a.bind(a,54541))},54541:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return W}});var r=a(57437),n=a(2265),s=a(3810),l=a(4599),c=a(68575),i=a(31129);function o(){let{datas:e}=(0,c.v9)(e=>e.about_customer);return(0,r.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,r.jsxs)("div",{className:"flex gap-2 items-center flex-wrap",children:[(0,r.jsx)(l.Z,{}),(0,r.jsx)(i.Z,{})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"font-semibold text-[#1BA399]",children:"Tổng quan kh\xe1ch h\xe0ng"}),(0,r.jsxs)("div",{className:"flex justify-around gap-2 flex-wrap",children:[(0,r.jsxs)(s.Z,{className:"lex flex-col pl-4 pt-8 rounded-lg gap-2 min-w-48 flex-1 h-32 border-0 shadow-lg shadow-black/20 bg-[#EB8823]",children:[(0,r.jsx)("p",{className:"font-bold text-3xl text-white",children:null==e?void 0:e.totalCustomer.toLocaleString("vi-VN")}),(0,r.jsx)("p",{className:"text-xs text-wrap text-slate-50/80 min-w-36",children:"Tổng số kh\xe1ch h\xe0ng"})]}),(0,r.jsxs)(s.Z,{className:"lex flex-col pl-4 pt-8 rounded-lg gap-2 min-w-48 flex-1 h-32 bg-[#EB8823] border-0 shadow-lg  shadow-black/20",children:[(0,r.jsx)("p",{className:"font-bold text-3xl text-white",children:null==e?void 0:e.totalActive.toLocaleString("vi-VN")}),(0,r.jsx)("p",{className:"text-xs text-wrap text-slate-50/80 min-w-36",children:"Kh\xe1ch h\xe0ng đang hoạt động"})]}),(0,r.jsxs)(s.Z,{className:"lex flex-col pl-4 pt-8 rounded-lg gap-2 min-w-48 flex-1 h-32 bg-[#EB8823] border-0 shadow-lg  shadow-black/20",children:[(0,r.jsx)("p",{className:"font-bold text-3xl text-white",children:null==e?void 0:e.totalInActive.toLocaleString("vi-VN")}),(0,r.jsx)("p",{className:"text-xs text-wrap text-slate-50/80 min-w-36",children:"Kh\xe1ch h\xe0ng kh\xf4ng hoạt động"})]}),(0,r.jsxs)(s.Z,{className:"lex flex-col pl-4 pt-8 rounded-lg gap-2 min-w-48 flex-1 h-32 bg-[#EB8823] border-0 shadow-lg  shadow-black/20",children:[(0,r.jsx)("p",{className:"font-bold text-3xl text-white",children:null==e?void 0:e.contactActive.toLocaleString("vi-VN")}),(0,r.jsx)("p",{className:"text-xs text-wrap text-slate-50/80 min-w-36",children:"Li\xean hệ đang hoạt động"})]}),(0,r.jsxs)(s.Z,{className:"lex flex-col pl-4 pt-8 rounded-lg gap-2 min-w-48 flex-1 h-32 bg-[#EB8823] border-0 shadow-lg  shadow-black/20",children:[(0,r.jsx)("p",{className:"font-bold text-3xl text-white",children:null==e?void 0:e.contactInactive.toLocaleString("vi-VN")}),(0,r.jsx)("p",{className:"text-xs text-wrap text-slate-50/80 min-w-36",children:"Li\xean hệ \xedt hoạt động"})]}),(0,r.jsxs)(s.Z,{className:"lex flex-col pl-4 pt-8 rounded-lg gap-2 min-w-48 flex-1 h-32 bg-[#EB8823] border-0 shadow-lg  shadow-black/20",children:[(0,r.jsx)("p",{className:"font-bold text-3xl text-white",children:null==e?void 0:e.contactActiveToday.toLocaleString("vi-VN")}),(0,r.jsx)("p",{className:"text-xs text-wrap text-slate-50/80 min-w-36",children:"Li\xean hệ đăng nhập h\xf4m nay"})]})]})]})]})}var u=a(46475),d=a(53757),h=a(91626),m=a(66487),p=a(11632),g=a(91250),x=a(58970),y=a(56771),f=a(66349),w=a(3224),v=a(22744),j=a(58286),Z=a(65624),S=a(99376);function _(){let[e,t]=(0,n.useState)(25),a=(0,Z.Z)(["admin-top","customer","customer-edit"]),[l,i]=(0,n.useState)(""),[o,_]=(0,n.useState)([]),C=(0,c.I0)(),{datas:b}=(0,c.v9)(e=>e.get_filter_customer),[N,k]=(0,n.useState)(),{datas:I}=(0,c.v9)(e=>e.get_group_customer);(0,n.useEffect)(()=>{""!==l&&C((0,j.b)({group:"all"===l?void 0:l}))},[l]),(0,n.useEffect)(()=>{if(I){var e;_([...null!==(e=I.map(e=>{var t;return{value:e.group_id,label:null!==(t=e.name_group)&&void 0!==t?t:""}}))&&void 0!==e?e:[],{label:"Tất cả",value:"all"}])}},[I]);let{postdata:W}=(0,u.Z)(),L=[{title:"#",className:"text-xs",dataIndex:"info_id",render:(e,t,n)=>(0,r.jsxs)("div",{className:"flex flex-col gap-1 ",children:[(0,r.jsxs)("strong",{children:["#",n+1,"."]}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)(h.ZP,{type:"text",ghost:!0,className:"text-xs text-blue-600",onClick:()=>{window.location.href="/customer/info/".concat(e)},children:"Xem"}),a&&(0,r.jsx)(f.Z,{info_id:e})]})]}),sorter:(e,t)=>e.info_id.localeCompare(t.info_id)},{title:"T\xean kh\xe1ch h\xe0ng",className:"text-xs",dataIndex:"name_company",render:e=>(0,r.jsx)(r.Fragment,{children:e}),sorter:(e,t)=>e.name_company.localeCompare(t.name_company)},{title:"Li\xean hệ ch\xednh",className:"text-xs",dataIndex:["infoContacts","0","customer","full_name"],render:e=>(0,r.jsx)(r.Fragment,{children:(null==e?void 0:e.length)>15?"".concat(e.slice(0,15),"..."):e}),sorter:(e,t)=>e.infoContacts[0].customer.full_name.localeCompare(t.infoContacts[0].customer.full_name)},{title:"Email li\xean hệ",className:"text-xs",dataIndex:["infoContacts","0","customer","email"],sorter:(e,t)=>e.infoContacts[0].customer.email.localeCompare(t.infoContacts[0].customer.email)},{title:"Điện thoại",className:"text-xs",dataIndex:"phone_number",sorter:(e,t)=>e.phone_number.localeCompare(t.phone_number)},{title:"Đang hoạt động",className:"text-xs",dataIndex:"status_active",render:(e,t)=>(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(m.Z,{defaultChecked:"active"===e,onChange:async e=>{200===await W(()=>d.Z.updateStatusCustomer({info_id:t.info_id,status_active:e?"active":"inactive"}))&&(C((0,j.b)({group:""===l?void 0:l})),C((0,w.m)()))}})})},{title:"Nh\xf3m kh\xe1ch h\xe0ng",className:"text-xs",dataIndex:["group_customer","name_group"],sorter:(e,t)=>e.group_customer.name_group.localeCompare(t.group_customer.name_group),render:e=>(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(s.Z,{color:"gray",children:e})})},{title:"Ng\xe0y tạo",className:"text-xs",dataIndex:"created_at",render:e=>e?new Date(e).toLocaleDateString("vi-VN"):"N/A",sorter:(e,t)=>e.created_at.localeCompare(t.created_at)}],U=e=>{var t;k(null!==(t=null==b?void 0:b.filter(t=>{var a,r,n,s,l,c;return String(t.info_id+" "+t.created_at+" "+t.name_company+" "+(null==t?void 0:null===(n=t.infoContacts)||void 0===n?void 0:null===(r=n[0])||void 0===r?void 0:null===(a=r.customer)||void 0===a?void 0:a.full_name)+" "+(null==t?void 0:null===(c=t.infoContacts)||void 0===c?void 0:null===(l=c[0])||void 0===l?void 0:null===(s=l.customer)||void 0===s?void 0:s.email)+" "+t.phone_number).toLowerCase().includes(e.toLowerCase())}))&&void 0!==t?t:[])},[P,T]=(0,n.useState)(!1),[V,F]=(0,n.useState)([]),A=async()=>{200===await W(()=>d.Z.deleteInfoCustomer(V))&&(C((0,j.b)({group:""===l?void 0:l})),C((0,w.m)()),F([]),T(!1))},E=(0,S.useSearchParams)();return(0,n.useEffect)(()=>{let e=E.get("id");if(b&&e)U(e);else{var t;k(null!==(t=b.map((e,t)=>({...e,key:t})))&&void 0!==t?t:[])}},[b,E]),(0,r.jsxs)("div",{className:"",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-2 flex-wrap gap-y-2",children:[(0,r.jsxs)("div",{className:"flex items-center gap-1",children:[(0,r.jsx)(p.Z,{defaultValue:e,style:{width:83},onChange:e=>t(e),options:[{value:10,label:10},{value:25,label:25},{value:50,label:50},{value:100,label:100},{value:500,label:500},{value:1e3,label:1e3},{value:1e8,label:"Tất cả"}]}),(0,r.jsx)(h.ZP,{hidden:!(V.length>0),children:"Xuất ra"}),(0,r.jsx)(h.ZP,{onClick:()=>{T(!0)},danger:!0,hidden:!(V.length>0),className:"text-xl",icon:(0,r.jsx)(v.FH3,{})})]}),(0,r.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,r.jsx)(p.Z,{placeholder:"Nh\xf3m kh\xe1ch h\xe0ng",style:{minWidth:120,flex:"1 1 0%"},onChange:e=>{i(e)},showSearch:!0,allowClear:!0,filterOption:(e,t)=>{var a;return(Array.isArray(null==t?void 0:t.label)?t.label.join(""):null!==(a=null==t?void 0:t.label)&&void 0!==a?a:"").toLowerCase().includes(e.toLowerCase())},options:o}),(0,r.jsx)(y.Z,{onChange:e=>{U(e.target.value)},placeholder:"T\xecm kiếm",style:{width:200}})]})]}),(0,r.jsx)("div",{className:"w-full overflow-auto",children:(0,r.jsx)("div",{className:"min-w-fit",children:(0,r.jsx)(g.Z,{columns:L,rowSelection:{onChange:(e,t)=>{F(t.map(e=>e.info_id))}},dataSource:N,scroll:{x:"max-content"},pagination:{pageSize:e,showTotal:(e,t)=>"".concat(t[0],"-").concat(t[1]," of ").concat(e," items")},showSorterTooltip:{target:"sorter-icon"}})})}),(0,r.jsx)(x.Z,{open:P,title:"X\xf3a dữ liệu",onOk:A,onCancel:()=>{T(!1)},children:"Bạn c\xf3 chắc chắn muốn x\xf3a kh\xf4ng ?"})]})}function C(){let e=(0,Z.Z)(["admin-top","customer","customer-edit"]);return(0,r.jsx)("div",{children:(0,r.jsxs)("div",{className:"flex flex-col gap-4 rounded-md p-4 shadow-[0_8px_30px_rgb(0,0,0,0.12)] bg-white",children:[e&&(0,r.jsx)("div",{className:"rounded-md",children:(0,r.jsx)(o,{})}),(0,r.jsx)("div",{className:"rounded-md",children:(0,r.jsx)(_,{})})]})})}var b=a(78687),N=a(92094),k=a(19518),I=a(41259);function W(){let e=(0,c.I0)(),t=(0,Z.Z)(["admin-top","customer","customer-read"]);return(0,n.useEffect)(()=>{t&&(e((0,j.b)({})),e((0,w.m)()),e((0,I.C)()),e((0,k.d)()),e((0,N.V)()))},[e,t]),(0,r.jsx)("div",{className:"p-4",children:t?(0,r.jsx)(C,{}):(0,r.jsx)(b.Z,{})})}},66349:function(e,t,a){"use strict";a.d(t,{Z:function(){return S}});var r=a(57437),n=a(46475),s=a(3224),l=a(64985),c=a(16114),i=a(53757),o=a(79587),u=a(96473),d=a(44967),h=a(16836),m=a(11632),p=a(23496),g=a(91626),x=a(20347),y=a(58970),f=a(29487),w=a(45747),v=a(99376),j=a(2265),Z=a(68575);function S(e){let{info_id:t}=e,[a]=(0,f.Z)(),{customerID:S}=(0,v.useParams)(),[_,C]=(0,j.useState)([]),b=(0,j.useRef)(),N=(0,Z.I0)(),{datas:k}=(0,Z.v9)(e=>e.province_system),{postdata:I}=(0,n.Z)(),{datas:W}=(0,Z.v9)(e=>e.get_users),{datas:L}=(0,Z.v9)(e=>e.get_group_customer),[U,P]=(0,j.useState)(!1),T=async()=>{let e=await i.Z.getCustomerID(null!=t?t:S.toString());if(200===e.statusCode&&e.data){var r,n;a.setFieldsValue({...e.data,group_customer:null===(n=e.data)||void 0===n?void 0:null===(r=n.group_customer)||void 0===r?void 0:r.group_id}),N((0,l.K)()),N((0,s.m)()),C([{uid:e.data.customer_id,name:"logo.png",status:"done",url:e.data.picture_url}])}};(0,j.useEffect)(()=>{S&&!t&&T()},[S,t]);let V=e=>{let{file:t}=e;"removed"===t.status?C([]):C([t])},F=async e=>{var r;let n=(0,o.Z)(Object.entries({...e,info_id:null!=t?t:S.toString(),picture_url:_.length>0?[null==_?void 0:null===(r=_[0])||void 0===r?void 0:r.originFileObj]:null}).reduce((e,t)=>{let[a,r]=t;return null!=r&&(e[a]=r),e},{})),s=await I(()=>i.Z.updateCustomerInfo(n));(200===s||201===s)&&(a.resetFields(),P(!1))},A=(0,r.jsxs)("button",{style:{border:0,background:"none"},type:"button",children:[(0,r.jsx)(u.Z,{}),(0,r.jsx)("div",{style:{marginTop:8},children:"Upload"})]});return(0,r.jsx)(r.Fragment,{children:S?(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)(d.Z,{layout:"vertical",onFinish:F,form:a,style:{display:"flex",flexWrap:"wrap",gap:"8px"},children:[(0,r.jsxs)("div",{className:"flex flex-wrap gap-2 h-fit w-fit rounded-lg p-1",children:[(0,r.jsx)(d.Z.Item,{name:"name_company",className:"!m-0",label:"T\xean c\xf4ng ty",rules:[{required:!0,message:"Vui l\xf2ng nhập t\xean c\xf4ng ty!"}],style:{minWidth:"320px",flex:"1 1 0%"},children:(0,r.jsx)(h.default,{})}),(0,r.jsx)(d.Z.Item,{name:"group_customer",label:"Nh\xf3m kh\xe1ch h\xe0ng",rules:[{required:!0,message:"Vui l\xf2ng nhập nh\xf3m kh\xe1ch h\xe0ng!"}],style:{minWidth:"320px",flex:"1 1 0%"},children:(0,r.jsx)(m.Z,{placeholder:"Chọn nh\xf3m",showSearch:!0,filterOption:(e,t)=>{var a;return(Array.isArray(null==t?void 0:t.children)?t.children.join(""):null!==(a=null==t?void 0:t.children)&&void 0!==a?a:"").toLowerCase().includes(e.toLowerCase())},dropdownRender:e=>(0,r.jsxs)(r.Fragment,{children:[e,(0,r.jsx)(p.Z,{style:{margin:"8px 0"}}),(0,r.jsx)(g.ZP,{type:"link",onClick:()=>{var e;null===(e=b.current)||void 0===e||e.click()},children:"+ Th\xeam t\xf9y chọn mới"})]}),children:null==L?void 0:L.map(e=>(0,r.jsx)(w.W,{value:e.group_id,children:e.name_group},e.group_id))})}),(0,r.jsx)(d.Z.Item,{name:"tax_code",label:"M\xe3 số thuế",rules:[{required:!0,message:"Vui l\xf2ng nhập m\xe3 số thuế!"}],style:{minWidth:"320px",flex:"1 1 0%"},children:(0,r.jsx)(h.default,{})}),(0,r.jsx)(d.Z.Item,{name:"address_delivery",label:"Địa chỉ giao h\xe0ng",style:{minWidth:"320px",flex:"1 1 0%"},children:(0,r.jsx)(h.default,{})}),(0,r.jsx)(d.Z.Item,{name:"province",label:"Tỉnh/Th\xe0nh phố",rules:[{required:!0,message:"Vui l\xf2ng nhập tỉnh/th\xe0nh phố!"}],style:{minWidth:"320px",flex:"1 1 0%"},children:(0,r.jsx)(m.Z,{placeholder:"Chọn khu vực",children:null==k?void 0:k.map(e=>(0,r.jsx)(w.W,{value:e.province_id,children:e.name_province},e.province_id))})}),(0,r.jsx)(d.Z.Item,{name:"phone_number",label:"Số điện thoại",rules:[{required:!0,message:"Vui l\xf2ng nhập số điện thoại!"}],style:{minWidth:"320px",flex:"1 1 0%"},children:(0,r.jsx)(h.default,{})}),(0,r.jsx)(d.Z.Item,{name:"type_money",label:"Loại tiền tệ",style:{minWidth:"320px",flex:"1 1 0%"},children:(0,r.jsxs)(m.Z,{placeholder:"Select a currency type",defaultValue:"vnd",children:[(0,r.jsx)(w.W,{value:"vnd",children:"VND"}),(0,r.jsx)(w.W,{value:"usd",children:"USD"})]})}),(0,r.jsx)(d.Z.Item,{name:"staff_support",label:"Nh\xe2n vi\xean hỗ trợ",style:{minWidth:"320px",flex:"1 1 0%"},children:(0,r.jsx)(m.Z,{placeholder:"Chọn nh\xe2n vi\xean",showSearch:!0,filterOption:(e,t)=>{var a,r;return(null!==(r=null==t?void 0:null===(a=t.children)||void 0===a?void 0:a.join(""))&&void 0!==r?r:"").toLowerCase().includes(e.toLowerCase())},children:null==W?void 0:W.map(e=>(0,r.jsxs)(w.W,{value:e.user_id,children:[e.first_name," ",e.last_name]},e.user_id))})}),(0,r.jsx)(d.Z.Item,{name:"website",label:"Website",style:{minWidth:"320px",flex:"1 1 0%"},children:(0,r.jsx)(h.default,{})}),(0,r.jsx)(d.Z.Item,{name:"picture_url",label:"Ảnh đại diện",className:"!m-0",style:{minWidth:"320px",flex:"1 1 0%"},children:(0,r.jsx)(x.default,{maxCount:1,action:"",listType:"picture-card",fileList:_,onPreview:e=>{N((0,c.BZ)(e.url))},onChange:V,children:_.length>0?null:A})})]}),(0,r.jsx)(d.Z.Item,{style:{width:"100%",display:"flex",justifyContent:"end"},children:(0,r.jsx)(g.ZP,{type:"primary",htmlType:"submit",children:"Cập nhật"})})]})}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(g.ZP,{className:"  text-xs text-yellow-500 font-semibold",type:"text",onClick:()=>{P(!0),T()},children:"Chỉnh sửa"}),(0,r.jsx)(y.Z,{title:"Cập nhật kh\xe1ch h\xe0ng",open:U,onCancel:()=>{P(!1)},footer:null,width:"100%",style:{maxWidth:"800px"},children:(0,r.jsxs)(d.Z,{layout:"vertical",onFinish:F,form:a,style:{display:"flex",flexWrap:"wrap",gap:"8px"},children:[(0,r.jsxs)("div",{className:"flex flex-wrap gap-2 h-fit w-fit rounded-lg p-1",children:[(0,r.jsx)(d.Z.Item,{name:"name_company",className:"!m-0",label:"T\xean c\xf4ng ty",rules:[{required:!0,message:"Vui l\xf2ng nhập t\xean c\xf4ng ty!"}],style:{minWidth:"320px",flex:"1 1 0%"},children:(0,r.jsx)(h.default,{})}),(0,r.jsx)(d.Z.Item,{name:"group_customer",label:"Nh\xf3m kh\xe1ch h\xe0ng",rules:[{required:!0,message:"Vui l\xf2ng nhập nh\xf3m kh\xe1ch h\xe0ng!"}],style:{minWidth:"320px",flex:"1 1 0%"},children:(0,r.jsx)(m.Z,{placeholder:"Chọn nh\xf3m",showSearch:!0,filterOption:(e,t)=>{var a;return(Array.isArray(null==t?void 0:t.children)?t.children.join(""):null!==(a=null==t?void 0:t.children)&&void 0!==a?a:"").toLowerCase().includes(e.toLowerCase())},dropdownRender:e=>(0,r.jsxs)(r.Fragment,{children:[e,(0,r.jsx)(p.Z,{style:{margin:"8px 0"}}),(0,r.jsx)(g.ZP,{type:"link",onClick:()=>{var e;null===(e=b.current)||void 0===e||e.click()},children:"+ Th\xeam t\xf9y chọn mới"})]}),children:null==L?void 0:L.map(e=>(0,r.jsx)(w.W,{value:e.group_id,children:e.name_group},e.group_id))})}),(0,r.jsx)(d.Z.Item,{name:"tax_code",label:"M\xe3 số thuế",rules:[{required:!0,message:"Vui l\xf2ng nhập m\xe3 số thuế!"}],style:{minWidth:"320px",flex:"1 1 0%"},children:(0,r.jsx)(h.default,{})}),(0,r.jsx)(d.Z.Item,{name:"address_delivery",label:"Địa chỉ giao h\xe0ng",style:{minWidth:"320px",flex:"1 1 0%"},children:(0,r.jsx)(h.default,{})}),(0,r.jsx)(d.Z.Item,{name:"province",label:"Tỉnh/Th\xe0nh phố",rules:[{required:!0,message:"Vui l\xf2ng nhập tỉnh/th\xe0nh phố!"}],style:{minWidth:"320px",flex:"1 1 0%"},children:(0,r.jsx)(m.Z,{placeholder:"Chọn khu vực",children:null==k?void 0:k.map(e=>(0,r.jsx)(w.W,{value:e.province_id,children:e.name_province},e.province_id))})}),(0,r.jsx)(d.Z.Item,{name:"phone_number",label:"Số điện thoại",rules:[{required:!0,message:"Vui l\xf2ng nhập số điện thoại!"}],style:{minWidth:"320px",flex:"1 1 0%"},children:(0,r.jsx)(h.default,{})}),(0,r.jsx)(d.Z.Item,{name:"type_money",label:"Loại tiền tệ",style:{minWidth:"320px",flex:"1 1 0%"},children:(0,r.jsxs)(m.Z,{placeholder:"Select a currency type",defaultValue:"vnd",children:[(0,r.jsx)(w.W,{value:"vnd",children:"VND"}),(0,r.jsx)(w.W,{value:"usd",children:"USD"})]})}),(0,r.jsx)(d.Z.Item,{name:"staff_support",label:"Nh\xe2n vi\xean hỗ trợ",style:{minWidth:"320px",flex:"1 1 0%"},children:(0,r.jsx)(m.Z,{placeholder:"Chọn nh\xe2n vi\xean",showSearch:!0,filterOption:(e,t)=>{var a,r;return(null!==(r=null==t?void 0:null===(a=t.children)||void 0===a?void 0:a.join(""))&&void 0!==r?r:"").toLowerCase().includes(e.toLowerCase())},children:null==W?void 0:W.map(e=>(0,r.jsxs)(w.W,{value:e.user_id,children:[e.first_name," ",e.last_name]},e.user_id))})}),(0,r.jsx)(d.Z.Item,{name:"website",label:"Website",style:{minWidth:"320px",flex:"1 1 0%"},children:(0,r.jsx)(h.default,{})}),(0,r.jsx)(d.Z.Item,{name:"picture_url",label:"Ảnh đại diện",className:"!m-0",style:{minWidth:"320px",flex:"1 1 0%"},children:(0,r.jsx)(x.default,{maxCount:1,action:"",listType:"picture-card",fileList:_,onPreview:e=>{N((0,c.BZ)(e.url))},onChange:V,children:_.length>0?null:A})})]}),(0,r.jsx)(d.Z.Item,{style:{width:"100%",display:"flex",justifyContent:"end"},children:(0,r.jsx)(g.ZP,{type:"primary",htmlType:"submit",children:"Cập nhật"})})]})})]})})}},78687:function(e,t,a){"use strict";a.d(t,{Z:function(){return l}});var r=a(57437),n=a(71047),s=a(91626);function l(){return(0,r.jsx)(n.ZP,{status:"403",title:"403",subTitle:"Sorry, you are not authorized to access this page.",extra:(0,r.jsx)(s.ZP,{type:"primary",children:"Quay lại"})})}a(2265)},64985:function(e,t,a){"use strict";a.d(t,{K:function(){return s}});var r=a(53757),n=a(20301);let s=(0,n.hg)("customer/fetchCustomerInfos",async(e,t)=>{try{return await r.Z.getAllCustomer()}catch(e){return t.rejectWithValue("Failed to fetch customer Infos")}}),l=(0,n.oM)({name:"customer_info",initialState:{datas:[],loading:!1,error:null},reducers:{},extraReducers:e=>{e.addCase(s.pending,e=>{e.loading=!0,e.error=null}).addCase(s.fulfilled,(e,t)=>{200===t.payload.statusCode&&(e.loading=!1,e.datas=t.payload.data)}).addCase(s.rejected,(e,t)=>{e.loading=!1,e.error=t.payload})}}).reducer;t.Z=l},58286:function(e,t,a){"use strict";a.d(t,{b:function(){return s}});var r=a(53757),n=a(20301);let s=(0,n.hg)("customer/fetchCustomerFilter",async(e,t)=>{try{return await r.Z.getFilterCustomer(null!=e?e:{})}catch(e){return t.rejectWithValue("Failed to fetch customer Infos")}}),l=(0,n.oM)({name:"customer_info",initialState:{datas:[],loading:!1,error:null},reducers:{},extraReducers:e=>{e.addCase(s.pending,e=>{e.loading=!0,e.error=null}).addCase(s.fulfilled,(e,t)=>{200===t.payload.statusCode&&(e.loading=!1,e.datas=t.payload.data)}).addCase(s.rejected,(e,t)=>{e.loading=!1,e.error=t.payload})}}).reducer;t.Z=l},16114:function(e,t,a){"use strict";a.d(t,{BZ:function(){return n},Ln:function(){return s}});let r=(0,a(20301).oM)({name:"image-preview",initialState:{value:""},reducers:{onChangeImagePreview:(e,t)=>{e.value=t.payload},onDeleteImagePreview:e=>{e.value=""}}}),{onChangeImagePreview:n,onDeleteImagePreview:s}=r.actions;t.ZP=r.reducer},19518:function(e,t,a){"use strict";a.d(t,{d:function(){return s}});var r=a(64262),n=a(20301);let s=(0,n.hg)("system/fetchSystemProvinces",async(e,t)=>{try{return await r.Z.getProvinces()}catch(e){return t.rejectWithValue("Failed to fetch product Vats")}}),l=(0,n.oM)({name:"province_system",initialState:{datas:[],loading:!1,error:null},reducers:{},extraReducers:e=>{e.addCase(s.pending,e=>{e.loading=!0,e.error=null}).addCase(s.fulfilled,(e,t)=>{200===t.payload.statusCode&&(e.loading=!1,e.datas=t.payload.data)}).addCase(s.rejected,(e,t)=>{e.loading=!1,e.error=t.payload})}}).reducer;t.Z=l},41259:function(e,t,a){"use strict";a.d(t,{C:function(){return s}});var r=a(58143),n=a(20301);let s=(0,n.hg)("user/fetchUserInfo",async(e,t)=>{try{return await r.Z.getUsers()}catch(e){return t.rejectWithValue("Failed to fetch user info")}}),l=(0,n.oM)({name:"user_info",initialState:{datas:null,loading:!1,error:null},reducers:{},extraReducers:e=>{e.addCase(s.pending,e=>{e.loading=!0,e.error=null}).addCase(s.fulfilled,(e,t)=>{200===t.payload.statusCode&&(e.loading=!1,e.datas=t.payload.data)}).addCase(s.rejected,(e,t)=>{e.loading=!1,e.error=t.payload})}}).reducer;t.Z=l},28223:function(e,t,a){"use strict";a.d(t,{Y:function(){return s}});var r=a(83464);let n=r.Z.create({baseURL:"https://api.sparking.cloud",timeout:2e4,headers:{"Content-Type":"application/json"},withCredentials:!0}),s=r.Z.create({baseURL:"https://api.sparking.cloud",timeout:2e4,headers:{"Content-Type":"multipart/form-data"},withCredentials:!0});t.Z=n},53757:function(e,t,a){"use strict";var r=a(28223),n=a(90382);t.Z={getAllCustomer:async()=>{try{return(await r.Z.get("/customer/get-all-customer?limit=0&page=0")).data}catch(e){throw(0,n.S)(e),e}},getAboutCustomer:async()=>{try{return(await r.Z.get("/customer/get-about-customer")).data}catch(e){throw(0,n.S)(e),e}},deleteGroupCustomer:async e=>{try{return(await r.Z.delete("/customer/group-customer",{data:e})).data}catch(e){throw(0,n.S)(e),e}},getChartCustomer:async()=>{try{return(await r.Z.get("/customer/get-customer-dashboard")).data}catch(e){throw(0,n.S)(e),e}},getFilterCustomer:async e=>{try{let t=new URLSearchParams;return e&&Object.entries(e).forEach(e=>{let[a,r]=e;null!=r&&t.append(a,r.toString())}),(await r.Z.get("/customer/get-customer-filter?".concat(t.toString()))).data}catch(e){throw(0,n.S)(e),e}},getGroupCustomer:async()=>{try{return(await r.Z.get("/customer/get-group-customer")).data}catch(e){throw(0,n.S)(e),e}},getCustomerID:async e=>{try{return(await r.Z.get("/customer/get-customer-id?info_id=".concat(e))).data}catch(e){throw(0,n.S)(e),e}},createInfoCustomer:async e=>{try{return(await r.Y.post("/customer/create-customer-info",e)).data}catch(e){throw(0,n.S)(e),e}},createAccountCustomer:async e=>{try{return(await r.Y.post("/customer/create-account-customer",e)).data}catch(e){throw(0,n.S)(e),e}},getAllAccountCustomer:async e=>{try{let t=new URLSearchParams;return e&&Object.entries(e).forEach(e=>{let[a,r]=e;null!=r&&t.append(a,r.toString())}),(await r.Z.get("/customer/get-all-account-customer?".concat(t.toString()))).data}catch(e){throw(0,n.S)(e),e}},getIDAccountCustomer:async e=>{try{return(await r.Z.get("/customer/get-id-account-customer/".concat(e))).data}catch(e){throw(0,n.S)(e),e}},updateAccountCustomer:async(e,t)=>{try{return(await r.Y.put("/customer/update-account-customer/".concat(e),t)).data}catch(e){throw(0,n.S)(e),e}},deleteInfoCustomer:async e=>{try{return(await r.Z.delete("/customer/customer-info",{data:e})).data}catch(e){throw(0,n.S)(e),e}},createGroupCustomer:async e=>{try{return(await r.Z.post("/customer/create-group-customer",e)).data}catch(e){throw(0,n.S)(e),e}},updateGroupCustomer:async(e,t)=>{try{return(await r.Z.put("/customer/update-group-customer/".concat(e),t)).data}catch(e){throw(0,n.S)(e),e}},updateStatusCustomer:async e=>(await r.Z.put("/customer/update-status-customer",e)).data,updateCustomerInfo:async e=>(console.log(e),(await r.Y.put("/customer/update-customer-info",e)).data)}},64262:function(e,t,a){"use strict";var r=a(90382),n=a(28223);t.Z={getProvinces:async()=>{try{return(await n.Z.get("/system/provinces")).data}catch(e){throw(0,r.S)(e),e}},getVats:async()=>{try{return(await n.Z.get("/system/vats")).data}catch(e){throw(0,r.S)(e),e}},getVat:async e=>{try{return(await n.Z.get("/system/vat/".concat(e))).data}catch(e){throw(0,r.S)(e),e}},createVat:async e=>{try{return(await n.Z.post("/system/create-vat",{type_vat:e.type_vat})).data}catch(e){throw(0,r.S)(e),e}},updateVat:async(e,t)=>{try{return(await n.Z.put("/system/update-vat/".concat(e),t)).data}catch(e){throw(0,r.S)(e),e}},getProfits:async()=>{try{return(await n.Z.get("/system/profits")).data}catch(e){throw(0,r.S)(e),e}},getProfit:async e=>{try{return(await n.Z.get("/system/profit/".concat(e))).data}catch(e){throw(0,r.S)(e),e}},createProfit:async e=>{try{return(await n.Z.post("/system/create-profit",e)).data}catch(e){throw(0,r.S)(e),e}},updateProfit:async(e,t)=>{try{return(await n.Z.put("/system/profit/".concat(e),t)).data}catch(e){throw(0,r.S)(e),e}},getTargets:async()=>{try{return(await n.Z.get("/system/targets_revenue")).data}catch(e){throw(0,r.S)(e),e}},getTarget:async e=>{try{return(await n.Z.get("/system/target_revenue/".concat(e))).data}catch(e){throw(0,r.S)(e),e}},getTargetYear:async()=>{try{return(await n.Z.get("/system/target_revenue_year")).data}catch(e){throw(0,r.S)(e),e}},createTarget:async e=>{try{return(await n.Z.post("/system/target_revenue",e)).data}catch(e){throw(0,r.S)(e),e}},updateTarget:async(e,t)=>{try{return(await n.Z.put("/system/target_revenue/".concat(e),t)).data}catch(e){throw(0,r.S)(e),e}},getLinksSystem:async()=>{try{return(await n.Z.get("/system/links_system")).data}catch(e){throw(0,r.S)(e),e}},getLinkSystem:async e=>{try{return(await n.Z.get("/system/link_system/".concat(e))).data}catch(e){throw(0,r.S)(e),e}},createLinkSystem:async e=>{try{return(await n.Z.post("/system/link_system",e)).data}catch(e){throw(0,r.S)(e),e}},updateLinkSystem:async(e,t)=>{try{return(await n.Z.put("/system/link_system/".concat(e),t)).data}catch(e){throw(0,r.S)(e),e}}}},58143:function(e,t,a){"use strict";var r=a(90382),n=a(28223);t.Z={getUsers:async()=>{try{return(await n.Z.get("/user/all")).data}catch(e){throw(0,r.S)(e),e}},getProfile:async()=>{try{return(await n.Z.get("/user/profile",{withCredentials:!0})).data}catch(e){throw(0,r.S)(e),e}},getUserIDAdmin:async e=>{try{return(await n.Z.get("/user/admin/id/".concat(e))).data}catch(e){throw(0,r.S)(e),e}},getUserIDAdminByUser:async()=>{try{return(await n.Z.get("/user/user")).data}catch(e){throw(0,r.S)(e),e}},loginUser:async e=>(await n.Z.post("/auth/login",e,{withCredentials:!0})).data,sendSign:async e=>(await n.Z.post("/auth/send-req-sign",e,{withCredentials:!0})).data,logoutUser:async()=>(await n.Z.post("/auth/logout")).data,createUser:async e=>{try{return(await n.Y.post("/user/create",e)).data}catch(e){throw(0,r.S)(e),e}},deleteUser:async e=>{try{return(await n.Z.delete("/user",{data:e})).data}catch(e){throw(0,r.S)(e),e}},updateUser:async(e,t)=>{try{return(await n.Y.put("/user/update/".concat(e),t)).data}catch(e){throw(0,r.S)(e),e}},updateUserProfile:async e=>{try{return(await n.Y.put("/user/update-profile",e)).data}catch(e){throw(0,r.S)(e),e}},updatePasswordUser:async e=>{try{return(await n.Z.put("/user/update-password",e)).data}catch(e){throw(0,r.S)(e),e}},getCategoryRoleFull:async()=>{try{return(await n.Z.get("/user/category-role-full")).data}catch(e){throw(0,r.S)(e),e}},getRoleUserFullByID:async e=>{try{return(await n.Z.get("/user/get-full-role-user-id/".concat(e))).data}catch(e){throw(0,r.S)(e),e}},getRoleUserFullByUser:async()=>{try{return(await n.Z.get("/user/get-full-role-user")).data}catch(e){throw(0,r.S)(e),e}},getRoleUserFullByAccess:async()=>{try{return(await n.Z.get("/user/get-full-role-user-access/")).data}catch(e){throw(0,r.S)(e),e}},updateRoleUserFullByID:async(e,t)=>{try{return(await n.Z.post("/user/full-role-user-id/".concat(e),t)).data}catch(e){throw(0,r.S)(e),e}},updateGroupRole:async(e,t)=>{try{return(await n.Z.put("/user/group-role/".concat(e),t)).data}catch(e){throw(0,r.S)(e),e}},getRoleByGroup:async e=>{try{return(await n.Z.get("/user/group-role/".concat(e))).data}catch(e){throw(0,r.S)(e),e}},getGroupUser:async()=>{try{return(await n.Z.get("/user/get-group-user")).data}catch(e){throw(0,r.S)(e),e}},getNotifyUser:async(e,t)=>{try{return(await n.Z.get("/user/get-notify?page=".concat(e,"&limit=").concat(t))).data}catch(e){throw(0,r.S)(e),e}},updateNotifyUser:async e=>{try{if(e)return(await n.Z.put("/user/update-notify/".concat(e))).data;return(await n.Z.put("/user/update-all-notify")).data}catch(e){throw(0,r.S)(e),e}},getCountNotifyUser:async()=>{try{return(await n.Z.get("/user/get-count-notify")).data}catch(e){throw(0,r.S)(e),e}},createGroupUser:async e=>{try{return(await n.Z.post("/user/create-group-user",e)).data}catch(e){throw(0,r.S)(e),e}},updateGroupUser:async(e,t)=>{try{return(await n.Z.put("/user/update-group-user/".concat(e),t)).data}catch(e){throw(0,r.S)(e),e}},deleteGroupUser:async e=>{try{return(await n.Z.delete("/user/group-user",{data:e})).data}catch(e){throw(0,r.S)(e),e}},getFilterUser:async e=>{try{let t=new URLSearchParams;return e&&Object.entries(e).forEach(e=>{let[a,r]=e;null!=r&&t.append(a,r.toString())}),(await n.Z.get("/user/get-user-filter?".concat(t.toString()))).data}catch(e){throw(0,r.S)(e),e}},getTimeKeeping:async e=>{try{let t=new URLSearchParams;return e&&Object.entries(e).forEach(e=>{let[a,r]=e;null!=r&&t.append(a,r.toString())}),(await n.Z.get("/user/timekeeping?".concat(t.toString()))).data}catch(e){throw(0,r.S)(e),e}},getTimeKeepingPerson:async e=>{try{let t=new URLSearchParams;return e&&Object.entries(e).forEach(e=>{let[a,r]=e;null!=r&&t.append(a,r.toString())}),(await n.Z.get("/user/timekeeping-person?".concat(t.toString()))).data}catch(e){throw(0,r.S)(e),e}},createTimeKeeping:async()=>{try{return(await n.Z.post("/user/timekeeping")).data}catch(e){throw(0,r.S)(e),e}},checkTimeKeeping:async()=>{try{return(await n.Z.get("/user/check-timekeeping")).data}catch(e){throw(0,r.S)(e),e}}}},65624:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});var r=a(2265),n=a(68575);function s(e){let[t,a]=(0,r.useState)(!1),{datas:s}=(0,n.v9)(e=>e.get_access_roles);return(0,r.useEffect)(()=>{s&&(null==s?void 0:s.length)>0&&a(s.some(t=>e.includes(t.role_type.name_tag)))},[s,e]),t}},90382:function(e,t,a){"use strict";a.d(t,{S:function(){return n}});var r=a(7261);let n=e=>{var t,a,n;let s=(null===(a=e.response)||void 0===a?void 0:null===(t=a.data)||void 0===t?void 0:t.message)||"An unexpected error occurred",l=null===(n=e.response)||void 0===n?void 0:n.status;r.Am.dismiss(),403===l?r.Am.error("Bạn kh\xf4ng c\xf3 quyền"):r.Am.error(s)}}},function(e){e.O(0,[5652,6051,5706,5452,1994,6950,5319,5651,6006,1047,8143,7526,7464,7821,3464,9481,314,9970,5270,1412,3281,7651,6399,5422,1250,8970,4967,3569,3984,7580,8338,4599,2971,2117,1744],function(){return e(e.s=88963)}),_N_E=e.O()}]);