(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9026],{50166:function(e,t,o){Promise.resolve().then(o.bind(o,62667))},53445:function(e,t,o){"use strict";o.d(t,{Z:function(){return u},w:function(){return l}});var n=o(2265),r=o(49638),a=o(18242);function l(e){if(e)return{closable:e.closable,closeIcon:e.closeIcon}}function c(e){let{closable:t,closeIcon:o}=e||{};return n.useMemo(()=>{if(!t&&(!1===t||!1===o||null===o))return!1;if(void 0===t&&void 0===o)return null;let e={closeIcon:"boolean"!=typeof o&&null!==o?o:void 0};return t&&"object"==typeof t&&(e=Object.assign(Object.assign({},e),t)),e},[t,o])}function s(){let e={};for(var t=arguments.length,o=Array(t),n=0;n<t;n++)o[n]=arguments[n];return o.forEach(t=>{t&&Object.keys(t).forEach(o=>{void 0!==t[o]&&(e[o]=t[o])})}),e}let i={};function u(e,t){let o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i,l=c(e),u=c(t),d="boolean"!=typeof l&&!!(null==l?void 0:l.disabled),m=n.useMemo(()=>Object.assign({closeIcon:n.createElement(r.Z,null)},o),[o]),p=n.useMemo(()=>!1!==l&&(l?s(m,u,l):!1!==u&&(u?s(m,u):!!m.closable&&m)),[l,u,m]);return n.useMemo(()=>{if(!1===p)return[!1,null,d];let{closeIconRender:e}=m,{closeIcon:t}=p,o=t;if(null!=o){e&&(o=e(t));let r=(0,a.Z)(p,!0);Object.keys(r).length&&(o=n.isValidElement(o)?n.cloneElement(o,r):n.createElement("span",Object.assign({},r),o))}return[!0,o,d]},[p,m])}},3810:function(e,t,o){"use strict";o.d(t,{Z:function(){return T}});var n=o(2265),r=o(36760),a=o.n(r),l=o(18694),c=o(93350),s=o(53445),i=o(19722),u=o(6694),d=o(71744),m=o(95201),p=o(36360),g=o(12918),f=o(71140),h=o(99320);let b=e=>{let{paddingXXS:t,lineWidth:o,tagPaddingHorizontal:n,componentCls:r,calc:a}=e,l=a(n).sub(o).equal(),c=a(t).sub(o).equal();return{[r]:Object.assign(Object.assign({},(0,g.Wf)(e)),{display:"inline-block",height:"auto",marginInlineEnd:e.marginXS,paddingInline:l,fontSize:e.tagFontSize,lineHeight:e.tagLineHeight,whiteSpace:"nowrap",background:e.defaultBg,border:"".concat((0,m.unit)(e.lineWidth)," ").concat(e.lineType," ").concat(e.colorBorder),borderRadius:e.borderRadiusSM,opacity:1,transition:"all ".concat(e.motionDurationMid),textAlign:"start",position:"relative",["&".concat(r,"-rtl")]:{direction:"rtl"},"&, a, a:hover":{color:e.defaultColor},["".concat(r,"-close-icon")]:{marginInlineStart:c,fontSize:e.tagIconSize,color:e.colorTextDescription,cursor:"pointer",transition:"all ".concat(e.motionDurationMid),"&:hover":{color:e.colorTextHeading}},["&".concat(r,"-has-color")]:{borderColor:"transparent",["&, a, a:hover, ".concat(e.iconCls,"-close, ").concat(e.iconCls,"-close:hover")]:{color:e.colorTextLightSolid}},"&-checkable":{backgroundColor:"transparent",borderColor:"transparent",cursor:"pointer",["&:not(".concat(r,"-checkable-checked):hover")]:{color:e.colorPrimary,backgroundColor:e.colorFillSecondary},"&:active, &-checked":{color:e.colorTextLightSolid},"&-checked":{backgroundColor:e.colorPrimary,"&:hover":{backgroundColor:e.colorPrimaryHover}},"&:active":{backgroundColor:e.colorPrimaryActive}},"&-hidden":{display:"none"},["> ".concat(e.iconCls," + span, > span + ").concat(e.iconCls)]:{marginInlineStart:l}}),["".concat(r,"-borderless")]:{borderColor:"transparent",background:e.tagBorderlessBg}}},v=e=>{let{lineWidth:t,fontSizeIcon:o,calc:n}=e,r=e.fontSizeSM;return(0,f.mergeToken)(e,{tagFontSize:r,tagLineHeight:(0,m.unit)(n(e.lineHeightSM).mul(r).equal()),tagIconSize:n(o).sub(n(t).mul(2)).equal(),tagPaddingHorizontal:8,tagBorderlessBg:e.defaultBg})},y=e=>({defaultBg:new p.C(e.colorFillQuaternary).onBackground(e.colorBgContainer).toHexString(),defaultColor:e.colorText});var C=(0,h.I$)("Tag",e=>b(v(e)),y),x=function(e,t){var o={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(o[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var r=0,n=Object.getOwnPropertySymbols(e);r<n.length;r++)0>t.indexOf(n[r])&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(o[n[r]]=e[n[r]]);return o};let w=n.forwardRef((e,t)=>{let{prefixCls:o,style:r,className:l,checked:c,onChange:s,onClick:i}=e,u=x(e,["prefixCls","style","className","checked","onChange","onClick"]),{getPrefixCls:m,tag:p}=n.useContext(d.E_),g=m("tag",o),[f,h,b]=C(g),v=a()(g,"".concat(g,"-checkable"),{["".concat(g,"-checkable-checked")]:c},null==p?void 0:p.className,l,h,b);return f(n.createElement("span",Object.assign({},u,{ref:t,style:Object.assign(Object.assign({},r),null==p?void 0:p.style),className:v,onClick:e=>{null==s||s(!c),null==i||i(e)}})))});var k=o(18536);let j=e=>(0,k.Z)(e,(t,o)=>{let{textColor:n,lightBorderColor:r,lightColor:a,darkColor:l}=o;return{["".concat(e.componentCls).concat(e.componentCls,"-").concat(t)]:{color:n,background:a,borderColor:r,"&-inverse":{color:e.colorTextLightSolid,background:l,borderColor:l},["&".concat(e.componentCls,"-borderless")]:{borderColor:"transparent"}}}});var S=(0,h.bk)(["Tag","preset"],e=>j(v(e)),y);let _=(e,t,o)=>{let n="string"!=typeof o?o:o.charAt(0).toUpperCase()+o.slice(1);return{["".concat(e.componentCls).concat(e.componentCls,"-").concat(t)]:{color:e["color".concat(o)],background:e["color".concat(n,"Bg")],borderColor:e["color".concat(n,"Border")],["&".concat(e.componentCls,"-borderless")]:{borderColor:"transparent"}}}};var N=(0,h.bk)(["Tag","status"],e=>{let t=v(e);return[_(t,"success","Success"),_(t,"processing","Info"),_(t,"error","Error"),_(t,"warning","Warning")]},y),O=function(e,t){var o={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(o[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var r=0,n=Object.getOwnPropertySymbols(e);r<n.length;r++)0>t.indexOf(n[r])&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(o[n[r]]=e[n[r]]);return o};let E=n.forwardRef((e,t)=>{let{prefixCls:o,className:r,rootClassName:m,style:p,children:g,icon:f,color:h,onClose:b,bordered:v=!0,visible:y}=e,x=O(e,["prefixCls","className","rootClassName","style","children","icon","color","onClose","bordered","visible"]),{getPrefixCls:w,direction:k,tag:j}=n.useContext(d.E_),[_,E]=n.useState(!0),T=(0,l.Z)(x,["closeIcon","closable"]);n.useEffect(()=>{void 0!==y&&E(y)},[y]);let Z=(0,c.o2)(h),I=(0,c.yT)(h),P=Z||I,B=Object.assign(Object.assign({backgroundColor:h&&!P?h:void 0},null==j?void 0:j.style),p),A=w("tag",o),[L,M,z]=C(A),H=a()(A,null==j?void 0:j.className,{["".concat(A,"-").concat(h)]:P,["".concat(A,"-has-color")]:h&&!P,["".concat(A,"-hidden")]:!_,["".concat(A,"-rtl")]:"rtl"===k,["".concat(A,"-borderless")]:!v},r,m,M,z),F=e=>{e.stopPropagation(),null==b||b(e),e.defaultPrevented||E(!1)},[,R]=(0,s.Z)((0,s.w)(e),(0,s.w)(j),{closable:!1,closeIconRender:e=>{let t=n.createElement("span",{className:"".concat(A,"-close-icon"),onClick:F},e);return(0,i.wm)(e,t,e=>({onClick:t=>{var o;null===(o=null==e?void 0:e.onClick)||void 0===o||o.call(e,t),F(t)},className:a()(null==e?void 0:e.className,"".concat(A,"-close-icon"))}))}}),q="function"==typeof x.onClick||g&&"a"===g.type,D=f||null,U=D?n.createElement(n.Fragment,null,D,g&&n.createElement("span",null,g)):g,V=n.createElement("span",Object.assign({},T,{ref:t,className:H,style:B}),U,R,Z&&n.createElement(S,{key:"preset",prefixCls:A}),I&&n.createElement(N,{key:"status",prefixCls:A}));return L(q?n.createElement(u.Z,{component:"Tag"},V):V)});E.CheckableTag=w;var T=E},62667:function(e,t,o){"use strict";o.r(t),o.d(t,{default:function(){return m}});var n=o(57437),r=o(2265),a=o(3810),l=o(11632),c=o(91250),s=o(56771),i=o(58102);function u(){let[e,t]=(0,r.useState)(25),[o,u]=(0,r.useState)([]),[d,m]=(0,r.useState)();(0,r.useEffect)(()=>{m(o.map((e,t)=>({...e,key:t})))},[o]),(0,r.useEffect)(()=>{(async()=>{let e=await i.Z.getAllCustomerByToken();200===e.statusCode&&u(e.data)})()},[]);let p=e=>{m(null==o?void 0:o.filter(t=>{var o,n,r,a;return String(t.info_id+" "+t.created_at+" "+t.name_company+" "+(null==t?void 0:null===(n=t.infoContacts[0])||void 0===n?void 0:null===(o=n.customer)||void 0===o?void 0:o.full_name)+" "+(null==t?void 0:null===(a=t.infoContacts[0])||void 0===a?void 0:null===(r=a.customer)||void 0===r?void 0:r.email)+" "+t.phone_number).toLowerCase().includes(e.toLowerCase())}))};return(0,n.jsxs)("div",{className:"",children:[(0,n.jsxs)("div",{className:"flex justify-between items-center mb-2 flex-wrap gap-y-2",children:[(0,n.jsx)("div",{className:"flex items-center gap-1",children:(0,n.jsx)(l.Z,{defaultValue:e,style:{width:83},onChange:e=>t(e),options:[{value:10,label:10},{value:25,label:25},{value:50,label:50},{value:100,label:100},{value:500,label:500},{value:1e3,label:1e3},{value:1e8,label:"Tất cả"}]})}),(0,n.jsx)("div",{className:"flex gap-2 items-center",children:(0,n.jsx)(s.Z,{onChange:e=>{p(e.target.value)},placeholder:"T\xecm kiếm",style:{width:200}})})]}),(0,n.jsx)("div",{className:"w-full overflow-auto",children:(0,n.jsx)("div",{className:"min-w-fit",children:(0,n.jsx)(c.Z,{columns:[{title:"#",className:"text-xs",dataIndex:"info_id",render:(e,t,o)=>(0,n.jsxs)("div",{className:"flex flex-col gap-1 ",children:[(0,n.jsxs)("strong",{children:["#",o+1,"."]}),(0,n.jsx)("div",{className:"flex gap-2"})]}),sorter:(e,t)=>e.info_id.localeCompare(t.info_id)},{title:"T\xean c\xf4ng ty",className:"text-xs",dataIndex:"name_company",render:e=>(0,n.jsx)(n.Fragment,{children:e.length>15?"".concat(e.slice(0,15),"..."):e}),sorter:(e,t)=>e.name_company.localeCompare(t.name_company)},{title:"Li\xean hệ ch\xednh",className:"text-xs",dataIndex:["infoContacts","0","customer","full_name"],render:e=>(0,n.jsx)(n.Fragment,{children:(null==e?void 0:e.length)>15?"".concat(e.slice(0,15),"..."):e}),sorter:(e,t)=>e.infoContacts[0].customer.full_name.localeCompare(t.infoContacts[0].customer.full_name)},{title:"Email li\xean hệ",className:"text-xs",dataIndex:["infoContacts","0","customer","email"],sorter:(e,t)=>e.infoContacts[0].customer.email.localeCompare(t.infoContacts[0].customer.email)},{title:"Điện thoại",className:"text-xs",dataIndex:"phone_number",sorter:(e,t)=>e.phone_number.localeCompare(t.phone_number)},{title:"Nh\xf3m kh\xe1ch h\xe0ng",className:"text-xs",dataIndex:["group_customer","name_group"],sorter:(e,t)=>e.group_customer.name_group.localeCompare(t.group_customer.name_group),render:e=>(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(a.Z,{color:"gray",children:e})})},{title:"Ng\xe0y tạo",className:"text-xs",dataIndex:"created_at",render:e=>e?new Date(e).toLocaleDateString("vi-VN"):"N/A",sorter:(e,t)=>e.created_at.localeCompare(t.created_at)}],dataSource:d,scroll:{x:"max-content"},pagination:{pageSize:e,showTotal:(e,t)=>"".concat(t[0],"-").concat(t[1]," of ").concat(e," items")},showSorterTooltip:{target:"sorter-icon"}})})})]})}function d(){return(0,n.jsx)("div",{children:(0,n.jsx)("div",{className:"flex flex-col gap-4 rounded-md p-4 shadow-[0_8px_30px_rgb(0,0,0,0.12)] bg-white",children:(0,n.jsx)("div",{className:"rounded-md",children:(0,n.jsx)(u,{})})})})}function m(){return(0,n.jsx)("div",{className:"p-4",children:(0,n.jsx)(d,{})})}},28223:function(e,t,o){"use strict";o.d(t,{Y:function(){return a}});var n=o(83464);let r=n.Z.create({baseURL:"https://api.sparking.cloud",timeout:2e4,headers:{"Content-Type":"application/json"},withCredentials:!0}),a=n.Z.create({baseURL:"https://api.sparking.cloud",timeout:2e4,headers:{"Content-Type":"multipart/form-data"},withCredentials:!0});t.Z=r},58102:function(e,t,o){"use strict";var n=o(90382),r=o(28223);t.Z={getProfileCustomer:async()=>{try{return(await r.Z.get("/customer/profile",{withCredentials:!0})).data}catch(e){throw(0,n.S)(e),e}},loginCustomer:async e=>(await r.Z.post("/auth/login-customer",e,{withCredentials:!0})).data,logoutCustomer:async()=>(await r.Z.post("/auth/logout-customer")).data,updatePasswordCustomer:async e=>{try{return(await r.Z.put("/customer/update-password",e)).data}catch(e){throw(0,n.S)(e),e}},updateAccountCustomerProfile:async e=>{try{return(await r.Y.put("/customer/update-account-customer-profile",e)).data}catch(e){throw(0,n.S)(e),e}},getAllCustomerByToken:async()=>{try{return(await r.Z.get("/customer/get-all-customer-by-token")).data}catch(e){throw(0,n.S)(e),e}},getAllProjectByToken:async()=>{try{return(await r.Z.get("/project/all-customer")).data}catch(e){throw(0,n.S)(e),e}},getAllPriceQuoteByToken:async()=>{try{return(await r.Z.get("/price_quote/all-customer")).data}catch(e){throw(0,n.S)(e),e}},getAllContractByToken:async()=>{try{return(await r.Z.get("/contract/all-customer")).data}catch(e){throw(0,n.S)(e),e}},getAllPaymentByToken:async()=>{try{return(await r.Z.get("/contract/all-payment-customer")).data}catch(e){throw(0,n.S)(e),e}}}},90382:function(e,t,o){"use strict";o.d(t,{S:function(){return r}});var n=o(7261);let r=e=>{var t,o,r;let a=(null===(o=e.response)||void 0===o?void 0:null===(t=o.data)||void 0===t?void 0:t.message)||"An unexpected error occurred",l=null===(r=e.response)||void 0===r?void 0:r.status;n.Am.dismiss(),403===l?n.Am.error("Bạn kh\xf4ng c\xf3 quyền"):n.Am.error(a)}}},function(e){e.O(0,[5319,5651,6006,8143,7526,7464,7821,3464,9481,314,9970,5270,1412,7651,6399,5422,1250,2971,2117,1744],function(){return e(e.s=50166)}),_N_E=e.O()}]);