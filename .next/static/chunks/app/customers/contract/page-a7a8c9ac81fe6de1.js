(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3487],{25932:function(e,t,a){Promise.resolve().then(a.bind(a,36094))},36094:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return u}});var r=a(57437),n=a(2265),o=a(11632),s=a(91250),c=a(56771),l=a(58102);function i(){let[e,t]=(0,n.useState)(25),[a,i]=(0,n.useState)([]),[d,u]=(0,n.useState)([]);(0,n.useEffect)(()=>{(async()=>{let e=l.Z.getAllContractByToken();200===e.statusCode&&u(e.data)})()},[]),(0,n.useEffect)(()=>{i(d.map((e,t)=>({...e,key:t})))},[d]);let m=e=>{i(null==d?void 0:d.filter(t=>{var a,r;return String(t.created_at+" "+t.date_expired+" "+t.date_start+" "+(null===(a=t.project)||void 0===a?void 0:a.name)+" "+t.name_contract+" "+t.contract_id+" "+(null===(r=t.customer)||void 0===r?void 0:r.name_company)+" "+t.status).toLowerCase().includes(e.toLowerCase())}))};return(0,r.jsxs)("div",{className:"",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-2 flex-wrap gap-y-2",children:[(0,r.jsx)("div",{className:"flex items-center gap-1",children:(0,r.jsx)(o.Z,{defaultValue:e,style:{width:83},onChange:e=>t(e),options:[{value:10,label:10},{value:25,label:25},{value:50,label:50},{value:100,label:100},{value:500,label:500},{value:1e3,label:1e3},{value:1e8,label:"Tất cả"}]})}),(0,r.jsx)("div",{className:"flex items-center",children:(0,r.jsx)(c.Z,{onChange:e=>{m(e.target.value)},placeholder:"T\xecm kiếm",style:{width:200}})})]}),(0,r.jsx)("div",{className:"w-full overflow-auto",children:(0,r.jsx)("div",{className:"min-w-fit",children:(0,r.jsx)(s.Z,{columns:[{title:"M\xe3 hợp đồng",className:"text-xs",dataIndex:"code_contract",render:e=>(0,r.jsx)("div",{className:"flex flex-col gap-1 ",children:(0,r.jsxs)("strong",{children:[e.slice(0,10).toString(),"..."]})}),sorter:(e,t)=>e.contract_id.localeCompare(t.contract_id)},{title:"T\xean hợp đồng",dataIndex:"name_contract",className:"text-xs",render:e=>e||"N/A",sorter:(e,t)=>(e.name_contract||"").localeCompare(t.name_contract||"")},{title:"Kh\xe1ch h\xe0ng",dataIndex:["customer","name_company"],className:"text-xs",render:e=>e||"N/A",sorter:(e,t)=>{var a,r;return((null===(a=e.customer)||void 0===a?void 0:a.name_company)||"").localeCompare((null===(r=t.customer)||void 0===r?void 0:r.name_company)||"")}},{title:"Loại hợp đồng",dataIndex:["type_contract","name_type"],className:"text-xs",render:e=>e||"N/A",sorter:(e,t)=>{var a,r;return((null===(a=e.type_contract)||void 0===a?void 0:a.name_type)||"").localeCompare((null===(r=t.type_contract)||void 0===r?void 0:r.name_type)||"")}},{title:"Gi\xe1 trị hợp đồng",dataIndex:"price",className:"text-xs",render:e=>e?"".concat(e.toLocaleString("vi-VN"),"đ"):"N/A",sorter:(e,t)=>(e.price||0)-(t.price||0)},{title:"Ng\xe0y bắt đầu",dataIndex:"date_start",className:"text-xs",render:e=>e?new Date(e).toLocaleDateString("vi-VN"):"N/A",sorter:(e,t)=>new Date(e.date_start||0).getTime()-new Date(t.date_start||0).getTime()},{title:"Ng\xe0y kết th\xfac",dataIndex:"date_expired",className:"text-xs",render:e=>e?new Date(e).toLocaleDateString("vi-VN"):"N/A",sorter:(e,t)=>new Date(e.date_expired||0).getTime()-new Date(t.date_expired||0).getTime()},{title:"Trạng th\xe1i",dataIndex:"status",className:"text-xs",render:e=>(0,r.jsx)("span",{style:{color:"active"===e?"green":"hide"===e?"gray":"red"},children:"delete"===e?"X\xf3a":"active"===e?"Hoạt động":"Ẩn"}),sorter:(e,t)=>(e.status||"").localeCompare(t.status||"")}],dataSource:a,scroll:{x:"max-content"},pagination:{pageSize:e,showTotal:(e,t)=>"".concat(t[0],"-").concat(t[1]," of ").concat(e," items")},showSorterTooltip:{target:"sorter-icon"}})})})]})}function d(){return(0,r.jsx)("div",{className:"flex flex-col gap-4 rounded-md p-4 shadow-[0_8px_30px_rgb(0,0,0,0.12)] bg-white",children:(0,r.jsx)("div",{className:"rounded-md",children:(0,r.jsx)(i,{})})})}function u(){return(0,r.jsx)("div",{className:"p-4",children:(0,r.jsx)(d,{})})}},28223:function(e,t,a){"use strict";a.d(t,{Y:function(){return o}});var r=a(83464);let n=r.Z.create({baseURL:"https://api.sparking.cloud",timeout:2e4,headers:{"Content-Type":"application/json"},withCredentials:!0}),o=r.Z.create({baseURL:"https://api.sparking.cloud",timeout:2e4,headers:{"Content-Type":"multipart/form-data"},withCredentials:!0});t.Z=n},58102:function(e,t,a){"use strict";var r=a(90382),n=a(28223);t.Z={getProfileCustomer:async()=>{try{return(await n.Z.get("/customer/profile",{withCredentials:!0})).data}catch(e){throw(0,r.S)(e),e}},loginCustomer:async e=>(await n.Z.post("/auth/login-customer",e,{withCredentials:!0})).data,logoutCustomer:async()=>(await n.Z.post("/auth/logout-customer")).data,updatePasswordCustomer:async e=>{try{return(await n.Z.put("/customer/update-password",e)).data}catch(e){throw(0,r.S)(e),e}},updateAccountCustomerProfile:async e=>{try{return(await n.Y.put("/customer/update-account-customer-profile",e)).data}catch(e){throw(0,r.S)(e),e}},getAllCustomerByToken:async()=>{try{return(await n.Z.get("/customer/get-all-customer-by-token")).data}catch(e){throw(0,r.S)(e),e}},getAllProjectByToken:async()=>{try{return(await n.Z.get("/project/all-customer")).data}catch(e){throw(0,r.S)(e),e}},getAllPriceQuoteByToken:async()=>{try{return(await n.Z.get("/price_quote/all-customer")).data}catch(e){throw(0,r.S)(e),e}},getAllContractByToken:async()=>{try{return(await n.Z.get("/contract/all-customer")).data}catch(e){throw(0,r.S)(e),e}},getAllPaymentByToken:async()=>{try{return(await n.Z.get("/contract/all-payment-customer")).data}catch(e){throw(0,r.S)(e),e}}}},90382:function(e,t,a){"use strict";a.d(t,{S:function(){return n}});var r=a(7261);let n=e=>{var t,a,n;let o=(null===(a=e.response)||void 0===a?void 0:null===(t=a.data)||void 0===t?void 0:t.message)||"An unexpected error occurred",s=null===(n=e.response)||void 0===n?void 0:n.status;r.Am.dismiss(),403===s?r.Am.error("Bạn kh\xf4ng c\xf3 quyền"):r.Am.error(o)}}},function(e){e.O(0,[5319,5651,6006,8143,7526,7464,7821,3464,9481,314,9970,5270,1412,7651,6399,5422,1250,2971,2117,1744],function(){return e(e.s=25932)}),_N_E=e.O()}]);