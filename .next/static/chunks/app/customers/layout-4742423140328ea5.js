(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3642],{48251:function(e,t,a){Promise.resolve().then(a.bind(a,56330))},96473:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});var n=a(1119),r=a(2265),o={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M482 152h60q8 0 8 8v704q0 8-8 8h-60q-8 0-8-8V160q0-8 8-8z"}},{tag:"path",attrs:{d:"M192 474h672q8 0 8 8v60q0 8-8 8H160q-8 0-8-8v-60q0-8 8-8z"}}]},name:"plus",theme:"outlined"},i=a(10703),s=r.forwardRef(function(e,t){return r.createElement(i.Z,(0,n.Z)({},e,{ref:t,icon:o}))})},51646:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});var n=a(2265);function r(){let[,e]=n.useReducer(e=>e+1,0);return e}},28617:function(e,t,a){"use strict";var n=a(2265),r=a(27380),o=a(51646),i=a(6543);t.Z=function(){let e=!(arguments.length>0)||void 0===arguments[0]||arguments[0],t=(0,n.useRef)({}),a=(0,o.Z)(),s=(0,i.ZP)();return(0,r.Z)(()=>{let n=s.subscribe(n=>{t.current=n,e&&a()});return()=>s.unsubscribe(n)},[]),t.current}},48651:function(e,t,a){"use strict";let n;a.d(t,{Z:function(){return N}});var r=a(2265),o=a(36760),i=a.n(o),s=a(50274),l=a(71744),c=a(19722),u=a(27380);let d=80*Math.PI,m=e=>{let{dotClassName:t,style:a,hasCircleCls:n}=e;return r.createElement("circle",{className:i()("".concat(t,"-circle"),{["".concat(t,"-circle-bg")]:n}),r:40,cx:50,cy:50,strokeWidth:20,style:a})};var p=e=>{let{percent:t,prefixCls:a}=e,n="".concat(a,"-dot"),o="".concat(n,"-holder"),s="".concat(o,"-hidden"),[l,c]=r.useState(!1);(0,u.Z)(()=>{0!==t&&c(!0)},[0!==t]);let p=Math.max(Math.min(t,100),0);if(!l)return null;let h={strokeDashoffset:"".concat(d/4),strokeDasharray:"".concat(d*p/100," ").concat(d*(100-p)/100)};return r.createElement("span",{className:i()(o,"".concat(n,"-progress"),p<=0&&s)},r.createElement("svg",{viewBox:"0 0 ".concat(100," ").concat(100),role:"progressbar","aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":p},r.createElement(m,{dotClassName:n,hasCircleCls:!0}),r.createElement(m,{dotClassName:n,style:h})))};function h(e){let{prefixCls:t,percent:a=0}=e,n="".concat(t,"-dot"),o="".concat(n,"-holder"),s="".concat(o,"-hidden");return r.createElement(r.Fragment,null,r.createElement("span",{className:i()(o,a>0&&s)},r.createElement("span",{className:i()(n,"".concat(t,"-dot-spin"))},[1,2,3,4].map(e=>r.createElement("i",{className:"".concat(t,"-dot-item"),key:e})))),r.createElement(p,{prefixCls:t,percent:a}))}function f(e){let{prefixCls:t,indicator:a,percent:n}=e;return a&&r.isValidElement(a)?(0,c.Tm)(a,{className:i()(a.props.className,"".concat(t,"-dot")),percent:n}):r.createElement(h,{prefixCls:t,percent:n})}var g=a(95201),y=a(12918),x=a(99320),v=a(71140);let w=new g.Keyframes("antSpinMove",{to:{opacity:1}}),b=new g.Keyframes("antRotate",{to:{transform:"rotate(405deg)"}}),j=e=>{let{componentCls:t,calc:a}=e;return{[t]:Object.assign(Object.assign({},(0,y.Wf)(e)),{position:"absolute",display:"none",color:e.colorPrimary,fontSize:0,textAlign:"center",verticalAlign:"middle",opacity:0,transition:"transform ".concat(e.motionDurationSlow," ").concat(e.motionEaseInOutCirc),"&-spinning":{position:"relative",display:"inline-block",opacity:1},["".concat(t,"-text")]:{fontSize:e.fontSize,paddingTop:a(a(e.dotSize).sub(e.fontSize)).div(2).add(2).equal()},"&-fullscreen":{position:"fixed",width:"100vw",height:"100vh",backgroundColor:e.colorBgMask,zIndex:e.zIndexPopupBase,inset:0,display:"flex",alignItems:"center",flexDirection:"column",justifyContent:"center",opacity:0,visibility:"hidden",transition:"all ".concat(e.motionDurationMid),"&-show":{opacity:1,visibility:"visible"},[t]:{["".concat(t,"-dot-holder")]:{color:e.colorWhite},["".concat(t,"-text")]:{color:e.colorTextLightSolid}}},"&-nested-loading":{position:"relative",["> div > ".concat(t)]:{position:"absolute",top:0,insetInlineStart:0,zIndex:4,display:"block",width:"100%",height:"100%",maxHeight:e.contentHeight,["".concat(t,"-dot")]:{position:"absolute",top:"50%",insetInlineStart:"50%",margin:a(e.dotSize).mul(-1).div(2).equal()},["".concat(t,"-text")]:{position:"absolute",top:"50%",width:"100%",textShadow:"0 1px 2px ".concat(e.colorBgContainer)},["&".concat(t,"-show-text ").concat(t,"-dot")]:{marginTop:a(e.dotSize).div(2).mul(-1).sub(10).equal()},"&-sm":{["".concat(t,"-dot")]:{margin:a(e.dotSizeSM).mul(-1).div(2).equal()},["".concat(t,"-text")]:{paddingTop:a(a(e.dotSizeSM).sub(e.fontSize)).div(2).add(2).equal()},["&".concat(t,"-show-text ").concat(t,"-dot")]:{marginTop:a(e.dotSizeSM).div(2).mul(-1).sub(10).equal()}},"&-lg":{["".concat(t,"-dot")]:{margin:a(e.dotSizeLG).mul(-1).div(2).equal()},["".concat(t,"-text")]:{paddingTop:a(a(e.dotSizeLG).sub(e.fontSize)).div(2).add(2).equal()},["&".concat(t,"-show-text ").concat(t,"-dot")]:{marginTop:a(e.dotSizeLG).div(2).mul(-1).sub(10).equal()}}},["".concat(t,"-container")]:{position:"relative",transition:"opacity ".concat(e.motionDurationSlow),"&::after":{position:"absolute",top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,zIndex:10,width:"100%",height:"100%",background:e.colorBgContainer,opacity:0,transition:"all ".concat(e.motionDurationSlow),content:'""',pointerEvents:"none"}},["".concat(t,"-blur")]:{clear:"both",opacity:.5,userSelect:"none",pointerEvents:"none","&::after":{opacity:.4,pointerEvents:"auto"}}},"&-tip":{color:e.spinDotDefault},["".concat(t,"-dot-holder")]:{width:"1em",height:"1em",fontSize:e.dotSize,display:"inline-block",transition:"transform ".concat(e.motionDurationSlow," ease, opacity ").concat(e.motionDurationSlow," ease"),transformOrigin:"50% 50%",lineHeight:1,color:e.colorPrimary,"&-hidden":{transform:"scale(0.3)",opacity:0}},["".concat(t,"-dot-progress")]:{position:"absolute",top:"50%",transform:"translate(-50%, -50%)",insetInlineStart:"50%"},["".concat(t,"-dot")]:{position:"relative",display:"inline-block",fontSize:e.dotSize,width:"1em",height:"1em","&-item":{position:"absolute",display:"block",width:a(e.dotSize).sub(a(e.marginXXS).div(2)).div(2).equal(),height:a(e.dotSize).sub(a(e.marginXXS).div(2)).div(2).equal(),background:"currentColor",borderRadius:"100%",transform:"scale(0.75)",transformOrigin:"50% 50%",opacity:.3,animationName:w,animationDuration:"1s",animationIterationCount:"infinite",animationTimingFunction:"linear",animationDirection:"alternate","&:nth-child(1)":{top:0,insetInlineStart:0,animationDelay:"0s"},"&:nth-child(2)":{top:0,insetInlineEnd:0,animationDelay:"0.4s"},"&:nth-child(3)":{insetInlineEnd:0,bottom:0,animationDelay:"0.8s"},"&:nth-child(4)":{bottom:0,insetInlineStart:0,animationDelay:"1.2s"}},"&-spin":{transform:"rotate(45deg)",animationName:b,animationDuration:"1.2s",animationIterationCount:"infinite",animationTimingFunction:"linear"},"&-circle":{strokeLinecap:"round",transition:["stroke-dashoffset","stroke-dasharray","stroke","stroke-width","opacity"].map(t=>"".concat(t," ").concat(e.motionDurationSlow," ease")).join(","),fillOpacity:0,stroke:"currentcolor"},"&-circle-bg":{stroke:e.colorFillSecondary}},["&-sm ".concat(t,"-dot")]:{"&, &-holder":{fontSize:e.dotSizeSM}},["&-sm ".concat(t,"-dot-holder")]:{i:{width:a(a(e.dotSizeSM).sub(a(e.marginXXS).div(2))).div(2).equal(),height:a(a(e.dotSizeSM).sub(a(e.marginXXS).div(2))).div(2).equal()}},["&-lg ".concat(t,"-dot")]:{"&, &-holder":{fontSize:e.dotSizeLG}},["&-lg ".concat(t,"-dot-holder")]:{i:{width:a(a(e.dotSizeLG).sub(e.marginXXS)).div(2).equal(),height:a(a(e.dotSizeLG).sub(e.marginXXS)).div(2).equal()}},["&".concat(t,"-show-text ").concat(t,"-text")]:{display:"block"}})}};var C=(0,x.I$)("Spin",e=>[j((0,v.mergeToken)(e,{spinDotDefault:e.colorTextDescription}))],e=>{let{controlHeightLG:t,controlHeight:a}=e;return{contentHeight:400,dotSize:t/2,dotSizeSM:.35*t,dotSizeLG:a}});let S=[[30,.05],[70,.03],[96,.01]];var Z=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(a[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var r=0,n=Object.getOwnPropertySymbols(e);r<n.length;r++)0>t.indexOf(n[r])&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(a[n[r]]=e[n[r]]);return a};let k=e=>{var t;let{prefixCls:a,spinning:o=!0,delay:c=0,className:u,rootClassName:d,size:m="default",tip:p,wrapperClassName:h,style:g,children:y,fullscreen:x=!1,indicator:v,percent:w}=e,b=Z(e,["prefixCls","spinning","delay","className","rootClassName","size","tip","wrapperClassName","style","children","fullscreen","indicator","percent"]),{getPrefixCls:j,direction:k,spin:N}=r.useContext(l.E_),O=j("spin",a),[P,_,I]=C(O),[E,z]=r.useState(()=>o&&(!o||!c||!!isNaN(Number(c)))),A=function(e,t){let[a,n]=r.useState(0),o=r.useRef(),i="auto"===t;return r.useEffect(()=>(i&&e&&(n(0),o.current=setInterval(()=>{n(e=>{let t=100-e;for(let a=0;a<S.length;a+=1){let[n,r]=S[a];if(e<=n)return e+t*r}return e})},200)),()=>{clearInterval(o.current)}),[i,e]),i?a:t}(E,w);r.useEffect(()=>{if(o){let e=(0,s.D)(c,()=>{z(!0)});return e(),()=>{var t;null===(t=null==e?void 0:e.cancel)||void 0===t||t.call(e)}}z(!1)},[c,o]);let D=r.useMemo(()=>void 0!==y&&!x,[y,x]),q=i()(O,null==N?void 0:N.className,{["".concat(O,"-sm")]:"small"===m,["".concat(O,"-lg")]:"large"===m,["".concat(O,"-spinning")]:E,["".concat(O,"-show-text")]:!!p,["".concat(O,"-rtl")]:"rtl"===k},u,!x&&d,_,I),M=i()("".concat(O,"-container"),{["".concat(O,"-blur")]:E}),T=null!==(t=null!=v?v:null==N?void 0:N.indicator)&&void 0!==t?t:n,W=Object.assign(Object.assign({},null==N?void 0:N.style),g),F=r.createElement("div",Object.assign({},b,{style:W,className:q,"aria-live":"polite","aria-busy":E}),r.createElement(f,{prefixCls:O,indicator:T,percent:A}),p&&(D||x)?r.createElement("div",{className:"".concat(O,"-text")},p):null);return P(D?r.createElement("div",Object.assign({},b,{className:i()("".concat(O,"-nested-loading"),h,_,I)}),E&&r.createElement("div",{key:"loading"},F),r.createElement("div",{className:M,key:"container"},y)):x?r.createElement("div",{className:i()("".concat(O,"-fullscreen"),{["".concat(O,"-fullscreen-show")]:E},d,_,I)},F):F)};k.setDefaultIndicator=e=>{n=e};var N=k},56330:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return I}});var n=a(57437),r=a(49490),o=a(87863),i=a(33145),s=a(2265),l=a(49089),c=a(32768),u=a(68575),d=a(31304),m=a(46475),p=a(34819),h=a(58102),f=a(91626),g=a(58970),y=a(44967),x=a(16836),v=a(29487);function w(e){let{refBtnUser:t}=e,a=(0,u.I0)(),r=(0,s.useRef)(),[o]=(0,v.Z)(),{postdata:i}=(0,m.Z)(),[l,c]=(0,s.useState)(!1),d=async()=>{c(!0)},w=async e=>{var t;let n=await i(()=>h.Z.updatePasswordCustomer(e));null===(t=r.current)||void 0===t||t.click(),(200===n||201===n)&&(c(!1),a((0,p.R)()),o.resetFields())},b=async()=>{o.submit()};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(f.ZP,{className:"  text-xs text-yellow-500 font-semibold",type:"text",hidden:!!t,ref:t,onClick:d}),(0,n.jsxs)(g.Z,{title:"Cập nhật password",open:l,onCancel:()=>{c(!1)},footer:null,width:"100%",style:{maxWidth:"400px"},children:[(0,n.jsxs)(y.Z,{layout:"vertical",form:o,onFinish:w,style:{display:"flex",flexWrap:"wrap",columnGap:"12px"},children:[(0,n.jsx)(y.Z.Item,{name:"old_password",label:"Mật khẩu cũ",rules:[{required:!0,message:"Vui l\xf2ng nhập mật khẩu!"}],style:{minWidth:"320px",flex:"1 1 0%"},children:(0,n.jsx)(x.default.Password,{placeholder:"Nhập mật khẩu cũ"})}),(0,n.jsx)(y.Z.Item,{name:"new_password",label:"Mật khẩu mới",rules:[{required:!0,message:"Vui l\xf2ng nhập mật khẩu!"}],style:{minWidth:"320px",flex:"1 1 0%"},children:(0,n.jsx)(x.default.Password,{placeholder:"Nhập mật khẩu mới"})}),(0,n.jsx)(y.Z.Item,{name:"again_password",label:"X\xe1c nhận mật khẩu mới",dependencies:["new_password"],rules:[{required:!0,message:"Vui l\xf2ng nhập mật khẩu mới!"},e=>{let{getFieldValue:t}=e;return{validator:(e,a)=>a&&t("new_password")!==a?Promise.reject(Error("Mật khẩu x\xe1c nhận kh\xf4ng khớp!")):Promise.resolve()}}],style:{minWidth:"320px",flex:"1 1 0%"},children:(0,n.jsx)(x.default.Password,{placeholder:"Nhập mật khẩu mới"})})]}),(0,n.jsx)("div",{className:"flex justify-end w-full mt-4",children:(0,n.jsx)(f.ZP,{type:"primary",onClick:b,children:"Cập nhật"})})]})]})}var b=a(66789),j=a(99376);function C(){let e=(0,j.useRouter)(),t=(0,u.I0)(),{postdata:a}=(0,m.Z)(),r=(0,s.useRef)(),o=(0,s.useRef)(),{datas:i}=(0,u.v9)(e=>e.get_profile_customer),g=async()=>{200===await a(()=>h.Z.logoutCustomer())&&t((0,p.R)()).unwrap().then(t=>{400===t.statusCode&&e.push("/login?type=customer")}).catch(()=>{e.push("/login?type=customer")})};return(0,n.jsxs)("div",{className:"w-64 h-fit p-2 flex flex-col gap-4 rounded-md shadow-[rgba(13,_38,_76,_0.19)_0px_9px_20px]",children:[(0,n.jsxs)(f.ZP,{type:"text",className:"flex w-full h-fit items-center justify-start gap-4  capitalize",children:[(0,n.jsx)(b.Z,{className:"rounded-full",width:40,height:40,alt:"",src:null==i?void 0:i.picture_url}),(0,n.jsx)("div",{className:"flex flex-col",children:(0,n.jsx)("p",{className:"font-semibold text-lg",children:null==i?void 0:i.full_name})})]}),(0,n.jsxs)("div",{className:"flex flex-col w-full py-2 border-t-[1px] ",children:[(0,n.jsx)(f.ZP,{icon:(0,n.jsx)(l.BKo,{}),type:"text",onClick:()=>{var e;null===(e=r.current)||void 0===e||e.click()},className:"py-4 w-full rounded-md flex items-center justify-start capitalize",children:"Hồ sơ"}),(0,n.jsx)(f.ZP,{icon:(0,n.jsx)(l.q2z,{}),type:"text",onClick:()=>{var e;null===(e=o.current)||void 0===e||e.click()},className:"py-4 w-full rounded-md flex items-center justify-start capitalize",children:"Đổi mật khẩu"}),(0,n.jsx)(f.ZP,{onClick:()=>{g()},icon:(0,n.jsx)(c.qgu,{}),type:"text",className:"py-4 w-full  rounded-md flex items-center justify-start capitalize",children:"Tho\xe1t"})]}),(0,n.jsx)(d.Z,{type:"customer",customer_id:null==i?void 0:i.customer_id,refBtnCustomer:r}),(0,n.jsx)(w,{refBtnUser:o})]})}var S=()=>{let e=(0,u.I0)(),{datas:t}=(0,u.v9)(e=>e.get_profile_customer);return(0,n.jsx)("div",{className:"min-h-16 z-50 relative",children:(0,n.jsxs)("div",{className:"h-16 bg-white px-4 flex justify-between items-center fixed inset-x-0 shadow-[rgba(17,_17,_26,_0.1)_0px_0px_16px]",children:[(0,n.jsxs)("div",{className:"flex items-center gap-2 h-full",children:[(0,n.jsx)(c.pLT,{className:"h-8 w-8 cursor-pointer",onClick:()=>{e((0,r.js)())}}),(0,n.jsx)(i.default,{className:"cursor-pointer",alt:"",src:"/logo1.png",height:40,width:140,onClick:()=>{window.location.href="/"}})]}),t?(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)("div",{className:"relative group",children:[(0,n.jsx)(o.C,{alt:"",src:t.picture_url,className:"w-8 h-8"}),(0,n.jsx)("div",{className:"absolute w-fit h-fit right-0 top-full z-50 bg-white invisible group-hover:visible opacity-0 group-hover:opacity-100 transition-all",children:(0,n.jsx)(C,{})})]})}):(0,n.jsx)("div",{className:"rounded-full bg-[#00A9AE] w-fit h-fit p-2",children:(0,n.jsx)(l.Xws,{className:"text-white"})})]})})},Z=a(11412),k=a(27648),N=a(45168),O=a(90561),P=a(20396),_=()=>{let e=(0,u.I0)(),t=(0,P.ZP)({maxWidth:639}),a=(0,u.v9)(e=>e.status_tab_menu),o=[{key:"customer",label:(0,n.jsx)(k.default,{href:"/customers/company",className:"",onClick:()=>{t&&e((0,r.js)())},children:(0,n.jsx)("span",{children:"Danh s\xe1ch c\xf4ng ty"})}),icon:(0,n.jsx)(l.$yZ,{})},{key:"project",label:"Dự \xe1n",icon:(0,n.jsx)(O.MC,{}),children:[{key:"list_project",label:(0,n.jsx)(k.default,{href:"/customers/project",onClick:()=>{t&&e((0,r.js)())},children:(0,n.jsx)("span",{children:"Danh s\xe1ch dự \xe1n"})})}]},{key:"sale",label:"T\xe0i liệu",icon:(0,n.jsx)(N.b1P,{}),children:[{key:"price_quote",label:(0,n.jsx)(k.default,{href:"/customers/price_quote",onClick:()=>{t&&e((0,r.js)())},children:(0,n.jsx)("span",{children:"B\xe1o gi\xe1"})})},{key:"contract",label:(0,n.jsx)(k.default,{href:"/customers/contract",onClick:()=>{t&&e((0,r.js)())},children:(0,n.jsx)("span",{children:"Hợp đồng"})})},{key:"invoice",label:(0,n.jsx)(k.default,{href:"/customers/payment",className:"",onClick:()=>{t&&e((0,r.js)())},children:(0,n.jsx)("span",{children:"H\xf3a đơn"})})}]}];return(0,n.jsx)("div",{className:"transition-all bg-[#1A2A36] max-h-full fixed bottom-0 left-0 top-16 overflow-y-auto py-4 ".concat(a.isOpen?"sm:w-52 w-full":"w-0 "),children:(0,n.jsx)(Z.Z,{className:"bg-[#1A2A36] !text-white",style:{width:"100%"},theme:"dark",color:"white",defaultSelectedKeys:["1"],defaultOpenKeys:["sub1"],mode:"inline",items:o})})};function I(e){let{children:t}=e,a=(0,u.v9)(e=>e.status_tab_menu),r=(0,j.useRouter)(),{datas:o}=(0,u.v9)(e=>e.get_profile_customer),i=(0,u.I0)();return(0,s.useEffect)(()=>{o||i((0,p.R)()).unwrap().then(e=>{400===e.statusCode&&r.push("/login?type=customer")}).catch(()=>{r.push("/login?type=customer")})},[i,r,o]),(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)("div",{className:"flex flex-col h-full",children:[(0,n.jsx)(S,{}),(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)("div",{className:" flex flex-1 overflow-y-hidden overflow-x-auto min-h-fit",children:[(0,n.jsx)("div",{className:"h-full sm:relative inset-x-0 absolute z-40 transition-all   ".concat(a.isOpen?"sm:min-w-52":"w-0 "),children:(0,n.jsx)(_,{})}),(0,n.jsx)("div",{className:" transition-all flex-1 overflow-y-scroll sm:w-auto w-screen  ".concat((a.isOpen,"")),children:t})]})})]})})}},31304:function(e,t,a){"use strict";a.d(t,{Z:function(){return N}});var n=a(57437),r=a(46475),o=a(3224),i=a(86220),s=a(34819),l=a(16114),c=a(53757),u=a(58102),d=a(79587),m=a(96473),p=a(91626),h=a(58970),f=a(44967),g=a(16836),y=a(11632),x=a(56612),v=a(20347),w=a(29487),b=a(45747),j=a(71096),C=a.n(j),S=a(99376),Z=a(2265),k=a(68575);function N(e){let{customer_id:t,refBtnCustomer:a,type:j}=e,[N]=(0,w.Z)(),{customerID:O}=(0,S.useParams)(),[P,_]=(0,Z.useState)([]),I=(0,k.I0)(),{postdata:E}=(0,r.Z)(),[z,A]=(0,Z.useState)(!1),D=async()=>{let e=await c.Z.getIDAccountCustomer(t);200===e.statusCode&&e.data&&(N.setFieldsValue({...e.data}),I((0,i.P)({customer_info:O})),I((0,o.m)()),_([{uid:e.data.customer_id,name:"logo.png",status:"done",url:e.data.picture_url}]))},q=async e=>{var a;let n=(0,d.Z)(Object.entries({...e,customer_id:null!=t?t:O.toString(),picture_url:P.length>0?[null==P?void 0:null===(a=P[0])||void 0===a?void 0:a.originFileObj]:null}).reduce((e,t)=>{let[a,n]=t;return null!=n&&(e[a]=n),e},{}));if("customer"===j){let e=await E(()=>u.Z.updateAccountCustomerProfile(n));(200===e||201===e)&&(N.resetFields(),A(!1),I((0,s.R)()))}else{let e=await E(()=>c.Z.updateAccountCustomer(t,n));(200===e||201===e)&&(N.resetFields(),A(!1),I((0,i.P)({customer_info:O})))}},M=(0,n.jsxs)("button",{style:{border:0,background:"none"},type:"button",children:[(0,n.jsx)(m.Z,{}),(0,n.jsx)("div",{style:{marginTop:8},children:"Upload"})]});return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(p.ZP,{className:"  text-xs text-yellow-500 font-semibold",type:"text",hidden:!!a,ref:a,onClick:()=>{A(!0),j?I((0,s.R)()).unwrap().then(e=>{200===e.statusCode&&(N.setFieldsValue({...e.data}),_([{uid:e.data.customer_id,name:"logo.png",status:"done",url:e.data.picture_url}]))}).catch(()=>{}):D()},children:"Chỉnh sửa"}),(0,n.jsx)(h.Z,{title:"Cập nhật kh\xe1ch h\xe0ng",open:z,onCancel:()=>{A(!1)},footer:null,width:"100%",style:{maxWidth:"800px"},children:(0,n.jsxs)(f.Z,{layout:"vertical",onFinish:q,form:N,style:{display:"flex",flexWrap:"wrap",gap:"8px"},children:[(0,n.jsxs)("div",{className:"flex flex-wrap gap-2 h-fit w-fit rounded-lg p-1",children:[(0,n.jsx)(f.Z.Item,{name:"full_name",className:"!m-0",label:"T\xean kh\xe1ch",rules:[{required:!0,message:"Vui l\xf2ng nhập t\xean c\xf4ng ty!"}],style:{minWidth:"320px",flex:"1 1 0%"},children:(0,n.jsx)(g.default,{})}),(0,n.jsx)(f.Z.Item,{name:"email",label:"Email",rules:[{required:!0,message:"Vui l\xf2ng nhập email!"}],style:{minWidth:"320px",flex:"1 1 0%"},children:(0,n.jsx)(g.default,{})}),(0,n.jsx)(f.Z.Item,{name:"password",label:"Mật khẩu",rules:[{required:!0,message:"Vui l\xf2ng nhập password!"}],style:{minWidth:"320px",flex:"1 1 0%"},children:(0,n.jsx)(g.default.Password,{})}),(0,n.jsx)(f.Z.Item,{name:"position",label:"Vị tr\xed",style:{minWidth:"320px",flex:"1 1 0%"},children:(0,n.jsx)(g.default,{})}),(0,n.jsx)(f.Z.Item,{name:"gender",label:"Giới t\xednh",style:{minWidth:"320px",flex:"1 1 0%"},children:(0,n.jsxs)(y.Z,{placeholder:"Select a currency type",defaultValue:"male",children:[(0,n.jsx)(b.W,{value:"male",children:"Nam"}),(0,n.jsx)(b.W,{value:"female",children:"Nữ"}),(0,n.jsx)(b.W,{value:"other",children:"Kh\xe1c"})]})}),(0,n.jsx)(f.Z.Item,{name:"phone_number",label:"Số điện thoại",rules:[{required:!0,message:"Vui l\xf2ng nhập số điện thoại!"}],style:{minWidth:"320px",flex:"1 1 0%"},children:(0,n.jsx)(g.default,{})}),(0,n.jsx)(f.Z.Item,{name:"date_of_birth",label:"Ng\xe0y sinh",initialValue:"",className:" mb-0",style:{minWidth:"320px",flex:"1 1 0%"},getValueFromEvent:e=>null==e?void 0:e.format("YYYY-MM-DD"),getValueProps:e=>({value:e?C()(e):""}),children:(0,n.jsx)(x.default,{placeholder:"Chọn ng\xe0y sinh",style:{width:"100%"}})}),(0,n.jsx)(f.Z.Item,{name:"picture_url",label:"Ảnh đại diện",className:"!m-0",style:{minWidth:"320px",flex:"1 1 0%"},children:(0,n.jsx)(v.default,{maxCount:1,action:"",listType:"picture-card",fileList:P,onPreview:e=>{I((0,l.BZ)(e.url))},onChange:e=>{let{file:t}=e;"removed"===t.status?_([]):_([t])},children:!(P.length>0)&&M})})]}),(0,n.jsx)(f.Z.Item,{style:{width:"100%",display:"flex",justifyContent:"end"},children:(0,n.jsx)(p.ZP,{type:"primary",htmlType:"submit",children:"Cập nhật"})})]})})]})}},46475:function(e,t,a){"use strict";var n=a(2265),r=a(7261);t.Z=()=>{let[e,t]=(0,n.useState)(null),[a,o]=(0,n.useState)(null);return{postdata:async e=>{let a=r.Am.loading("Processing...");try{let n=await e();if(n)return t(n),o(n.statusCode),200===n.statusCode||201===n.statusCode?r.Am.update(a,{render:n.message,type:"success",isLoading:!1,autoClose:2e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}):r.Am.update(a,{render:n.message,type:"error",isLoading:!1,position:"bottom-center",autoClose:2e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),n.statusCode;return r.Am.update(a,{render:"No response received.",type:"error",isLoading:!1,autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),null}catch(e){r.Am.update(a,{render:"An unexpected error occurred",type:"error",isLoading:!1,autoClose:3e3})}},statusCode:a,response:e}}},3224:function(e,t,a){"use strict";a.d(t,{m:function(){return o}});var n=a(53757),r=a(20301);let o=(0,r.hg)("customer/fetchCustomerAbout",async(e,t)=>{try{return await n.Z.getAboutCustomer()}catch(e){return t.rejectWithValue("Failed to fetch customer Infos")}}),i=(0,r.oM)({name:"customer_about",initialState:{datas:{totalCustomer:0,totalActive:0,totalInActive:0,contactActive:0,contactInactive:0,contactActiveToday:0},loading:!1,error:null},reducers:{},extraReducers:e=>{e.addCase(o.pending,e=>{e.loading=!0,e.error=null}).addCase(o.fulfilled,(e,t)=>{200===t.payload.statusCode&&(e.loading=!1,e.datas=t.payload.data)}).addCase(o.rejected,(e,t)=>{e.loading=!1,e.error=t.payload})}}).reducer;t.Z=i},86220:function(e,t,a){"use strict";a.d(t,{P:function(){return o}});var n=a(53757),r=a(20301);let o=(0,r.hg)("customer/fetchCustomerAccounts",async(e,t)=>{try{return await n.Z.getAllAccountCustomer(e)}catch(e){return t.rejectWithValue("Failed to fetch customer Infos")}}),i=(0,r.oM)({name:"customer_info",initialState:{datas:[],loading:!1,error:null},reducers:{},extraReducers:e=>{e.addCase(o.pending,e=>{e.loading=!0,e.error=null}).addCase(o.fulfilled,(e,t)=>{200===t.payload.statusCode&&(e.loading=!1,e.datas=t.payload.data)}).addCase(o.rejected,(e,t)=>{e.loading=!1,e.error=t.payload})}}).reducer;t.Z=i},34819:function(e,t,a){"use strict";a.d(t,{R:function(){return o}});var n=a(58102),r=a(20301);let o=(0,r.hg)("customer/fetchCustomerProfile",async(e,t)=>{try{return await n.Z.getProfileCustomer()}catch(e){return t.rejectWithValue("Failed to fetch user info")}}),i=(0,r.oM)({name:"customer_profile",initialState:{datas:null,loading:!1,error:null},reducers:{},extraReducers:e=>{e.addCase(o.pending,e=>{e.loading=!0,e.error=null}).addCase(o.fulfilled,(e,t)=>{200===t.payload.statusCode&&(e.loading=!1,e.datas=t.payload.data),400===t.payload.statusCode&&(e.loading=!1,e.datas=null)}).addCase(o.rejected,(e,t)=>{e.loading=!1,e.error=t.payload})}}).reducer;t.Z=i},16114:function(e,t,a){"use strict";a.d(t,{BZ:function(){return r},Ln:function(){return o}});let n=(0,a(20301).oM)({name:"image-preview",initialState:{value:""},reducers:{onChangeImagePreview:(e,t)=>{e.value=t.payload},onDeleteImagePreview:e=>{e.value=""}}}),{onChangeImagePreview:r,onDeleteImagePreview:o}=n.actions;t.ZP=n.reducer},49490:function(e,t,a){"use strict";a.d(t,{js:function(){return i}});let n=(0,a(20301).oM)({name:"toggle",initialState:{isOpen:!1},reducers:{openMenu:e=>{e.isOpen=!0},closeMenu:e=>{e.isOpen=!1},toggleMenu:e=>{e.isOpen=!e.isOpen}}}),{openMenu:r,closeMenu:o,toggleMenu:i}=n.actions;t.ZP=n.reducer},28223:function(e,t,a){"use strict";a.d(t,{Y:function(){return o}});var n=a(83464);let r=n.Z.create({baseURL:"https://api.sparking.cloud",timeout:2e4,headers:{"Content-Type":"application/json"},withCredentials:!0}),o=n.Z.create({baseURL:"https://api.sparking.cloud",timeout:2e4,headers:{"Content-Type":"multipart/form-data"},withCredentials:!0});t.Z=r},53757:function(e,t,a){"use strict";var n=a(28223),r=a(90382);t.Z={getAllCustomer:async()=>{try{return(await n.Z.get("/customer/get-all-customer?limit=0&page=0")).data}catch(e){throw(0,r.S)(e),e}},getAboutCustomer:async()=>{try{return(await n.Z.get("/customer/get-about-customer")).data}catch(e){throw(0,r.S)(e),e}},deleteGroupCustomer:async e=>{try{return(await n.Z.delete("/customer/group-customer",{data:e})).data}catch(e){throw(0,r.S)(e),e}},getChartCustomer:async()=>{try{return(await n.Z.get("/customer/get-customer-dashboard")).data}catch(e){throw(0,r.S)(e),e}},getFilterCustomer:async e=>{try{let t=new URLSearchParams;return e&&Object.entries(e).forEach(e=>{let[a,n]=e;null!=n&&t.append(a,n.toString())}),(await n.Z.get("/customer/get-customer-filter?".concat(t.toString()))).data}catch(e){throw(0,r.S)(e),e}},getGroupCustomer:async()=>{try{return(await n.Z.get("/customer/get-group-customer")).data}catch(e){throw(0,r.S)(e),e}},getCustomerID:async e=>{try{return(await n.Z.get("/customer/get-customer-id?info_id=".concat(e))).data}catch(e){throw(0,r.S)(e),e}},createInfoCustomer:async e=>{try{return(await n.Y.post("/customer/create-customer-info",e)).data}catch(e){throw(0,r.S)(e),e}},createAccountCustomer:async e=>{try{return(await n.Y.post("/customer/create-account-customer",e)).data}catch(e){throw(0,r.S)(e),e}},getAllAccountCustomer:async e=>{try{let t=new URLSearchParams;return e&&Object.entries(e).forEach(e=>{let[a,n]=e;null!=n&&t.append(a,n.toString())}),(await n.Z.get("/customer/get-all-account-customer?".concat(t.toString()))).data}catch(e){throw(0,r.S)(e),e}},getIDAccountCustomer:async e=>{try{return(await n.Z.get("/customer/get-id-account-customer/".concat(e))).data}catch(e){throw(0,r.S)(e),e}},updateAccountCustomer:async(e,t)=>{try{return(await n.Y.put("/customer/update-account-customer/".concat(e),t)).data}catch(e){throw(0,r.S)(e),e}},deleteInfoCustomer:async e=>{try{return(await n.Z.delete("/customer/customer-info",{data:e})).data}catch(e){throw(0,r.S)(e),e}},createGroupCustomer:async e=>{try{return(await n.Z.post("/customer/create-group-customer",e)).data}catch(e){throw(0,r.S)(e),e}},updateGroupCustomer:async(e,t)=>{try{return(await n.Z.put("/customer/update-group-customer/".concat(e),t)).data}catch(e){throw(0,r.S)(e),e}},updateStatusCustomer:async e=>(await n.Z.put("/customer/update-status-customer",e)).data,updateCustomerInfo:async e=>(console.log(e),(await n.Y.put("/customer/update-customer-info",e)).data)}},58102:function(e,t,a){"use strict";var n=a(90382),r=a(28223);t.Z={getProfileCustomer:async()=>{try{return(await r.Z.get("/customer/profile",{withCredentials:!0})).data}catch(e){throw(0,n.S)(e),e}},loginCustomer:async e=>(await r.Z.post("/auth/login-customer",e,{withCredentials:!0})).data,logoutCustomer:async()=>(await r.Z.post("/auth/logout-customer")).data,updatePasswordCustomer:async e=>{try{return(await r.Z.put("/customer/update-password",e)).data}catch(e){throw(0,n.S)(e),e}},updateAccountCustomerProfile:async e=>{try{return(await r.Y.put("/customer/update-account-customer-profile",e)).data}catch(e){throw(0,n.S)(e),e}},getAllCustomerByToken:async()=>{try{return(await r.Z.get("/customer/get-all-customer-by-token")).data}catch(e){throw(0,n.S)(e),e}},getAllProjectByToken:async()=>{try{return(await r.Z.get("/project/all-customer")).data}catch(e){throw(0,n.S)(e),e}},getAllPriceQuoteByToken:async()=>{try{return(await r.Z.get("/price_quote/all-customer")).data}catch(e){throw(0,n.S)(e),e}},getAllContractByToken:async()=>{try{return(await r.Z.get("/contract/all-customer")).data}catch(e){throw(0,n.S)(e),e}},getAllPaymentByToken:async()=>{try{return(await r.Z.get("/contract/all-payment-customer")).data}catch(e){throw(0,n.S)(e),e}}}},79587:function(e,t){"use strict";t.Z=e=>{let t=new FormData;return Object.keys(e).forEach(a=>{let n=e[a];Array.isArray(n)?0===n.length?t.append(a,JSON.stringify([])):"object"!=typeof n[0]||n.every(e=>e instanceof File)?"string"==typeof n[0]?n.forEach(e=>{t.append(a,e)}):n.forEach(e=>{t.append(a,e)}):t.append(a,JSON.stringify(n)):n instanceof File?t.append(a,n):"object"==typeof n&&null!==n?t.append(a,JSON.stringify(n)):null!=n&&t.append(a,String(n))}),t}},90382:function(e,t,a){"use strict";a.d(t,{S:function(){return r}});var n=a(7261);let r=e=>{var t,a,r;let o=(null===(a=e.response)||void 0===a?void 0:null===(t=a.data)||void 0===t?void 0:t.message)||"An unexpected error occurred",i=null===(r=e.response)||void 0===r?void 0:r.status;n.Am.dismiss(),403===i?n.Am.error("Bạn kh\xf4ng c\xf3 quyền"):n.Am.error(o)}},46231:function(e,t,a){"use strict";a.d(t,{w_:function(){return u}});var n=a(2265),r={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},o=n.createContext&&n.createContext(r),i=["attr","size","title"];function s(){return(s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function c(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(Object(a),!0).forEach(function(t){var n,r;n=t,r=a[t],(n=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(n))in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function u(e){return t=>n.createElement(d,s({attr:c({},e.attr)},t),function e(t){return t&&t.map((t,a)=>n.createElement(t.tag,c({key:a},t.attr),e(t.child)))}(e.child))}function d(e){var t=t=>{var a,{attr:r,size:o,title:l}=e,u=function(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;a[n]=e[n]}return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}(e,i),d=o||t.size||"1em";return t.className&&(a=t.className),e.className&&(a=(a?a+" ":"")+e.className),n.createElement("svg",s({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,u,{className:a,style:c(c({color:e.color||t.color},t.style),e.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),l&&n.createElement("title",null,l),e.children)};return void 0!==o?n.createElement(o.Consumer,null,e=>t(e)):t(r)}},50274:function(e,t,a){"use strict";function n(e,t,a){var n=(a||{}).atBegin;return function(e,t,a){var n,r=a||{},o=r.noTrailing,i=void 0!==o&&o,s=r.noLeading,l=void 0!==s&&s,c=r.debounceMode,u=void 0===c?void 0:c,d=!1,m=0;function p(){n&&clearTimeout(n)}function h(){for(var a=arguments.length,r=Array(a),o=0;o<a;o++)r[o]=arguments[o];var s=this,c=Date.now()-m;function h(){m=Date.now(),t.apply(s,r)}function f(){n=void 0}!d&&(l||!u||n||h(),p(),void 0===u&&c>e?l?(m=Date.now(),i||(n=setTimeout(u?f:h,e))):h():!0!==i&&(n=setTimeout(u?f:h,void 0===u?e-c:e)))}return h.cancel=function(e){var t=(e||{}).upcomingOnly;p(),d=!(void 0!==t&&t)},h}(e,t,{debounceMode:!1!==(void 0!==n&&n)})}a.d(t,{D:function(){return n}})}},function(e){e.O(0,[7699,5706,6950,3665,5319,5651,6006,8143,7526,7464,7821,3464,9481,314,9970,5270,1412,3281,7651,8970,4967,3569,6498,3984,6612,7648,3624,2971,2117,1744],function(){return e(e.s=48251)}),_N_E=e.O()}]);