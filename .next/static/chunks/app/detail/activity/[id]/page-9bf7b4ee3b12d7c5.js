(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8069],{33684:function(e,l,t){Promise.resolve().then(t.bind(t,68287))},8900:function(e,l,t){"use strict";t.d(l,{Z:function(){return c}});var s=t(1119),n=t(2265),a={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm193.5 301.7l-210.6 292a31.8 31.8 0 01-51.7 0L318.5 484.9c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.2 0 19.9 4.9 25.9 13.3l71.2 98.8 157.2-218c6-8.3 15.6-13.3 25.9-13.3H699c6.5 0 10.3 7.4 6.5 12.7z"}}]},name:"check-circle",theme:"filled"},i=t(10703),c=n.forwardRef(function(e,l){return n.createElement(i.Z,(0,s.Z)({},e,{ref:l,icon:a}))})},54537:function(e,l,t){"use strict";t.d(l,{Z:function(){return c}});var s=t(1119),n=t(2265),a={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm-32 232c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V296zm32 440a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"exclamation-circle",theme:"filled"},i=t(10703),c=n.forwardRef(function(e,l){return n.createElement(i.Z,(0,s.Z)({},e,{ref:l,icon:a}))})},48235:function(e,l,t){"use strict";var s=t(2265),n=t(54011),a=function(){return(a=Object.assign||function(e){for(var l,t=1,s=arguments.length;t<s;t++)for(var n in l=arguments[t])Object.prototype.hasOwnProperty.call(l,n)&&(e[n]=l[n]);return e}).apply(this,arguments)},i=(0,s.forwardRef)(function(e,l){return s.createElement(n.P,a({},e,{chartType:"Pie",ref:l}))});l.Z=i},3810:function(e,l,t){"use strict";t.d(l,{Z:function(){return O}});var s=t(2265),n=t(36760),a=t.n(n),i=t(18694),c=t(93350),r=t(53445),o=t(19722),d=t(6694),x=t(71744),u=t(95201),m=t(36360),f=t(12918),h=t(71140),v=t(99320);let p=e=>{let{paddingXXS:l,lineWidth:t,tagPaddingHorizontal:s,componentCls:n,calc:a}=e,i=a(s).sub(t).equal(),c=a(l).sub(t).equal();return{[n]:Object.assign(Object.assign({},(0,f.Wf)(e)),{display:"inline-block",height:"auto",marginInlineEnd:e.marginXS,paddingInline:i,fontSize:e.tagFontSize,lineHeight:e.tagLineHeight,whiteSpace:"nowrap",background:e.defaultBg,border:"".concat((0,u.unit)(e.lineWidth)," ").concat(e.lineType," ").concat(e.colorBorder),borderRadius:e.borderRadiusSM,opacity:1,transition:"all ".concat(e.motionDurationMid),textAlign:"start",position:"relative",["&".concat(n,"-rtl")]:{direction:"rtl"},"&, a, a:hover":{color:e.defaultColor},["".concat(n,"-close-icon")]:{marginInlineStart:c,fontSize:e.tagIconSize,color:e.colorTextDescription,cursor:"pointer",transition:"all ".concat(e.motionDurationMid),"&:hover":{color:e.colorTextHeading}},["&".concat(n,"-has-color")]:{borderColor:"transparent",["&, a, a:hover, ".concat(e.iconCls,"-close, ").concat(e.iconCls,"-close:hover")]:{color:e.colorTextLightSolid}},"&-checkable":{backgroundColor:"transparent",borderColor:"transparent",cursor:"pointer",["&:not(".concat(n,"-checkable-checked):hover")]:{color:e.colorPrimary,backgroundColor:e.colorFillSecondary},"&:active, &-checked":{color:e.colorTextLightSolid},"&-checked":{backgroundColor:e.colorPrimary,"&:hover":{backgroundColor:e.colorPrimaryHover}},"&:active":{backgroundColor:e.colorPrimaryActive}},"&-hidden":{display:"none"},["> ".concat(e.iconCls," + span, > span + ").concat(e.iconCls)]:{marginInlineStart:i}}),["".concat(n,"-borderless")]:{borderColor:"transparent",background:e.tagBorderlessBg}}},g=e=>{let{lineWidth:l,fontSizeIcon:t,calc:s}=e,n=e.fontSizeSM;return(0,h.mergeToken)(e,{tagFontSize:n,tagLineHeight:(0,u.unit)(s(e.lineHeightSM).mul(n).equal()),tagIconSize:s(t).sub(s(l).mul(2)).equal(),tagPaddingHorizontal:8,tagBorderlessBg:e.defaultBg})},j=e=>({defaultBg:new m.C(e.colorFillQuaternary).onBackground(e.colorBgContainer).toHexString(),defaultColor:e.colorText});var N=(0,v.I$)("Tag",e=>p(g(e)),j),b=function(e,l){var t={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&0>l.indexOf(s)&&(t[s]=e[s]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var n=0,s=Object.getOwnPropertySymbols(e);n<s.length;n++)0>l.indexOf(s[n])&&Object.prototype.propertyIsEnumerable.call(e,s[n])&&(t[s[n]]=e[s[n]]);return t};let y=s.forwardRef((e,l)=>{let{prefixCls:t,style:n,className:i,checked:c,onChange:r,onClick:o}=e,d=b(e,["prefixCls","style","className","checked","onChange","onClick"]),{getPrefixCls:u,tag:m}=s.useContext(x.E_),f=u("tag",t),[h,v,p]=N(f),g=a()(f,"".concat(f,"-checkable"),{["".concat(f,"-checkable-checked")]:c},null==m?void 0:m.className,i,v,p);return h(s.createElement("span",Object.assign({},d,{ref:l,style:Object.assign(Object.assign({},n),null==m?void 0:m.style),className:g,onClick:e=>{null==r||r(!c),null==o||o(e)}})))});var w=t(18536);let k=e=>(0,w.Z)(e,(l,t)=>{let{textColor:s,lightBorderColor:n,lightColor:a,darkColor:i}=t;return{["".concat(e.componentCls).concat(e.componentCls,"-").concat(l)]:{color:s,background:a,borderColor:n,"&-inverse":{color:e.colorTextLightSolid,background:i,borderColor:i},["&".concat(e.componentCls,"-borderless")]:{borderColor:"transparent"}}}});var C=(0,v.bk)(["Tag","preset"],e=>k(g(e)),j);let S=(e,l,t)=>{let s="string"!=typeof t?t:t.charAt(0).toUpperCase()+t.slice(1);return{["".concat(e.componentCls).concat(e.componentCls,"-").concat(l)]:{color:e["color".concat(t)],background:e["color".concat(s,"Bg")],borderColor:e["color".concat(s,"Border")],["&".concat(e.componentCls,"-borderless")]:{borderColor:"transparent"}}}};var _=(0,v.bk)(["Tag","status"],e=>{let l=g(e);return[S(l,"success","Success"),S(l,"processing","Info"),S(l,"error","Error"),S(l,"warning","Warning")]},j),Z=function(e,l){var t={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&0>l.indexOf(s)&&(t[s]=e[s]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var n=0,s=Object.getOwnPropertySymbols(e);n<s.length;n++)0>l.indexOf(s[n])&&Object.prototype.propertyIsEnumerable.call(e,s[n])&&(t[s[n]]=e[s[n]]);return t};let T=s.forwardRef((e,l)=>{let{prefixCls:t,className:n,rootClassName:u,style:m,children:f,icon:h,color:v,onClose:p,bordered:g=!0,visible:j}=e,b=Z(e,["prefixCls","className","rootClassName","style","children","icon","color","onClose","bordered","visible"]),{getPrefixCls:y,direction:w,tag:k}=s.useContext(x.E_),[S,T]=s.useState(!0),O=(0,i.Z)(b,["closeIcon","closable"]);s.useEffect(()=>{void 0!==j&&T(j)},[j]);let D=(0,c.o2)(v),E=(0,c.yT)(v),P=D||E,I=Object.assign(Object.assign({backgroundColor:v&&!P?v:void 0},null==k?void 0:k.style),m),B=y("tag",t),[H,M,F]=N(B),L=a()(B,null==k?void 0:k.className,{["".concat(B,"-").concat(v)]:P,["".concat(B,"-has-color")]:v&&!P,["".concat(B,"-hidden")]:!S,["".concat(B,"-rtl")]:"rtl"===w,["".concat(B,"-borderless")]:!g},n,u,M,F),z=e=>{e.stopPropagation(),null==p||p(e),e.defaultPrevented||T(!1)},[,Y]=(0,r.Z)((0,r.w)(e),(0,r.w)(k),{closable:!1,closeIconRender:e=>{let l=s.createElement("span",{className:"".concat(B,"-close-icon"),onClick:z},e);return(0,o.wm)(e,l,e=>({onClick:l=>{var t;null===(t=null==e?void 0:e.onClick)||void 0===t||t.call(e,l),z(l)},className:a()(null==e?void 0:e.className,"".concat(B,"-close-icon"))}))}}),A="function"==typeof b.onClick||f&&"a"===f.type,R=h||null,V=R?s.createElement(s.Fragment,null,R,f&&s.createElement("span",null,f)):f,W=s.createElement("span",Object.assign({},O,{ref:l,className:L,style:I}),V,Y,D&&s.createElement(C,{key:"preset",prefixCls:B}),E&&s.createElement(_,{key:"status",prefixCls:B}));return H(A?s.createElement(d.Z,{component:"Tag"},W):W)});T.CheckableTag=y;var O=T},68287:function(e,l,t){"use strict";t.r(l),t.d(l,{default:function(){return B}});var s=t(57437),n=t(91626),a=t(42654),i=t(2265),c=t(32768),r=t(94295);t(78300);var o=t(99376),d=t(24307),x=t(77398),u=t.n(x),m=t(68575);function f(e){var l,t;let{data:n}=e,{datas:a}=(0,m.v9)(e=>e.get_contracts);return(0,s.jsx)("div",{children:(0,s.jsxs)("div",{className:"flex flex-col sm:flex-1 sm:w-auto w-96",children:[(0,s.jsxs)("div",{className:"border-t-[1px] flex w-full py-2",children:[(0,s.jsx)("p",{className:"flex-1 flex justify-start font-medium",children:"M\xe3 hợp đồng"}),(0,s.jsx)("p",{className:"flex-1 flex justify-start",children:n&&(null===(l=a.find(e=>e.contract_id===n.contract))||void 0===l?void 0:l.code_contract)})]}),(0,s.jsxs)("div",{className:"border-t-[1px] flex w-full py-2",children:[(0,s.jsx)("p",{className:"flex-1 flex justify-start font-medium",children:"M\xf4 tả"}),(0,s.jsx)("p",{className:"flex-1 flex justify-start text-blue-500",children:null==n?void 0:n.description})]}),(0,s.jsxs)("div",{className:"border-t-[1px] flex w-full py-2",children:[(0,s.jsx)("p",{className:"flex-1 flex justify-start font-medium",children:"T\xecnh trạng"}),(0,s.jsx)("p",{className:"flex-1 flex justify-start",children:null==n?void 0:null===(t=n.statusinfo)||void 0===t?void 0:t.name})]}),(0,s.jsxs)("div",{className:"border-t-[1px] flex w-full py-2",children:[(0,s.jsx)("p",{className:"flex-1 flex justify-start font-medium",children:"Ng\xe0y tạo"}),(0,s.jsx)("p",{className:"flex-1 flex justify-start",children:u()(null==n?void 0:n.created_at).format("DD/MM/YYYY")})]}),(0,s.jsxs)("div",{className:"border-t-[1px] flex w-full py-2",children:[(0,s.jsx)("p",{className:"flex-1 flex justify-start font-medium",children:"Ng\xe0y bắt đầu"}),(0,s.jsx)("p",{className:"flex-1 flex justify-start",children:u()(null==n?void 0:n.time_start).format("DD/MM/YYYY")})]}),(0,s.jsxs)("div",{className:"border-t-[1px] flex w-full py-2",children:[(0,s.jsx)("p",{className:"flex-1 flex justify-start font-medium",children:"Hạn ho\xe0n th\xe0nh"}),(0,s.jsx)("p",{className:"flex-1 flex justify-start",children:u()(null==n?void 0:n.time_end).format("DD/MM/YYYY")})]})]})})}var h=t(3810),v=t(91250);t(30115);var p=t(22744),g=t(88723),j=t(46475),N=t(58970),b=t(87863),y=t(59958),w=t(14301),k=t(76186),C=t(49089),S=t(45168);function _(e){var l,t,a,c,o,x,u,m,f,h,v,_,Z,T,O,D,E,P,I,B,H,M,F,L;let{id:z,setIdWork:Y}=e,{postdata:A}=(0,j.Z)(),R=(0,i.useRef)(),[V,W]=(0,i.useState)(),U=async()=>{let e=await d.Z.getWorkById(z);200===e.statusCode&&W(e.data)};(0,i.useEffect)(()=>{z&&U()},[z]);let q=e=>(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)("div",{className:"p-2 flex flex-col w-full",children:[(0,s.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,s.jsx)(p.f$3,{}),(0,s.jsxs)("p",{className:"break-words text-wrap",children:[new Date(e.time_start).toLocaleString("vi-VN",{timeZone:"UTC",hour12:!1})," - ",new Date(e.time_end).toLocaleString("vi-VN",{timeZone:"UTC",hour12:!1})]})]}),(0,s.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,s.jsx)(S.kk4,{}),(0,s.jsx)("p",{className:"break-words text-wrap",children:e.description})]})]})}),G=async(e,l)=>{let t=await A(()=>d.Z.updateTask(e,{status:l}));(200===t||201===t)&&U()};return(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(N.Z,{open:!!z&&""!==z,className:"!w-screen !h-screen !inset-2",title:"Chi tiết c\xf4ng việc",footer:!1,onCancel:()=>{Y("")},children:(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex gap-2 flex-wrap p-4 bg-gray-300",children:[(0,s.jsxs)("div",{className:"bg-white rounded-sm flex-1 basis-1/5 min-h-screen p-2 flex flex-col gap-8",children:[(0,s.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,s.jsx)("p",{className:"font-medium  text-xs",children:"Người thực hiện"}),(0,s.jsx)("div",{className:"flex flex-col text-gray-500 gap-1",children:null==V?void 0:null===(l=V.list_user)||void 0===l?void 0:l.map(e=>{var l;return(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)("div",{className:"flex gap-2 w-full items-center",children:[(0,s.jsx)("div",{className:"min-w-6 min-h-6 max-w-6 max-h-6 w-6 h-6 ",children:(0,s.jsx)(b.C,{className:"w-full h-full",style:{verticalAlign:"middle"},size:"default",src:null==e?void 0:e.picture_url,children:null==e?void 0:e.last_name})}),(0,s.jsxs)("div",{className:"w-full flex flex-col",children:[(0,s.jsxs)("p",{className:"text-xs uppercase font",children:[null==e?void 0:e.first_name," ",null==e?void 0:e.last_name]}),(0,s.jsx)("p",{className:"text-xs uppercase font-semibold text-green-400",children:null==e?void 0:null===(l=e.group_user)||void 0===l?void 0:l.name_group})]})]})})})})]}),(0,s.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,s.jsx)("p",{className:"font-medium  text-xs",children:"Người giao việc"}),(0,s.jsx)("div",{className:"flex flex-col text-gray-500",children:(0,s.jsx)("div",{className:"flex gap-2 w-full items-center",children:(0,s.jsxs)("div",{className:"w-full flex flex-col",children:[(0,s.jsxs)("div",{className:"flex gap-4 w-11/12 text-xs",children:[(0,s.jsx)("p",{className:"w-16",children:"Người giao:"}),(0,s.jsxs)("p",{children:[null==V?void 0:null===(t=V.user_create)||void 0===t?void 0:t.first_name," ",null==V?void 0:null===(a=V.user_create)||void 0===a?void 0:a.last_name]})]}),(0,s.jsxs)("div",{className:"flex gap-4 w-11/12 text-xs",children:[(0,s.jsx)("p",{className:"w-16",children:"Ng\xe0y giao:"}),(0,s.jsx)("p",{children:new Date(null!==(T=null==V?void 0:V.created_at)&&void 0!==T?T:"").toLocaleDateString("vi-vn")})]})]})})})]}),(0,s.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,s.jsx)("p",{className:"font-medium text-xs",children:"Đ\xe1nh gi\xe1 c\xf4ng việc"}),(0,s.jsx)("div",{className:"flex flex-col  text-gray-500",children:(0,s.jsx)("div",{className:"flex gap-2 w-full items-center",children:(0,s.jsx)("div",{className:"w-full flex flex-col",children:(0,s.jsxs)("div",{className:"flex gap-4 w-11/12 text-xs",children:[(0,s.jsx)("p",{className:"w-16",children:"Khối lượng:"}),(0,s.jsx)("p",{children:null==V?void 0:null===(c=V.tasks)||void 0===c?void 0:c.length})]})})})})]})]}),(0,s.jsxs)("div",{className:"bg-white rounded-sm flex-1 basis-3/4 min-h-screen p-2 flex flex-col gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex gap-1 items-center",children:[(0,s.jsx)(k.UMi,{}),(0,s.jsx)("p",{className:"text-lg font-semibold",children:null==V?void 0:V.name})]}),(0,s.jsxs)("div",{className:"text-gray-500",children:[(0,s.jsxs)("div",{className:"flex gap-1 items-center",children:[(0,s.jsx)("p",{children:"trong hoạt động"}),(0,s.jsx)("a",{className:"uppercase text-green-500",children:null==V?void 0:null===(o=V.activity)||void 0===o?void 0:o.name})]}),(0,s.jsxs)("div",{className:"flex gap-1 items-center",children:[(0,s.jsx)("p",{children:"thuộc hạng mục"}),(0,s.jsx)("a",{className:"uppercase text-green-500",children:null==V?void 0:V.type.name})]})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsxs)("div",{className:"flex flex-col items-center text-sm",children:[(0,s.jsx)("p",{className:"font-semibold",children:"THỜI GIAN"}),(0,s.jsxs)("p",{className:"p-2 rounded-sm text-xs bg-green-500 text-white",children:[(new Date(null!==(O=null==V?void 0:V.time_end)&&void 0!==O?O:"").getTime()-new Date(null!==(D=null==V?void 0:V.time_start)&&void 0!==D?D:"").getTime())/36e5," giờ"]})]}),(0,s.jsxs)("div",{className:"flex flex-col items-center text-sm",children:[(0,s.jsx)("p",{className:"font-semibold",children:"NG\xc0Y BẮT ĐẦU"}),(0,s.jsx)("p",{className:"p-2 rounded-sm text-xs bg-green-500 text-white",children:new Date(null!==(E=null==V?void 0:V.time_start)&&void 0!==E?E:"").toLocaleDateString("vi-vn")})]}),(0,s.jsxs)("div",{className:"flex flex-col items-center text-sm",children:[(0,s.jsx)("p",{className:"font-semibold",children:"NG\xc0Y HẾT HẠN"}),(0,s.jsx)("p",{className:"p-2 rounded-sm text-xs bg-green-500 text-white",children:new Date(null!==(P=null==V?void 0:V.time_end)&&void 0!==P?P:"").toLocaleDateString("vi-vn")})]}),(0,s.jsxs)("div",{className:"flex flex-col items-center text-sm",children:[(0,s.jsx)("p",{className:"font-semibold",children:"TRẠNG TH\xc1I"}),(0,s.jsx)("p",{className:"p-2 rounded-sm text-xs bg-blue-500 text-white",children:null==V?void 0:null===(x=V.status)||void 0===x?void 0:x.name})]}),(0,s.jsxs)("div",{className:"flex flex-col items-center text-sm",children:[(0,s.jsx)("p",{className:"font-semibold",children:"TIẾN ĐỘ"}),(0,s.jsxs)("p",{className:"p-2 rounded-sm text-xs bg-green-700 text-white",children:[(null!==(I=null==V?void 0:null===(u=V.tasks)||void 0===u?void 0:u.filter(e=>"success"===e.status).length)&&void 0!==I?I:0)/(null!==(B=null==V?void 0:null===(m=V.tasks)||void 0===m?void 0:m.length)&&void 0!==B?B:1)*100,"%"]})]})]}),(0,s.jsxs)("div",{className:"flex flex-col",children:[(0,s.jsxs)("div",{className:"flex items-center gap-1",children:[(0,s.jsx)(S.kk4,{}),(0,s.jsx)("p",{children:"M\xf4 tả"})]}),(0,s.jsx)("p",{className:"text-gray-500",children:null==V?void 0:V.description})]}),(0,s.jsxs)("div",{className:"flex flex-col",children:[(0,s.jsxs)("div",{className:"flex items-center gap-1",children:[(0,s.jsx)(C.AEx,{}),(0,s.jsx)("p",{children:"Task"}),(0,s.jsx)(n.ZP,{className:"text-2xl",icon:(0,s.jsx)(r.S$f,{}),type:"link",onClick:()=>{var e;null===(e=R.current)||void 0===e||e.click()}})]}),(0,s.jsx)(y.Z,{percent:(null!==(H=null==V?void 0:null===(f=V.tasks)||void 0===f?void 0:f.filter(e=>"waitting"===e.status).length)&&void 0!==H?H:0)/(null!==(M=null==V?void 0:null===(h=V.tasks)||void 0===h?void 0:h.length)&&void 0!==M?M:1)*100,success:{percent:(null!==(F=null==V?void 0:null===(v=V.tasks)||void 0===v?void 0:v.filter(e=>"success"===e.status).length)&&void 0!==F?F:0)/(null!==(L=null==V?void 0:null===(_=V.tasks)||void 0===_?void 0:_.length)&&void 0!==L?L:1)*100}}),(0,s.jsx)("div",{className:"flex flex-col gap-2 p-2",children:null==V?void 0:null===(Z=V.tasks)||void 0===Z?void 0:Z.map(e=>"waitting"===e.status?(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(w.Z,{title:e.name.toUpperCase(),content:q(e),trigger:"hover",children:(0,s.jsxs)("p",{className:"py-2 border-b-[1px] flex justify-between items-center",children:[e.name,(0,s.jsxs)("span",{className:"flex",children:[(0,s.jsx)(n.ZP,{icon:(0,s.jsx)(C.FJM,{className:"text-green-400 text-2xl"}),type:"link",onClick:()=>{G(e.task_id,"success")}})," ",(0,s.jsx)(n.ZP,{icon:(0,s.jsx)(r.FMH,{className:"text-red-400  text-3xl"}),type:"link",onClick:()=>{G(e.task_id,"fail")}})," "]})]})})}):(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(w.Z,{title:e.name,content:q(e),trigger:"hover",children:(0,s.jsx)("p",{className:"py-2 border-b-[1px] text-green-400",children:e.name})})}))})]})]})]}),(0,s.jsx)(g.Z,{refBtnTask:R,id:z,resetData:U})]})})})}function Z(){let[e,l]=(0,i.useState)(),{id:t}=(0,o.useParams)(),[a,c]=(0,i.useState)(),[r,x]=(0,i.useState)([]),[u,m]=(0,i.useState)();(0,i.useEffect)(()=>{if(a){let e=a.filter(e=>new Date(e.created_at).toLocaleDateString("vi-vn")===new Date().toLocaleDateString("vi-vn"));m(a.filter(e=>new Date(e.created_at).toLocaleDateString("vi-vn")!==new Date().toLocaleDateString("vi-vn")).reduce((e,l)=>{var t;let s=new Date(null!==(t=l.created_at)&&void 0!==t?t:"").toLocaleDateString("vi-VN");return e[s]||(e[s]=[]),e[s].push(l),e},{})),x(e)}},[a]);let f=async()=>{let e=await d.Z.getWorkByActivity(t);200===e.statusCode&&c(e.data)};(0,i.useEffect)(()=>{t&&f()},[t]);let g=[{title:"",dataIndex:"work_id",className:"text-xs",render:()=>(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(n.ZP,{icon:(0,s.jsx)(p.QZE,{className:"text-yellow-400"}),type:"link"})})||"N/A",width:2},{title:"",dataIndex:"name",className:"text-xs",render:(e,t)=>{var n;let a="";switch(t.status.name_tag){case"process":a="gold";break;case"completed":a="green";break;case"delete":a="red";break;case"hide":a="gray";break;default:a="default"}return(0,s.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,s.jsx)("p",{className:"capitalize cursor-pointer",onClick:()=>{l(t.work_id)},children:(null!==(n=null==e?void 0:e.length)&&void 0!==n?n:0)>40?"".concat((null!=e?e:"").slice(0,40),"..."):null!=e?e:"N/A"}),(0,s.jsx)(h.Z,{className:"",color:a,children:t.status.name})]})}}];return(0,s.jsxs)("div",{className:"flex flex-col gap-2 max-w-full w-full rounded-lg h-96",children:[(0,s.jsx)("div",{className:"flex flex-col gap-2",children:(0,s.jsx)("div",{children:(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"w-full flex items-center",children:(0,s.jsxs)("p",{className:"font-bold text-sm text-center",children:["Ng\xe0y h\xf4m nay ",(0,s.jsxs)("span",{className:"font-light",children:["(",r.length,")"]})]})}),(0,s.jsx)("div",{children:(0,s.jsx)(v.Z,{columns:g,dataSource:r,scroll:{x:"max-content"},showHeader:!1,pagination:!1,showSorterTooltip:{target:"sorter-icon"}})})]}),u&&Object.keys(u).map(e=>(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)("div",{className:"my-4",children:[(0,s.jsxs)("p",{className:"font-bold text-sm",children:["Ng\xe0y ",e," ",(0,s.jsxs)("span",{className:"font-light",children:["(",u[e].length,")"]})," "]}),(0,s.jsx)("div",{children:(0,s.jsx)(v.Z,{columns:g,dataSource:u[e],scroll:{x:"max-content"},showHeader:!1,pagination:!1,showSorterTooltip:{target:"sorter-icon"}})})]})}))]})})}),(0,s.jsx)(_,{id:e,setIdWork:l})]})}var T=t(48235);let O=()=>{var e,l,t,n;let{id:a}=(0,o.useParams)(),[c,r]=(0,i.useState)(),x=async()=>{let e=await d.Z.dashboardActivity(a);200===e.statusCode&&r(e.data)};(0,i.useEffect)(()=>{a&&x()},[a]);let u={data:[{type:"Ho\xe0n tất",value:null!==(e=null==c?void 0:c.completed)&&void 0!==e?e:0},{type:"Đang thực hiện",value:null!==(l=null==c?void 0:c.process)&&void 0!==l?l:0},{type:"Đ\xe3 hủy",value:null!==(t=null==c?void 0:c.delete)&&void 0!==t?t:0}],angleField:"value",colorField:"type",innerRadius:.6,label:!1,legend:{color:{title:!1,position:"right",rowPadding:5}},annotations:[{type:"text",style:{text:"".concat((null!==(n=null==c?void 0:c.completed)&&void 0!==n?n:1)/((null==c?void 0:c.total)===0?1:null==c?void 0:c.total)*100)+"%",x:"50%",y:"50%",textAlign:"center",fontSize:15,fontStyle:"bold"}}]};return(0,s.jsx)(s.Fragment,{children:c&&(0,s.jsx)(T.Z,{...u})})};var D=t(64150);function E(){var e,l,t,x,u,m,h,v,p;let g=(0,i.useRef)(),j=(0,o.useRouter)(),[N,b]=(0,i.useState)(),[y,w]=(0,i.useState)(),{id:k}=(0,o.useParams)(),C=async()=>{let e=await d.Z.dashboardActivity(k),l=await d.Z.getActivityById(k);200===e.statusCode&&200===l.statusCode&&(b(e.data),w(l.data))};(0,i.useEffect)(()=>{k&&C()},[k]);let S=[{label:"Chi tiết hoạt động",key:"detail",children:(0,s.jsx)(f,{data:y})},{label:"C\xf4ng việc",key:"ac",children:(0,s.jsxs)("div",{className:"flex flex-col",children:[(0,s.jsx)("div",{className:"py-4",children:(0,s.jsx)(n.ZP,{className:"text-xs",icon:(0,s.jsx)(r.gyF,{}),onClick:()=>{var e;null===(e=g.current)||void 0===e||e.click()},children:"Th\xeam c\xf4ng việc"})}),(0,s.jsx)("div",{children:(0,s.jsx)(Z,{})})]})}];return(0,s.jsxs)("div",{className:"flex flex-col w-full",children:[(0,s.jsx)("div",{className:"p-1",children:(0,s.jsx)(n.ZP,{type:"link",icon:(0,s.jsx)(c.Eg1,{}),onClick:()=>{j.back()},children:"Quay lại"})}),(0,s.jsx)("div",{className:"text-xl border-y-[1px] p-6",children:(0,s.jsx)("p",{children:"Theo d\xf5i hoạt động"})}),(0,s.jsxs)("div",{className:"p-6",children:[(0,s.jsx)("p",{className:"font-semibold",children:"Tổng quan"}),(0,s.jsxs)("p",{className:"text-sm text-gray-400",children:["Hoạt động ",null==y?void 0:y.name]}),(0,s.jsxs)("div",{className:"flex py-2 gap-2 items-center flex-wrap",children:[(0,s.jsx)("div",{className:"flex-1 max-w-96 shadow-2xl shadow-blue-500/20 rounded-md",children:(0,s.jsx)("div",{className:"h-32",children:(0,s.jsx)(O,{})})}),(0,s.jsxs)("div",{className:"flex gap-2 h-32 flex-1 justify-around shadow-[rgba(7,_65,_210,_0.1)_0px_9px_30px] rounded-md flex-wrap min-h-fit",children:[(0,s.jsxs)("div",{className:"flex flex-col gap-1 items-center justify-center p-2 min-w-fit",children:[(0,s.jsx)("p",{children:"Số c\xf4ng việc"}),(0,s.jsx)("p",{className:"font-semibold text-2xl",children:"4"}),(0,s.jsx)("p",{children:"100% c\xf4ng việc"})]}),(0,s.jsxs)("div",{className:"flex flex-col gap-1 items-center justify-center p-2 min-w-fit",children:[(0,s.jsx)("p",{children:"CV xong"}),(0,s.jsx)("p",{className:"font-semibold text-2xl",children:null!==(e=null==N?void 0:N.completed)&&void 0!==e?e:0}),(0,s.jsxs)("p",{children:[(null!==(l=null==N?void 0:N.completed)&&void 0!==l?l:0)*100/(null!==(t=null==N?void 0:N.total)&&void 0!==t?t:1),"% c\xf4ng việc"]})]}),(0,s.jsxs)("div",{className:"flex flex-col gap-1 items-center justify-center p-2 min-w-fit",children:[(0,s.jsx)("p",{children:"CV đang thực hiện"}),(0,s.jsx)("p",{className:"font-semibold text-2xl",children:null!==(x=null==N?void 0:N.process)&&void 0!==x?x:0}),(0,s.jsxs)("p",{children:[(null!==(u=null==N?void 0:N.process)&&void 0!==u?u:0)*100/(null!==(m=null==N?void 0:N.total)&&void 0!==m?m:1),"% c\xf4ng việc"]})]}),(0,s.jsxs)("div",{className:"flex flex-col gap-1 items-center justify-center p-2 min-w-fit",children:[(0,s.jsx)("p",{children:"CV hủy"}),(0,s.jsx)("p",{className:"font-semibold text-2xl",children:null!==(h=null==N?void 0:N.deleted)&&void 0!==h?h:0}),(0,s.jsxs)("p",{children:[(null!==(v=null==N?void 0:N.deleted)&&void 0!==v?v:0)*100/(null!==(p=null==N?void 0:N.total)&&void 0!==p?p:1),"% c\xf4ng việc"]})]})]})]}),(0,s.jsx)("div",{children:(0,s.jsx)(a.Z,{className:"w-full custom-tabs",items:S,tabPosition:"top"})})]}),(0,s.jsx)(D.Z,{refBtnWork:g})]})}var P=t(11265),I=t(41259);function B(){let e=(0,m.I0)();return(0,i.useEffect)(()=>{e((0,P.ij)({})),e((0,I.C)())},[e]),(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(E,{})})}},30115:function(){},78300:function(){}},function(e){e.O(0,[5839,5652,6051,7699,5706,5452,1994,6950,522,6990,1866,9508,1694,5319,5651,6006,8143,7526,7464,7821,3464,9481,314,9970,5270,1412,3281,7651,6399,5422,1250,8970,4967,3569,3344,6498,3984,136,6612,480,7580,8026,1017,8230,4599,6966,2883,9626,4519,6081,2971,2117,1744],function(){return e(e.s=33684)}),_N_E=e.O()}]);