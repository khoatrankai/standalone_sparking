(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3929],{13487:function(e,t,l){Promise.resolve().then(l.bind(l,47974))},8900:function(e,t,l){"use strict";l.d(t,{Z:function(){return s}});var n=l(1119),a=l(2265),o={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm193.5 301.7l-210.6 292a31.8 31.8 0 01-51.7 0L318.5 484.9c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.2 0 19.9 4.9 25.9 13.3l71.2 98.8 157.2-218c6-8.3 15.6-13.3 25.9-13.3H699c6.5 0 10.3 7.4 6.5 12.7z"}}]},name:"check-circle",theme:"filled"},r=l(10703),s=a.forwardRef(function(e,t){return a.createElement(r.Z,(0,n.Z)({},e,{ref:t,icon:o}))})},54537:function(e,t,l){"use strict";l.d(t,{Z:function(){return s}});var n=l(1119),a=l(2265),o={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm-32 232c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V296zm32 440a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"exclamation-circle",theme:"filled"},r=l(10703),s=a.forwardRef(function(e,t){return a.createElement(r.Z,(0,n.Z)({},e,{ref:t,icon:o}))})},48235:function(e,t,l){"use strict";var n=l(2265),a=l(54011),o=function(){return(o=Object.assign||function(e){for(var t,l=1,n=arguments.length;l<n;l++)for(var a in t=arguments[l])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},r=(0,n.forwardRef)(function(e,t){return n.createElement(a.P,o({},e,{chartType:"Pie",ref:t}))});t.Z=r},3810:function(e,t,l){"use strict";l.d(t,{Z:function(){return E}});var n=l(2265),a=l(36760),o=l.n(a),r=l(18694),s=l(93350),c=l(53445),i=l(19722),d=l(6694),u=l(71744),f=l(95201),x=l(36360),m=l(12918),h=l(71140),p=l(99320);let v=e=>{let{paddingXXS:t,lineWidth:l,tagPaddingHorizontal:n,componentCls:a,calc:o}=e,r=o(n).sub(l).equal(),s=o(t).sub(l).equal();return{[a]:Object.assign(Object.assign({},(0,m.Wf)(e)),{display:"inline-block",height:"auto",marginInlineEnd:e.marginXS,paddingInline:r,fontSize:e.tagFontSize,lineHeight:e.tagLineHeight,whiteSpace:"nowrap",background:e.defaultBg,border:"".concat((0,f.unit)(e.lineWidth)," ").concat(e.lineType," ").concat(e.colorBorder),borderRadius:e.borderRadiusSM,opacity:1,transition:"all ".concat(e.motionDurationMid),textAlign:"start",position:"relative",["&".concat(a,"-rtl")]:{direction:"rtl"},"&, a, a:hover":{color:e.defaultColor},["".concat(a,"-close-icon")]:{marginInlineStart:s,fontSize:e.tagIconSize,color:e.colorTextDescription,cursor:"pointer",transition:"all ".concat(e.motionDurationMid),"&:hover":{color:e.colorTextHeading}},["&".concat(a,"-has-color")]:{borderColor:"transparent",["&, a, a:hover, ".concat(e.iconCls,"-close, ").concat(e.iconCls,"-close:hover")]:{color:e.colorTextLightSolid}},"&-checkable":{backgroundColor:"transparent",borderColor:"transparent",cursor:"pointer",["&:not(".concat(a,"-checkable-checked):hover")]:{color:e.colorPrimary,backgroundColor:e.colorFillSecondary},"&:active, &-checked":{color:e.colorTextLightSolid},"&-checked":{backgroundColor:e.colorPrimary,"&:hover":{backgroundColor:e.colorPrimaryHover}},"&:active":{backgroundColor:e.colorPrimaryActive}},"&-hidden":{display:"none"},["> ".concat(e.iconCls," + span, > span + ").concat(e.iconCls)]:{marginInlineStart:r}}),["".concat(a,"-borderless")]:{borderColor:"transparent",background:e.tagBorderlessBg}}},g=e=>{let{lineWidth:t,fontSizeIcon:l,calc:n}=e,a=e.fontSizeSM;return(0,h.mergeToken)(e,{tagFontSize:a,tagLineHeight:(0,f.unit)(n(e.lineHeightSM).mul(a).equal()),tagIconSize:n(l).sub(n(t).mul(2)).equal(),tagPaddingHorizontal:8,tagBorderlessBg:e.defaultBg})},j=e=>({defaultBg:new x.C(e.colorFillQuaternary).onBackground(e.colorBgContainer).toHexString(),defaultColor:e.colorText});var y=(0,p.I$)("Tag",e=>v(g(e)),j),b=function(e,t){var l={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(l[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)0>t.indexOf(n[a])&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(l[n[a]]=e[n[a]]);return l};let N=n.forwardRef((e,t)=>{let{prefixCls:l,style:a,className:r,checked:s,onChange:c,onClick:i}=e,d=b(e,["prefixCls","style","className","checked","onChange","onClick"]),{getPrefixCls:f,tag:x}=n.useContext(u.E_),m=f("tag",l),[h,p,v]=y(m),g=o()(m,"".concat(m,"-checkable"),{["".concat(m,"-checkable-checked")]:s},null==x?void 0:x.className,r,p,v);return h(n.createElement("span",Object.assign({},d,{ref:t,style:Object.assign(Object.assign({},a),null==x?void 0:x.style),className:g,onClick:e=>{null==c||c(!s),null==i||i(e)}})))});var w=l(18536);let C=e=>(0,w.Z)(e,(t,l)=>{let{textColor:n,lightBorderColor:a,lightColor:o,darkColor:r}=l;return{["".concat(e.componentCls).concat(e.componentCls,"-").concat(t)]:{color:n,background:o,borderColor:a,"&-inverse":{color:e.colorTextLightSolid,background:r,borderColor:r},["&".concat(e.componentCls,"-borderless")]:{borderColor:"transparent"}}}});var k=(0,p.bk)(["Tag","preset"],e=>C(g(e)),j);let S=(e,t,l)=>{let n="string"!=typeof l?l:l.charAt(0).toUpperCase()+l.slice(1);return{["".concat(e.componentCls).concat(e.componentCls,"-").concat(t)]:{color:e["color".concat(l)],background:e["color".concat(n,"Bg")],borderColor:e["color".concat(n,"Border")],["&".concat(e.componentCls,"-borderless")]:{borderColor:"transparent"}}}};var P=(0,p.bk)(["Tag","status"],e=>{let t=g(e);return[S(t,"success","Success"),S(t,"processing","Info"),S(t,"error","Error"),S(t,"warning","Warning")]},j),O=function(e,t){var l={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(l[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)0>t.indexOf(n[a])&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(l[n[a]]=e[n[a]]);return l};let _=n.forwardRef((e,t)=>{let{prefixCls:l,className:a,rootClassName:f,style:x,children:m,icon:h,color:p,onClose:v,bordered:g=!0,visible:j}=e,b=O(e,["prefixCls","className","rootClassName","style","children","icon","color","onClose","bordered","visible"]),{getPrefixCls:N,direction:w,tag:C}=n.useContext(u.E_),[S,_]=n.useState(!0),E=(0,r.Z)(b,["closeIcon","closable"]);n.useEffect(()=>{void 0!==j&&_(j)},[j]);let Z=(0,s.o2)(p),H=(0,s.yT)(p),T=Z||H,D=Object.assign(Object.assign({backgroundColor:p&&!T?p:void 0},null==C?void 0:C.style),x),B=N("tag",l),[I,z,M]=y(B),R=o()(B,null==C?void 0:C.className,{["".concat(B,"-").concat(p)]:T,["".concat(B,"-has-color")]:p&&!T,["".concat(B,"-hidden")]:!S,["".concat(B,"-rtl")]:"rtl"===w,["".concat(B,"-borderless")]:!g},a,f,z,M),L=e=>{e.stopPropagation(),null==v||v(e),e.defaultPrevented||_(!1)},[,Y]=(0,c.Z)((0,c.w)(e),(0,c.w)(C),{closable:!1,closeIconRender:e=>{let t=n.createElement("span",{className:"".concat(B,"-close-icon"),onClick:L},e);return(0,i.wm)(e,t,e=>({onClick:t=>{var l;null===(l=null==e?void 0:e.onClick)||void 0===l||l.call(e,t),L(t)},className:o()(null==e?void 0:e.className,"".concat(B,"-close-icon"))}))}}),F="function"==typeof b.onClick||m&&"a"===m.type,A=h||null,q=A?n.createElement(n.Fragment,null,A,m&&n.createElement("span",null,m)):m,W=n.createElement("span",Object.assign({},E,{ref:t,className:R,style:D}),q,Y,Z&&n.createElement(k,{key:"preset",prefixCls:B}),H&&n.createElement(P,{key:"status",prefixCls:B}));return I(F?n.createElement(d.Z,{component:"Tag"},W):W)});_.CheckableTag=N;var E=_},99376:function(e,t,l){"use strict";var n=l(35475);l.o(n,"useParams")&&l.d(t,{useParams:function(){return n.useParams}}),l.o(n,"usePathname")&&l.d(t,{usePathname:function(){return n.usePathname}}),l.o(n,"useRouter")&&l.d(t,{useRouter:function(){return n.useRouter}}),l.o(n,"useSearchParams")&&l.d(t,{useSearchParams:function(){return n.useSearchParams}})},47974:function(e,t,l){"use strict";l.r(t),l.d(t,{default:function(){return S}});var n=l(57437),a=l(91626),o=l(42654),r=l(2265),s=l(32768),c=l(94295),i=l(3810),d=l(91250);l(74965);var u=l(22744),f=l(99376),x=l(24307);function m(){let{id:e}=(0,f.useParams)(),[t,l]=(0,r.useState)(),[o,s]=(0,r.useState)([]),[c,m]=(0,r.useState)();(0,r.useEffect)(()=>{if(t){let e=t.filter(e=>new Date(e.created_at).toLocaleDateString("vi-vn")===new Date().toLocaleDateString("vi-vn"));m(t.filter(e=>new Date(e.created_at).toLocaleDateString("vi-vn")!==new Date().toLocaleDateString("vi-vn")).reduce((e,t)=>{var l;let n=new Date(null!==(l=t.created_at)&&void 0!==l?l:"").toLocaleDateString("vi-VN");return e[n]||(e[n]=[]),e[n].push(t),e},{})),s(e)}},[t]);let h=async()=>{let t=await x.Z.getActivityByContract(e);200===t.statusCode&&l(t.data)};(0,r.useEffect)(()=>{e&&h()},[e]);let p=[{title:"",dataIndex:"activity_id",className:"text-xs",render:()=>(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(a.ZP,{icon:(0,n.jsx)(u.QZE,{className:"text-yellow-400"}),type:"link"})})||"N/A",width:2},{title:"",dataIndex:"name",className:"text-xs",render:(e,t)=>{var l;let a="",o="";switch(t.status.name_tag){case"process":a="gold",o="Đang thực hiện";break;case"completed":a="green",o="Bắt đầu";break;case"delete":a="red",o="Đ\xe3 x\xf3a";break;case"hide":a="gray",o="Đ\xe3 ẩn";break;default:a="default",o="Kh\xf4ng x\xe1c định"}return(0,n.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,n.jsx)("a",{className:"capitalize",href:"/detail/activity/".concat(t.activity_id,"?activity=").concat(t.activity_id),children:(null!==(l=null==e?void 0:e.length)&&void 0!==l?l:0)>40?"".concat((null!=e?e:"").slice(0,40),"..."):null!=e?e:"N/A"}),(0,n.jsx)(i.Z,{className:"",color:a,children:o})]})}},{title:"",dataIndex:["customer","name_company"],className:"text-xs"},{title:"",dataIndex:["customer","phone_number"],className:"text-xs"}];return(0,n.jsx)("div",{className:"flex flex-col gap-2 max-w-full w-full rounded-lg h-96",children:(0,n.jsx)("div",{className:"flex flex-col gap-2",children:(0,n.jsx)("div",{children:(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{className:"w-full flex items-center",children:(0,n.jsxs)("p",{className:"font-bold text-sm text-center",children:["Ng\xe0y h\xf4m nay ",(0,n.jsxs)("span",{className:"font-light",children:["(",o.length,")"]})]})}),(0,n.jsx)("div",{children:(0,n.jsx)(d.Z,{columns:p,dataSource:o,scroll:{x:"max-content"},showHeader:!1,pagination:!1,showSorterTooltip:{target:"sorter-icon"}})})]}),c&&Object.keys(c).map(e=>(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)("div",{className:"my-4",children:[(0,n.jsxs)("p",{className:"font-bold text-sm",children:["Ng\xe0y ",e," ",(0,n.jsxs)("span",{className:"font-light",children:["(",c[e].length,")"]})," "]}),(0,n.jsx)("div",{children:(0,n.jsx)(d.Z,{columns:p,dataSource:c[e],scroll:{x:"max-content"},showHeader:!1,pagination:!1,showSorterTooltip:{target:"sorter-icon"}})})]})}))]})})})})}var h=l(77398),p=l.n(h),v=l(68575);function g(e){var t,l;let{data:a}=e,{datas:o}=(0,v.v9)(e=>e.infos_customer);return(0,n.jsx)("div",{children:(0,n.jsxs)("div",{className:"flex flex-col sm:flex-1 sm:w-auto w-96",children:[(0,n.jsxs)("div",{className:"border-t-[1px] flex w-full py-2",children:[(0,n.jsx)("p",{className:"flex-1 flex justify-start font-medium",children:"M\xe3 hợp đồng"}),(0,n.jsx)("p",{className:"flex-1 flex justify-start",children:null==a?void 0:a.code_contract})]}),(0,n.jsxs)("div",{className:"border-t-[1px] flex w-full py-2",children:[(0,n.jsx)("p",{className:"flex-1 flex justify-start font-medium",children:"Kh\xe1ch h\xe0ng"}),(0,n.jsx)("a",{className:"flex-1 flex justify-start text-blue-500",children:a&&(null===(t=o.find(e=>e.info_id===(null==a?void 0:a.customer)))||void 0===t?void 0:t.name_company)})]}),(0,n.jsxs)("div",{className:"border-t-[1px] flex w-full py-2",children:[(0,n.jsx)("p",{className:"flex-1 flex justify-start font-medium",children:"Chi ph\xed HĐ"}),(0,n.jsxs)("p",{className:"flex-1 flex justify-start",children:[(null!==(l=null==a?void 0:a.price)&&void 0!==l?l:0).toLocaleString("vi-VN"),"đ"]})]}),(0,n.jsxs)("div",{className:"border-t-[1px] flex w-full py-2",children:[(0,n.jsx)("p",{className:"flex-1 flex justify-start font-medium",children:"T\xecnh trạng"}),(0,n.jsx)("p",{className:"flex-1 flex justify-start",children:(null==a?void 0:a.status)==="delete"?"Đ\xe3 x\xf3a":(null==a?void 0:a.status)==="active"?"Hoạt động":(null==a?void 0:a.status)==="hide"?"Ẩn":"Ho\xe0n th\xe0nh"})]}),(0,n.jsxs)("div",{className:"border-t-[1px] flex w-full py-2",children:[(0,n.jsx)("p",{className:"flex-1 flex justify-start font-medium",children:"Ng\xe0y tạo"}),(0,n.jsx)("p",{className:"flex-1 flex justify-start",children:p()(null==a?void 0:a.created_at).format("DD/MM/YYYY")})]}),(0,n.jsxs)("div",{className:"border-t-[1px] flex w-full py-2",children:[(0,n.jsx)("p",{className:"flex-1 flex justify-start font-medium",children:"Ng\xe0y bắt đầu"}),(0,n.jsx)("p",{className:"flex-1 flex justify-start",children:p()(null==a?void 0:a.date_start).format("DD/MM/YYYY")})]}),(0,n.jsxs)("div",{className:"border-t-[1px] flex w-full py-2",children:[(0,n.jsx)("p",{className:"flex-1 flex justify-start font-medium",children:"Hạn ho\xe0n th\xe0nh"}),(0,n.jsx)("p",{className:"flex-1 flex justify-start",children:p()(null==a?void 0:a.date_expired).format("DD/MM/YYYY")})]})]})})}l(15852);var j=l(70601),y=l(48235);let b=()=>{var e,t,l,a,o;let{id:s}=(0,f.useParams)(),[c,i]=(0,r.useState)(),d=async()=>{let e=await x.Z.dashboardContract(s);200===e.statusCode&&(console.log(e.data),i(e.data))};(0,r.useEffect)(()=>{s&&d()},[s]);let u={data:[{type:"Ho\xe0n tất",value:null!==(e=null==c?void 0:c.completed)&&void 0!==e?e:0},{type:"Đang thực hiện",value:null!==(t=null==c?void 0:c.process)&&void 0!==t?t:0},{type:"Đ\xe3 hủy",value:null!==(l=null==c?void 0:c.delete)&&void 0!==l?l:0}],angleField:"value",colorField:"type",innerRadius:.6,label:!1,legend:{color:{title:!1,position:"right",rowPadding:5}},annotations:[{type:"text",style:{text:"".concat((null!==(a=null==c?void 0:c.completed)&&void 0!==a?a:0)/(null!==(o=null==c?void 0:c.total)&&void 0!==o?o:1)*100)+"%",x:"50%",y:"50%",textAlign:"center",fontSize:15,fontStyle:"bold"}}]};return(0,n.jsx)(n.Fragment,{children:c&&(0,n.jsx)(y.Z,{...u})})};var N=l(9626);function w(){var e,t,l,i,d,u,h,p,v,y;let w=(0,f.useRouter)(),C=(0,r.useRef)(),[k,S]=(0,r.useState)(),[P,O]=(0,r.useState)(),{id:_}=(0,f.useParams)(),E=async()=>{let e=await x.Z.dashboardContract(_),t=await j.Z.getContract(_);console.log(e,t),200===e.statusCode&&200===t.statusCode&&(S(e.data),O(t.data))};(0,r.useEffect)(()=>{_&&E()},[_]);let Z=[{label:"Chi tiết hợp đồng",key:"detail",children:(0,n.jsx)(g,{data:P})},{label:"Hoạt động",key:"ac",children:(0,n.jsxs)("div",{className:"flex flex-col",children:[(0,n.jsx)("div",{className:"py-4",children:(0,n.jsx)(a.ZP,{className:"text-xs",icon:(0,n.jsx)(c.gyF,{}),onClick:()=>{var e;null===(e=C.current)||void 0===e||e.click()},children:"Th\xeam hoạt động"})}),(0,n.jsx)("div",{children:(0,n.jsx)(m,{})})]})}];return(0,n.jsxs)("div",{className:"flex flex-col w-full",children:[(0,n.jsx)("div",{className:"p-1",children:(0,n.jsx)(a.ZP,{type:"link",icon:(0,n.jsx)(s.Eg1,{}),onClick:()=>{w.back()},children:"Quay lại"})}),(0,n.jsx)("div",{className:"text-xl border-y-[1px] p-6",children:(0,n.jsx)("p",{children:"hoạt động đang theo d\xf5i"})}),(0,n.jsxs)("div",{className:"p-6",children:[(0,n.jsx)("p",{className:"font-semibold",children:"Tổng quan"}),(0,n.jsxs)("p",{className:"text-sm text-gray-400",children:["Hợp đồng ",null==P?void 0:P.name_contract]}),(0,n.jsxs)("div",{className:"flex py-2 gap-2 items-center flex-wrap",children:[(0,n.jsx)("div",{className:"flex-1 max-w-96 shadow-2xl shadow-blue-500/20 rounded-md",children:(0,n.jsx)("div",{className:"h-32",children:(0,n.jsx)(b,{})})}),(0,n.jsxs)("div",{className:"flex gap-2 h-32 flex-1 justify-around shadow-[rgba(7,_65,_210,_0.1)_0px_9px_30px] rounded-md flex-wrap min-h-fit",children:[(0,n.jsxs)("div",{className:"flex flex-col gap-1 items-center justify-center p-2 min-w-fit",children:[(0,n.jsx)("p",{children:"Số hoạt động"}),(0,n.jsx)("p",{className:"font-semibold text-2xl",children:null!==(e=null==k?void 0:k.total)&&void 0!==e?e:0}),(0,n.jsx)("p",{children:"100% hoạt động"})]}),(0,n.jsxs)("div",{className:"flex flex-col gap-1 items-center justify-center p-2 min-w-fit",children:[(0,n.jsx)("p",{children:"HĐ xong"}),(0,n.jsx)("p",{className:"font-semibold text-2xl",children:null!==(t=null==k?void 0:k.completed)&&void 0!==t?t:0}),(0,n.jsxs)("p",{children:[(null!==(l=null==k?void 0:k.completed)&&void 0!==l?l:0)*100/(null!==(i=null==k?void 0:k.total)&&void 0!==i?i:1),"% hoạt động"]})]}),(0,n.jsxs)("div",{className:"flex flex-col gap-1 items-center justify-center p-2 min-w-fit",children:[(0,n.jsx)("p",{children:"HĐ đang thực hiện"}),(0,n.jsx)("p",{className:"font-semibold text-2xl",children:null!==(d=null==k?void 0:k.process)&&void 0!==d?d:0}),(0,n.jsxs)("p",{children:[(null!==(u=null==k?void 0:k.process)&&void 0!==u?u:0)*100/(null!==(h=null==k?void 0:k.total)&&void 0!==h?h:1),"% hoạt động"]})]}),(0,n.jsxs)("div",{className:"flex flex-col gap-1 items-center justify-center p-2 min-w-fit",children:[(0,n.jsx)("p",{children:"HĐ hủy"}),(0,n.jsx)("p",{className:"font-semibold text-2xl",children:null!==(p=null==k?void 0:k.delete)&&void 0!==p?p:0}),(0,n.jsxs)("p",{children:[(null!==(v=null==k?void 0:k.delete)&&void 0!==v?v:0)*100/(null!==(y=null==k?void 0:k.total)&&void 0!==y?y:1),"% hoạt động"]})]})]})]}),(0,n.jsx)("div",{children:(0,n.jsx)(o.Z,{className:"w-full custom-tabs",items:Z,tabPosition:"top"})})]}),(0,n.jsx)(N.Z,{refBtnActivity:C})]})}var C=l(94899),k=l(2950);function S(){let e=(0,v.I0)();return(0,r.useEffect)(()=>{e((0,C.cW)()),e((0,k.Wq)({}))},[e]),(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(w,{})})}},74965:function(){},15852:function(){}},function(e){e.O(0,[9827,5652,6051,7699,5706,5452,1994,6950,522,6990,1866,9508,5319,5651,6006,8143,7526,7464,7821,3464,9481,314,9970,5270,1412,3281,7651,6399,5422,1250,8970,4967,3569,3344,6498,3984,136,6612,480,7580,8026,1017,4599,6966,2883,9626,2971,2117,1744],function(){return e(e.s=13487)}),_N_E=e.O()}]);