(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3506],{45284:function(e,t,a){Promise.resolve().then(a.bind(a,30445))},3810:function(e,t,a){"use strict";a.d(t,{Z:function(){return P}});var r=a(2265),n=a(36760),l=a.n(n),s=a(18694),o=a(93350),i=a(53445),c=a(19722),d=a(6694),u=a(71744),p=a(95201),h=a(36360),y=a(12918),m=a(71140),g=a(99320);let x=e=>{let{paddingXXS:t,lineWidth:a,tagPaddingHorizontal:r,componentCls:n,calc:l}=e,s=l(r).sub(a).equal(),o=l(t).sub(a).equal();return{[n]:Object.assign(Object.assign({},(0,y.Wf)(e)),{display:"inline-block",height:"auto",marginInlineEnd:e.marginXS,paddingInline:s,fontSize:e.tagFontSize,lineHeight:e.tagLineHeight,whiteSpace:"nowrap",background:e.defaultBg,border:"".concat((0,p.unit)(e.lineWidth)," ").concat(e.lineType," ").concat(e.colorBorder),borderRadius:e.borderRadiusSM,opacity:1,transition:"all ".concat(e.motionDurationMid),textAlign:"start",position:"relative",["&".concat(n,"-rtl")]:{direction:"rtl"},"&, a, a:hover":{color:e.defaultColor},["".concat(n,"-close-icon")]:{marginInlineStart:o,fontSize:e.tagIconSize,color:e.colorTextDescription,cursor:"pointer",transition:"all ".concat(e.motionDurationMid),"&:hover":{color:e.colorTextHeading}},["&".concat(n,"-has-color")]:{borderColor:"transparent",["&, a, a:hover, ".concat(e.iconCls,"-close, ").concat(e.iconCls,"-close:hover")]:{color:e.colorTextLightSolid}},"&-checkable":{backgroundColor:"transparent",borderColor:"transparent",cursor:"pointer",["&:not(".concat(n,"-checkable-checked):hover")]:{color:e.colorPrimary,backgroundColor:e.colorFillSecondary},"&:active, &-checked":{color:e.colorTextLightSolid},"&-checked":{backgroundColor:e.colorPrimary,"&:hover":{backgroundColor:e.colorPrimaryHover}},"&:active":{backgroundColor:e.colorPrimaryActive}},"&-hidden":{display:"none"},["> ".concat(e.iconCls," + span, > span + ").concat(e.iconCls)]:{marginInlineStart:s}}),["".concat(n,"-borderless")]:{borderColor:"transparent",background:e.tagBorderlessBg}}},f=e=>{let{lineWidth:t,fontSizeIcon:a,calc:r}=e,n=e.fontSizeSM;return(0,m.mergeToken)(e,{tagFontSize:n,tagLineHeight:(0,p.unit)(r(e.lineHeightSM).mul(n).equal()),tagIconSize:r(a).sub(r(t).mul(2)).equal(),tagPaddingHorizontal:8,tagBorderlessBg:e.defaultBg})},w=e=>({defaultBg:new h.C(e.colorFillQuaternary).onBackground(e.colorBgContainer).toHexString(),defaultColor:e.colorText});var j=(0,g.I$)("Tag",e=>x(f(e)),w),Z=function(e,t){var a={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>t.indexOf(r)&&(a[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var n=0,r=Object.getOwnPropertySymbols(e);n<r.length;n++)0>t.indexOf(r[n])&&Object.prototype.propertyIsEnumerable.call(e,r[n])&&(a[r[n]]=e[r[n]]);return a};let v=r.forwardRef((e,t)=>{let{prefixCls:a,style:n,className:s,checked:o,onChange:i,onClick:c}=e,d=Z(e,["prefixCls","style","className","checked","onChange","onClick"]),{getPrefixCls:p,tag:h}=r.useContext(u.E_),y=p("tag",a),[m,g,x]=j(y),f=l()(y,"".concat(y,"-checkable"),{["".concat(y,"-checkable-checked")]:o},null==h?void 0:h.className,s,g,x);return m(r.createElement("span",Object.assign({},d,{ref:t,style:Object.assign(Object.assign({},n),null==h?void 0:h.style),className:f,onClick:e=>{null==i||i(!o),null==c||c(e)}})))});var b=a(18536);let S=e=>(0,b.Z)(e,(t,a)=>{let{textColor:r,lightBorderColor:n,lightColor:l,darkColor:s}=a;return{["".concat(e.componentCls).concat(e.componentCls,"-").concat(t)]:{color:r,background:l,borderColor:n,"&-inverse":{color:e.colorTextLightSolid,background:s,borderColor:s},["&".concat(e.componentCls,"-borderless")]:{borderColor:"transparent"}}}});var C=(0,g.bk)(["Tag","preset"],e=>S(f(e)),w);let _=(e,t,a)=>{let r="string"!=typeof a?a:a.charAt(0).toUpperCase()+a.slice(1);return{["".concat(e.componentCls).concat(e.componentCls,"-").concat(t)]:{color:e["color".concat(a)],background:e["color".concat(r,"Bg")],borderColor:e["color".concat(r,"Border")],["&".concat(e.componentCls,"-borderless")]:{borderColor:"transparent"}}}};var N=(0,g.bk)(["Tag","status"],e=>{let t=f(e);return[_(t,"success","Success"),_(t,"processing","Info"),_(t,"error","Error"),_(t,"warning","Warning")]},w),k=function(e,t){var a={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>t.indexOf(r)&&(a[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var n=0,r=Object.getOwnPropertySymbols(e);n<r.length;n++)0>t.indexOf(r[n])&&Object.prototype.propertyIsEnumerable.call(e,r[n])&&(a[r[n]]=e[r[n]]);return a};let O=r.forwardRef((e,t)=>{let{prefixCls:a,className:n,rootClassName:p,style:h,children:y,icon:m,color:g,onClose:x,bordered:f=!0,visible:w}=e,Z=k(e,["prefixCls","className","rootClassName","style","children","icon","color","onClose","bordered","visible"]),{getPrefixCls:v,direction:b,tag:S}=r.useContext(u.E_),[_,O]=r.useState(!0),P=(0,s.Z)(Z,["closeIcon","closable"]);r.useEffect(()=>{void 0!==w&&O(w)},[w]);let I=(0,o.o2)(g),T=(0,o.yT)(g),F=I||T,W=Object.assign(Object.assign({backgroundColor:g&&!F?g:void 0},null==S?void 0:S.style),h),E=v("tag",a),[L,R,U]=j(E),B=l()(E,null==S?void 0:S.className,{["".concat(E,"-").concat(g)]:F,["".concat(E,"-has-color")]:g&&!F,["".concat(E,"-hidden")]:!_,["".concat(E,"-rtl")]:"rtl"===b,["".concat(E,"-borderless")]:!f},n,p,R,U),V=e=>{e.stopPropagation(),null==x||x(e),e.defaultPrevented||O(!1)},[,D]=(0,i.Z)((0,i.w)(e),(0,i.w)(S),{closable:!1,closeIconRender:e=>{let t=r.createElement("span",{className:"".concat(E,"-close-icon"),onClick:V},e);return(0,c.wm)(e,t,e=>({onClick:t=>{var a;null===(a=null==e?void 0:e.onClick)||void 0===a||a.call(e,t),V(t)},className:l()(null==e?void 0:e.className,"".concat(E,"-close-icon"))}))}}),q="function"==typeof Z.onClick||y&&"a"===y.type,A=m||null,M=A?r.createElement(r.Fragment,null,A,y&&r.createElement("span",null,y)):y,z=r.createElement("span",Object.assign({},P,{ref:t,className:B,style:W}),M,D,I&&r.createElement(C,{key:"preset",prefixCls:E}),T&&r.createElement(N,{key:"status",prefixCls:E}));return L(q?r.createElement(d.Z,{component:"Tag"},z):z)});O.CheckableTag=v;var P=O},99376:function(e,t,a){"use strict";var r=a(35475);a.o(r,"useParams")&&a.d(t,{useParams:function(){return r.useParams}}),a.o(r,"usePathname")&&a.d(t,{usePathname:function(){return r.usePathname}}),a.o(r,"useRouter")&&a.d(t,{useRouter:function(){return r.useRouter}}),a.o(r,"useSearchParams")&&a.d(t,{useSearchParams:function(){return r.useSearchParams}})},30445:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return D}});var r=a(57437),n=a(78687),l=a(2265),s=a(91626),o=a(58970),i=a(44967),c=a(16836),d=a(91250),u=a(46475),p=a(29487),h=a(94295),y=a(67776),m=a(68575),g=a(40776),x=a(41143),f=a(66722),w=e=>{let{refBtnType:t}=e,[a,n]=(0,l.useState)(!1),[w,j]=(0,l.useState)(-1),Z=(0,m.I0)(),{datas:v}=(0,m.v9)(e=>e.type_opportunity),b=e=>{console.log(e),j(e),k.setFieldsValue(null==v?void 0:v[e])},[S,C]=(0,l.useState)(!1),{postdata:_}=(0,u.Z)(),[N]=(0,p.Z)(),[k]=(0,p.Z)(),[O,P]=(0,l.useState)(""),I=async()=>{200===await _(()=>g.Z.deleteTypeOpportunity([null!=O?O:""]))&&(Z((0,x.N)()),P(""))},T=async e=>{try{let t=await _(()=>g.Z.createTypeOpportunity(e));201===t&&(Z((0,x.N)()),N.resetFields(),C(!1))}catch(e){console.error("Error creating product:",e)}},F=async e=>{try{let t=await _(()=>g.Z.updateTypeOpportunity(null==v?void 0:v[null!=w?w:0].type_opportunity_id,e));200===t&&(Z((0,x.N)()),Z((0,f.N)({})),j(-1))}catch(e){console.error("Error creating product:",e)}};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.ZP,{className:"bg-blue-400 border-0 text-white font-semibold",onClick:()=>{n(!0)},hidden:!!t,ref:t,children:"Loại cơ hội"}),(0,r.jsx)(o.Z,{title:(0,r.jsxs)("div",{style:{display:"flex",gap:"5px",alignItems:"center"},children:[(0,r.jsx)("span",{children:"Loại cơ hội"}),(0,r.jsx)(s.ZP,{className:"text-white font-semibold bg-orange-500",icon:(0,r.jsx)(h.gyF,{}),type:"default",onClick:()=>{N.resetFields(),C(!S)}})]}),open:a,onCancel:()=>{n(!1)},footer:null,width:"100%",style:{maxWidth:"800px"},children:(0,r.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,r.jsx)("div",{className:"bg-slate-200 px-1 py-2 rounded-md",hidden:!S,children:(0,r.jsxs)(i.Z,{form:N,onFinish:T,style:{display:"flex",flexWrap:"wrap",gap:"8px"},children:[(0,r.jsx)(i.Z.Item,{name:"name",rules:[{required:!0,message:"Vui l\xf2ng nhập t\xean loại"}],style:{flex:"1 1 0%",margin:"0"},children:(0,r.jsx)(c.default,{placeholder:"Nhập t\xean loại"})}),(0,r.jsx)(i.Z.Item,{name:"name_tag",rules:[{required:!0,message:"Vui l\xf2ng nhập t\xean tag"}],style:{flex:"1 1 0%",margin:"0"},children:(0,r.jsx)(c.default,{placeholder:"Nhập t\xean tag"})}),(0,r.jsx)(i.Z.Item,{style:{display:"flex",justifyContent:"end",margin:"0"},children:(0,r.jsx)(s.ZP,{className:"bg-green-500 text-white font-semibold",onClick:()=>{N.submit()},children:"Th\xeam"})})]})}),(0,r.jsx)("div",{className:"bg-slate-200 px-1 py-2 rounded-md",hidden:!(w>-1),children:(0,r.jsxs)(i.Z,{form:k,onFinish:F,style:{display:"flex",flexWrap:"wrap",gap:"8px"},children:[(0,r.jsx)(i.Z.Item,{name:"name",rules:[{required:!0,message:"Vui l\xf2ng nhập t\xean loại"}],style:{flex:"1 1 0%",margin:"0"},children:(0,r.jsx)(c.default,{placeholder:"Nhập t\xean loại"})}),(0,r.jsx)(i.Z.Item,{name:"name_tag",rules:[{required:!0,message:"Vui l\xf2ng nhập t\xean tag"}],style:{flex:"1 1 0%",margin:"0"},children:(0,r.jsx)(c.default,{placeholder:"Nhập t\xean tag"})}),(0,r.jsxs)(i.Z.Item,{style:{display:"flex",gap:"2px",justifyContent:"end",margin:"0"},children:[(0,r.jsx)(s.ZP,{className:"bg-yellow-500 text-white font-semibold",htmlType:"submit",children:"Cập nhật"}),(0,r.jsx)(s.ZP,{className:"bg-red-500 text-white font-semibold",onClick:()=>{j(-1)},children:"Huỷ"})]})]})}),(0,r.jsx)("div",{className:"border-t-2 w-full overflow-x-auto",children:(0,r.jsx)("div",{className:"w-full",children:(0,r.jsx)(d.Z,{columns:[{title:"M\xe3 loại",dataIndex:"type_opportunity_id",key:"type_opportunity_id",render:(e,t,a)=>(0,r.jsxs)("div",{className:"flex gap-1 items-center",children:["#",a+1,".",e]})},{title:"T\xean loại",dataIndex:"name",width:"40%",key:"name",render:e=>(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("strong",{className:"flex gap-2 items-center",children:e})})},{title:"T\xean tag",dataIndex:"name_tag",width:"35%",key:"name_tag",render:(e,t,a)=>(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("strong",{className:"flex gap-2 items-center",children:[e,(0,r.jsx)(s.ZP,{type:"link",onClick:()=>{b(a)},icon:(0,r.jsx)(y.FNg,{})}),(0,r.jsx)(s.ZP,{className:"  text-xs text-red-500 font-semibold",type:"text",onClick:()=>P(null==t?void 0:t.type_opportunity_id),children:"X\xf3a"})]})})}],scroll:{x:"max-content"},className:"custom-table",dataSource:v,pagination:{pageSize:10,showTotal:(e,t)=>"".concat(t[0],"-").concat(t[1]," of ").concat(e," items")},showSorterTooltip:{target:"sorter-icon"}})})})]})}),(0,r.jsx)(o.Z,{open:""!==O,title:"X\xf3a dữ liệu",onOk:I,onCancel:()=>{P("")},children:"Bạn c\xf3 chắc chắn muốn x\xf3a kh\xf4ng ?"})]})},j=a(49089),Z=a(32768);a(32811);var v=a(29661),b=e=>{let{refBtnSource:t}=e,[a,n]=(0,l.useState)(!1),[x,w]=(0,l.useState)([]),b=(0,m.I0)(),{datas:S}=(0,m.v9)(e=>e.source_opportunity),[C,_]=(0,l.useState)(!1),{postdata:N}=(0,u.Z)(),k=e=>{w([...x,e])},O=e=>{w(x.filter(t=>t!==e))},[P]=(0,p.Z)(),[I,T]=(0,l.useState)(""),F=async()=>{200===await N(()=>g.Z.deleteSourceOpportunity([null!=I?I:""]))&&(b((0,v.u)()),T(""))},W=[{title:"M\xe3 nguồn",dataIndex:"type_source_id",key:"type_source_id",render:(e,t,a)=>(0,r.jsxs)("div",{className:"flex gap-1 items-center",children:["#",a+1,".",e]})},{title:"T\xean nguồn",dataIndex:"name",key:"name",width:"50%",render:(e,t,a)=>(0,r.jsx)(r.Fragment,{children:x.includes(a)?(0,r.jsxs)(i.Z,{onFinish:e=>{L(e.name,t.type_source_id,a)},style:{display:"flex",flexWrap:"wrap",gap:"8px"},children:[(0,r.jsx)(i.Z.Item,{name:"name",rules:[{required:!0,message:"Vui l\xf2ng nhập t\xean mới"}],style:{margin:"0"},children:(0,r.jsx)(c.default,{placeholder:"Nhập t\xean nguồn",defaultValue:e})}),(0,r.jsxs)(i.Z.Item,{style:{gap:"2px",display:"flex",justifyContent:"end",margin:"0"},children:[(0,r.jsx)(s.ZP,{className:"font-semibold border-transparent group",type:"link",htmlType:"submit",icon:(0,r.jsx)(j.l_A,{className:"group-hover:text-green-500"})}),(0,r.jsx)(s.ZP,{className:"font-semibold border-transparent group",type:"link",onClick:()=>{O(a)},icon:(0,r.jsx)(Z.bjh,{className:"group-hover:text-red-500"})})]})]}):(0,r.jsxs)("strong",{className:"flex gap-2 items-center",children:[e,(0,r.jsx)(s.ZP,{type:"link",onClick:()=>{k(a)},icon:(0,r.jsx)(y.FNg,{})}),(0,r.jsx)(s.ZP,{className:"  text-xs text-red-500 font-semibold",type:"text",onClick:()=>T(null==t?void 0:t.type_source_id),children:"X\xf3a"})]})})}],E=async e=>{try{let t=await N(()=>g.Z.createSourceOpportunity(e));201===t&&(b((0,v.u)()),P.resetFields())}catch(e){console.error("Error creating unit product:",e)}},L=async(e,t,a)=>{try{let r=await N(()=>g.Z.updateSourceOpportunity(t,e));200===r&&(b((0,f.N)({})),b((0,v.u)()),O(a))}catch(e){console.error("Error creating unit product:",e)}};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.ZP,{className:"bg-blue-400 border-0 text-white font-semibold",onClick:()=>{n(!0)},hidden:!!t,ref:t,children:"Nguồn cơ hội"}),(0,r.jsx)(o.Z,{title:(0,r.jsxs)("div",{style:{display:"flex",gap:"5px",alignItems:"center"},children:[(0,r.jsx)("span",{children:"Nguồn cơ hội"}),(0,r.jsx)(s.ZP,{className:"text-white font-semibold bg-orange-500",icon:(0,r.jsx)(h.gyF,{}),type:"default",onClick:()=>{P.resetFields(),_(!C)}})]}),open:a,onCancel:()=>{n(!1)},footer:null,width:"100%",style:{maxWidth:"800px"},children:(0,r.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,r.jsx)("div",{className:"bg-slate-200 px-1 py-2 rounded-md",hidden:!C,children:(0,r.jsxs)(i.Z,{form:P,onFinish:E,style:{display:"flex",flexWrap:"wrap",gap:"8px"},children:[(0,r.jsx)(i.Z.Item,{name:"name",rules:[{required:!0,message:"Vui l\xf2ng nhập t\xean đơn vị"}],style:{flex:"1 1 0%",margin:"0"},children:(0,r.jsx)(c.default,{placeholder:"Nhập t\xean đơn vị"})}),(0,r.jsx)(i.Z.Item,{style:{display:"flex",justifyContent:"end",margin:"0"},children:(0,r.jsx)(s.ZP,{className:"bg-green-500 text-white font-semibold",onClick:()=>{P.submit()},children:"Th\xeam"})})]})}),(0,r.jsx)("div",{className:"border-t-2 w-full overflow-x-auto",children:(0,r.jsx)("div",{className:"w-full",children:(0,r.jsx)(d.Z,{columns:W,scroll:{x:"max-content"},className:"custom-table",dataSource:S,pagination:{pageSize:10,showTotal:(e,t)=>"".concat(t[0],"-").concat(t[1]," of ").concat(e," items")},showSorterTooltip:{target:"sorter-icon"}})})})]})}),(0,r.jsx)(o.Z,{open:""!==I,title:"X\xf3a dữ liệu",onOk:F,onCancel:()=>{T("")},children:"Bạn c\xf3 chắc chắn muốn x\xf3a kh\xf4ng ?"})]})},S=a(11632),C=a(23496),_=a(90136),N=a(56612),k=()=>{let[e,t]=(0,l.useState)(!1),a=(0,l.useRef)(),n=(0,l.useRef)(),d=(0,m.I0)();(0,m.I0)();let{datas:h}=(0,m.v9)(e=>e.type_opportunity),{datas:y}=(0,m.v9)(e=>e.source_opportunity),{datas:x}=(0,m.v9)(e=>e.province_system),{datas:j}=(0,m.v9)(e=>e.get_users),{postdata:v}=(0,u.Z)(),[k]=(0,p.Z)(),O=async e=>{try{console.log(e);let a=await v(()=>g.Z.createOpportunity(e));201===a&&(d((0,f.N)({})),k.resetFields(),t(!1))}catch(e){console.error("Error creating opportunity:",e)}};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.ZP,{className:"bg-blue-400 border-0 text-white font-semibold",icon:(0,r.jsx)(Z.b0B,{}),onClick:()=>{t(!0)},children:"Tạo cơ hội"}),(0,r.jsx)(o.Z,{title:"Điền form cơ hội",open:e,onCancel:()=>{t(!1)},footer:null,width:"100%",style:{maxWidth:"800px"},children:(0,r.jsxs)(i.Z,{layout:"vertical",form:k,onFinish:O,style:{display:"flex",flexWrap:"wrap",gap:"12px"},children:[(0,r.jsx)(i.Z.Item,{name:"name_contact",label:"T\xean người li\xean hệ",style:{minWidth:"320px",flex:"1 1 0%"},rules:[{required:!0,message:"Vui l\xf2ng nhập t\xean"}],children:(0,r.jsx)(c.default,{placeholder:"T\xean"})}),(0,r.jsx)(i.Z.Item,{name:"company_name",label:"T\xean c\xf4ng ty",style:{minWidth:"320px",flex:"1 1 0%"},children:(0,r.jsx)(c.default,{placeholder:"T\xean c\xf4ng ty"})}),(0,r.jsx)(i.Z.Item,{name:"type_opportunity",label:"Loại cơ hội",rules:[{required:!0,message:"Please select an opportunity type!"}],style:{minWidth:"220px",flex:"1 1 0%"},children:(0,r.jsx)(S.Z,{placeholder:"Select type",dropdownRender:e=>(0,r.jsxs)(r.Fragment,{children:[e,(0,r.jsx)(C.Z,{style:{margin:"8px 0"}}),(0,r.jsx)(s.ZP,{type:"link",onClick:()=>{var e;null===(e=n.current)||void 0===e||e.click()},children:"+ Th\xeam t\xf9y chọn mới"})]}),children:null==h?void 0:h.map(e=>(0,r.jsx)(S.Z.Option,{value:e.type_opportunity_id,children:e.name},e.type_opportunity_id))})}),(0,r.jsx)(i.Z.Item,{name:"type_source",label:"Nguồn cơ hội",rules:[{required:!0,message:"Please select a source type!"}],style:{minWidth:"220px",flex:"1 1 0%"},children:(0,r.jsx)(S.Z,{placeholder:"Select source",dropdownRender:e=>(0,r.jsxs)(r.Fragment,{children:[e,(0,r.jsx)(C.Z,{style:{margin:"8px 0"}}),(0,r.jsx)(s.ZP,{type:"link",onClick:()=>{var e;null===(e=a.current)||void 0===e||e.click()},children:"+ Th\xeam t\xf9y chọn mới"})]}),children:null==y?void 0:y.map(e=>(0,r.jsx)(S.Z.Option,{value:e.type_source_id,children:e.name},e.type_source_id))})}),(0,r.jsx)(i.Z.Item,{name:"user_support",label:"Nh\xe2n vi\xean hỗ trợ",style:{minWidth:"220px",flex:"1 1 0%"},children:(0,r.jsx)(S.Z,{placeholder:"Select staff",children:null==j?void 0:j.map(e=>(0,r.jsxs)(S.Z.Option,{value:e.user_id,children:[e.first_name," ",e.last_name]},e.user_id))})}),(0,r.jsx)(i.Z.Item,{name:"email",label:"Email",style:{minWidth:"320px",flex:"1 1 0%"},children:(0,r.jsx)(c.default,{placeholder:"Email"})}),(0,r.jsx)(i.Z.Item,{name:"phone_number",label:"Số điện thoại",style:{minWidth:"320px",flex:"1 1 0%"},children:(0,r.jsx)(c.default,{placeholder:"Số điện thoại"})}),(0,r.jsx)(i.Z.Item,{name:"address",label:"Địa chỉ",style:{minWidth:"320px",flex:"1 1 0%"},children:(0,r.jsx)(c.default,{placeholder:"Địa chỉ"})}),(0,r.jsx)(i.Z.Item,{name:"province",label:"Khu vực",style:{minWidth:"320px",flex:"1 1 0%"},children:(0,r.jsx)(S.Z,{placeholder:"Select province",children:null==x?void 0:x.map(e=>(0,r.jsx)(S.Z.Option,{value:e.province_id,children:e.name_province},e.province_id))})}),(0,r.jsx)(i.Z.Item,{name:"website",label:"Website",style:{minWidth:"320px",flex:"1 1 0%"},children:(0,r.jsx)(c.default,{placeholder:"Website"})}),(0,r.jsx)(i.Z.Item,{name:"position",label:"Chức vụ",style:{minWidth:"320px",flex:"1 1 0%"},children:(0,r.jsx)(c.default,{placeholder:"Position"})}),(0,r.jsx)(i.Z.Item,{name:"price",label:"Gi\xe1 trị (vnđ)",style:{minWidth:"320px",flex:"1 1 0%"},children:(0,r.jsx)(_.Z,{placeholder:"Price",className:"w-full",formatter:e=>"".concat(e).replace(/\B(?=(\d{3})+(?!\d))/g,","),parser:e=>null==e?void 0:e.replace(/\$\s?|(,*)/g,"")})}),(0,r.jsx)(i.Z.Item,{name:"latch_date",label:"Hạn chốt",style:{minWidth:"320px",flex:"1 1 0%"},children:(0,r.jsx)(N.default,{placeholder:"Select date",style:{width:"100%"}})}),(0,r.jsx)(i.Z.Item,{name:"description",label:"M\xf4 tả",style:{width:"100%"},children:(0,r.jsx)(c.default.TextArea,{placeholder:"Description",autoSize:{minRows:3}})}),(0,r.jsx)(i.Z.Item,{style:{width:"100%",display:"flex",justifyContent:"end"},children:(0,r.jsx)(s.ZP,{type:"primary",htmlType:"submit",children:"Tạo"})})]})}),(0,r.jsx)(w,{refBtnType:n}),(0,r.jsx)(b,{refBtnSource:a})]})},O=a(99376);function P(){let e=(0,O.useSearchParams)(),{RangePicker:t}=N.default,a=(0,m.I0)(),[n,s]=(0,l.useState)({}),{datas:o}=(0,m.v9)(e=>e.type_opportunity),{datas:i}=(0,m.v9)(e=>e.source_opportunity),{datas:c}=(0,m.v9)(e=>e.get_users);return(0,l.useEffect)(()=>{if(n){let t=e.get("status");a((0,f.N)({...n,status:null!=t?t:void 0}))}},[n,e]),(0,r.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,r.jsxs)("div",{className:"flex gap-1 flex-wrap",children:[(0,r.jsx)(k,{}),(0,r.jsx)(w,{}),(0,r.jsx)(b,{})]}),(0,r.jsx)("p",{className:"text-sm font-semibold text-[#1BA399]",children:"Được lọc theo:"}),(0,r.jsxs)("div",{className:"flex flex-wrap w-full items-center justify-end gap-2   pb-4 ",children:[(0,r.jsx)(S.Z,{placeholder:"Loại cơ hội",style:{minWidth:120,flex:"1 1 0%"},onChange:e=>{s({...n,type_opportunity:e})},showSearch:!0,allowClear:!0,filterOption:(e,t)=>{var a;return(null!==(a=null==t?void 0:t.label)&&void 0!==a?a:"").toLowerCase().includes(e.toLowerCase())},options:o.map(e=>({value:e.type_opportunity_id,label:e.name}))}),(0,r.jsx)(S.Z,{placeholder:"Nguồn cơ hội",style:{minWidth:120,flex:"1 1 0%"},onChange:e=>{s({...n,type_source:e})},showSearch:!0,allowClear:!0,filterOption:(e,t)=>{var a;return(null!==(a=null==t?void 0:t.label)&&void 0!==a?a:"").toLowerCase().includes(e.toLowerCase())},options:i.map(e=>({value:e.type_source_id,label:e.name}))}),(0,r.jsx)(S.Z,{placeholder:"Trạng th\xe1i",style:{minWidth:120,flex:"1 1 0%"},onChange:e=>{s({...n,status:e})},showSearch:!0,allowClear:!0,filterOption:(e,t)=>{var a;return(null!==(a=null==t?void 0:t.label)&&void 0!==a?a:"").toLowerCase().includes(e.toLowerCase())},options:[{value:"delete",label:"Đ\xe3 x\xf3a"},{value:"hide",label:"Đ\xe3 ẩn"},{value:"success",label:"Th\xe0nh c\xf4ng"},{value:"pending",label:"Đang tiếp cận"},{value:"cancel",label:"Đ\xe3 hủy"},{value:"pause",label:"Đ\xe3 tạm dừng"}]}),(0,r.jsx)(S.Z,{placeholder:"Người phụ tr\xe1ch",style:{minWidth:120,flex:"1 1 0%"},onChange:e=>{s({...n,user_support:e})},showSearch:!0,allowClear:!0,filterOption:(e,t)=>{var a;return(null!==(a=null==t?void 0:t.label)&&void 0!==a?a:"").toLowerCase().includes(e.toLowerCase())},options:null==c?void 0:c.map(e=>({value:e.user_id,label:e.first_name+" "+e.last_name}))}),(0,r.jsx)(t,{style:{minWidth:120,flex:"1 1 0%"},onChange:(e,t)=>{s({...n,date_start:t[0],date_end:t[1]})}})]})]})}var I=a(3810),T=a(56771),F=a(20490),W=a(22744),E=a(65624),L=a(16532);function R(){let e=(0,E.Z)(["admin-top","opportunity","opportunity-edit"]),[t,a]=(0,l.useState)(""),[n,i]=(0,l.useState)(""),[p,h]=(0,l.useState)(""),y=(0,l.useRef)(),[x,w]=(0,l.useState)(""),[j,Z]=(0,l.useState)(""),{datas:v}=(0,m.v9)(e=>e.get_opportunities),[b,C]=(0,l.useState)(25),[_,N]=(0,l.useState)(),k=async(e,t)=>{try{let a=await U(()=>g.Z.updateOpportunity(e,t));200===a&&B((0,f.N)({}))}catch(e){console.error("Error creating product:",e)}},P=[{title:"#",className:"",dataIndex:"opportunity_id",render:(t,n,l)=>(0,r.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,r.jsxs)("strong",{children:["#",l+1]}),(0,r.jsx)("div",{className:"flex flex-wrap w-96",children:e&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.ZP,{type:"link",ghost:!0,className:"text-xs text-blue-600 w-fit",onClick:()=>{a(t),y.current&&(null==y||y.current.click())},children:"B\xe1o gi\xe1"}),(0,r.jsx)(F.Z,{ID:t}),"success"!==n.status&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.ZP,{type:"link",className:"w-fit",onClick:()=>{k(t,{status:"success"})},children:"Chuyển đổi kh\xe1ch h\xe0ng"}),(0,r.jsx)(s.ZP,{type:"link",hidden:"pause"===n.status||"cancel"===n.status,className:"w-fit text-yellow-400 text-xs font-semibold",onClick:()=>{w(t)},children:"Tạm dừng"}),(0,r.jsx)(s.ZP,{type:"link",hidden:"pause"!==n.status,className:"w-fit text-green-500 text-xs font-semibold",onClick:()=>{k(t,{status:"pending"})},children:"Tiếp tục"}),(0,r.jsx)(s.ZP,{type:"link",hidden:"cancel"===n.status,className:"w-fit text-red-500 text-xs font-semibold",onClick:()=>{Z(t)},children:"Thất bại"}),(0,r.jsx)(s.ZP,{type:"link",hidden:"cancel"!==n.status&&"pause"!==n.status,className:"w-fit text-indigo-500 text-xs font-semibold",onClick:()=>{var e;h(null!==(e=null==n?void 0:n.reason)&&void 0!==e?e:"")},children:"L\xfd do"})]})]})})]}),sorter:(e,t)=>e.opportunity_id.localeCompare(t.opportunity_id)},{title:"T\xean li\xean hệ",className:"",dataIndex:"name_contact",render:e=>e&&e.length>15?"".concat(e.slice(0,15),"..."):e,sorter:(e,t)=>(e.name_contact||"").localeCompare(t.name_contact||"")},{title:"C\xf4ng ty",className:"",dataIndex:"company_name",sorter:(e,t)=>(e.company_name||"").localeCompare(t.company_name||""),render:e=>(0,r.jsx)(r.Fragment,{children:e})},{title:"Email",className:"",dataIndex:"email",sorter:(e,t)=>(e.company_name||"").localeCompare(t.company_name||""),render:e=>(0,r.jsx)(r.Fragment,{children:e})},{title:"Số điện thoại",className:"",dataIndex:"phone_number",sorter:(e,t)=>(e.company_name||"").localeCompare(t.company_name||""),render:e=>(0,r.jsx)(r.Fragment,{children:e})},{title:"Nh\xe2n vi\xean hỗ trợ",className:"",dataIndex:["user_support"],sorter:(e,t)=>{var a,r;return((null===(a=e.user_support)||void 0===a?void 0:a.last_name)||"").localeCompare((null===(r=t.user_support)||void 0===r?void 0:r.last_name)||"")},render:e=>(0,r.jsxs)(r.Fragment,{children:[null==e?void 0:e.first_name," ",null==e?void 0:e.last_name]})},{title:"T\xecnh trạng",className:"",dataIndex:["status"],sorter:(e,t)=>(e.status||"").localeCompare(t.status||""),render:e=>(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(I.Z,{color:"cancel"===e?"gray":"send"===e?"blue":"pending"===e?"blue-inverse":"delete"===e?"red":"success"===e?"green":"pause"===e?"yellow":"",children:"cancel"===e?"Đ\xe3 hủy":"hide"===e?"Đang ẩn":"pending"===e?"Đang chờ":"delete"===e?"Đ\xe3 x\xf3a":"success"===e?"Th\xe0nh c\xf4ng":"send"===e?"Đ\xe3 gửi b\xe1o gi\xe1":"pause"===e?"Tạm dừng":""})})},{title:"Nguồn cơ hội",className:"",dataIndex:["type_source","name"],sorter:(e,t)=>(e.company_name||"").localeCompare(t.company_name||""),render:e=>(0,r.jsx)(r.Fragment,{children:e})},{title:"Ng\xe0y tạo",className:"",dataIndex:"created_at",render:e=>new Date(e).toLocaleDateString("vi-VN"),sorter:(e,t)=>new Date(e.created_at).getTime()-new Date(t.created_at).getTime()}],R=e=>{N(null==v?void 0:v.filter(t=>String(t.opportunity_id+" "+t.name_contact+" "+t.company_name+" "+t.price).toLowerCase().includes(e.toLowerCase())))},{postdata:U}=(0,u.Z)(),B=(0,m.I0)(),[V,D]=(0,l.useState)(!1),[q,A]=(0,l.useState)([]),M=async()=>{200===await U(()=>g.Z.deleteOpportunities(q))&&(B((0,f.N)({})),A([]),D(!1))},z=(0,O.useSearchParams)();return(0,l.useEffect)(()=>{let e=z.get("id");v&&e?R(e):N(v.map((e,t)=>({...e,key:t})))},[v,z]),(0,r.jsxs)("div",{className:"",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-2 flex-wrap gap-y-2",children:[(0,r.jsxs)("div",{className:"flex items-center gap-1",children:[(0,r.jsx)(S.Z,{defaultValue:b,style:{width:83},onChange:e=>C(e),options:[{value:10,label:10},{value:25,label:25},{value:50,label:50},{value:100,label:100},{value:500,label:500},{value:1e3,label:1e3},{value:1e8,label:"All"}]}),(0,r.jsx)(s.ZP,{hidden:!(q.length>0),children:"Xuất ra"}),(0,r.jsx)(s.ZP,{onClick:()=>{D(!0)},danger:!0,hidden:!(q.length>0),className:"text-xl",icon:(0,r.jsx)(W.FH3,{})}),(0,r.jsx)(o.Z,{open:V,title:"X\xf3a dữ liệu",onOk:M,onCancel:()=>{D(!1)},children:"Bạn c\xf3 chắc chắn muốn x\xf3a kh\xf4ng ?"})]}),(0,r.jsx)("div",{className:"flex items-center",children:(0,r.jsx)(T.Z,{onChange:e=>R(e.target.value),placeholder:"Search",style:{width:200}})})]}),(0,r.jsx)("div",{className:"w-full overflow-auto",children:(0,r.jsx)("div",{className:"min-w-fit",children:(0,r.jsx)(d.Z,{columns:P,rowSelection:{onChange:(e,t)=>{A(t.map(e=>e.opportunity_id))}},dataSource:_,scroll:{x:"max-content"},pagination:{pageSize:b,showTotal:(e,t)=>"".concat(t[0],"-").concat(t[1]," of ").concat(e," items")},showSorterTooltip:{target:"sorter-icon"}})})}),(0,r.jsx)(L.Z,{idOpportunity:t,refBtn:y}),(0,r.jsx)(o.Z,{open:""!==j||""!==x,title:""!==j?"L\xfd do thất bại":"L\xfd do tạm dừng",onOk:()=>{let e=""===j?x:j;""===x?(k(e,{status:"cancel",reason:n}),Z("")):(k(e,{status:"pause",reason:n}),w(""))},onCancel:()=>{Z(""),w("")},children:(0,r.jsx)(c.default.TextArea,{placeholder:"L\xfd do",onChange:e=>{i(e.target.value)},autoSize:{minRows:5}})}),(0,r.jsx)(o.Z,{open:""!==p,title:"L\xfd do",onCancel:()=>{h("")},footer:!1,children:(0,r.jsx)(c.default.TextArea,{value:p,autoSize:{minRows:5}})})]})}function U(){let e=(0,E.Z)(["admin-top","opportunity","opportunity-edit"]);return(0,r.jsx)("div",{children:(0,r.jsxs)("div",{className:"flex flex-col gap-4 rounded-md p-4 shadow-[0_8px_30px_rgb(0,0,0,0.12)] bg-white",children:[e&&(0,r.jsx)("div",{className:"rounded-md",children:(0,r.jsx)(P,{})}),(0,r.jsx)("div",{className:"rounded-md",children:(0,r.jsx)(R,{})})]})})}var B=a(19518),V=a(41259);function D(){let e=(0,m.I0)(),t=(0,E.Z)(["admin-top","opportunity","opportunity-read"]);return(0,l.useEffect)(()=>{t&&(e((0,B.d)()),e((0,x.N)()),e((0,v.u)()),e((0,V.C)()),e((0,f.N)({})))},[e,t]),(0,r.jsx)("div",{className:"p-4",children:t?(0,r.jsx)(U,{}):(0,r.jsx)(n.Z,{})})}},78687:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});var r=a(57437),n=a(71047),l=a(91626);function s(){return(0,r.jsx)(n.ZP,{status:"403",title:"403",subTitle:"Sorry, you are not authorized to access this page.",extra:(0,r.jsx)(l.ZP,{type:"primary",children:"Quay lại"})})}a(2265)},20490:function(e,t,a){"use strict";var r=a(57437),n=a(2265),l=a(91626),s=a(58970),o=a(44967),i=a(16836),c=a(11632),d=a(90136),u=a(56612),p=a(46475),h=a(29487),y=a(68575),m=a(40776),g=a(66722),x=a(71096),f=a.n(x);t.Z=e=>{let[t,a]=(0,n.useState)(!1),{datas:x}=(0,y.v9)(e=>e.type_opportunity),[w,j]=(0,n.useState)(!1),{datas:Z}=(0,y.v9)(e=>e.source_opportunity),{datas:v}=(0,y.v9)(e=>e.province_system),{datas:b}=(0,y.v9)(e=>e.get_users),{postdata:S}=(0,p.Z)(),C=(0,y.I0)(),[_]=(0,h.Z)(),N=async()=>{let t=await m.Z.getOpportunity(e.ID);200===t.statusCode&&(_.setFieldsValue({...t.data,type_opportunity:t.data.type_opportunity.type_opportunity_id,type_source:t.data.type_source.type_source_id}),"success"!==t.data.status&&j(!0))},k=async t=>{try{let r=await S(()=>m.Z.updateOpportunity(e.ID,t));200===r&&(C((0,g.N)({})),a(!1))}catch(e){console.error("Error creating product:",e)}};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(l.ZP,{className:"w-fit text-xs text-yellow-500 font-semibold",type:"link",onClick:()=>{a(!0),N()},children:"Chỉnh sửa"}),(0,r.jsxs)(s.Z,{title:"Th\xf4ng tin cơ hội",open:t,onCancel:()=>{a(!1)},footer:null,width:"100%",style:{maxWidth:"800px"},children:[(0,r.jsx)(l.ZP,{hidden:!w,type:"primary",onClick:()=>{k({status:"success"})},children:"Chuyển đổi kh\xe1ch h\xe0ng"}),(0,r.jsxs)(o.Z,{layout:"vertical",form:_,onFinish:k,style:{display:"flex",flexWrap:"wrap",gap:"12px"},children:[(0,r.jsx)(o.Z.Item,{name:"name_contact",label:"T\xean người li\xean hệ",style:{minWidth:"320px",flex:"1 1 0%"},rules:[{required:!0,message:"Vui l\xf2ng nhập t\xean"}],children:(0,r.jsx)(i.default,{placeholder:"T\xean"})}),(0,r.jsx)(o.Z.Item,{name:"company_name",label:"T\xean c\xf4ng ty",style:{minWidth:"320px",flex:"1 1 0%"},children:(0,r.jsx)(i.default,{placeholder:"T\xean c\xf4ng ty"})}),(0,r.jsx)(o.Z.Item,{name:"type_opportunity",label:"Loại cơ hội",rules:[{required:!0,message:"Please select an opportunity type!"}],style:{minWidth:"220px",flex:"1 1 0%"},children:(0,r.jsx)(c.Z,{placeholder:"Select type",children:null==x?void 0:x.map(e=>(0,r.jsx)(c.Z.Option,{value:e.type_opportunity_id,children:e.name},e.type_opportunity_id))})}),(0,r.jsx)(o.Z.Item,{name:"type_source",label:"Nguồn cơ hội",rules:[{required:!0,message:"Please select a source type!"}],style:{minWidth:"220px",flex:"1 1 0%"},children:(0,r.jsx)(c.Z,{placeholder:"Select source",children:null==Z?void 0:Z.map(e=>(0,r.jsx)(c.Z.Option,{value:e.type_source_id,children:e.name},e.type_source_id))})}),(0,r.jsx)(o.Z.Item,{name:"user_support",label:"Nh\xe2n vi\xean hỗ trợ",style:{minWidth:"220px",flex:"1 1 0%"},children:(0,r.jsx)(c.Z,{placeholder:"Select staff",children:null==b?void 0:b.map(e=>(0,r.jsxs)(c.Z.Option,{value:e.user_id,children:[e.first_name," ",e.last_name]},e.user_id))})}),(0,r.jsx)(o.Z.Item,{name:"email",label:"Email",style:{minWidth:"320px",flex:"1 1 0%"},children:(0,r.jsx)(i.default,{placeholder:"Email"})}),(0,r.jsx)(o.Z.Item,{name:"phone_number",label:"Số điện thoại",style:{minWidth:"320px",flex:"1 1 0%"},children:(0,r.jsx)(i.default,{placeholder:"Số điện thoại"})}),(0,r.jsx)(o.Z.Item,{name:"address",label:"Địa chỉ",style:{minWidth:"320px",flex:"1 1 0%"},children:(0,r.jsx)(i.default,{placeholder:"Địa chỉ"})}),(0,r.jsx)(o.Z.Item,{name:"province",label:"Khu vực",style:{minWidth:"320px",flex:"1 1 0%"},children:(0,r.jsx)(c.Z,{placeholder:"Select province",children:null==v?void 0:v.map(e=>(0,r.jsx)(c.Z.Option,{value:e.province_id,children:e.name_province},e.province_id))})}),(0,r.jsx)(o.Z.Item,{name:"website",label:"Website",style:{minWidth:"320px",flex:"1 1 0%"},children:(0,r.jsx)(i.default,{placeholder:"Website"})}),(0,r.jsx)(o.Z.Item,{name:"position",label:"Chức vụ",style:{minWidth:"320px",flex:"1 1 0%"},children:(0,r.jsx)(i.default,{placeholder:"Position"})}),(0,r.jsx)(o.Z.Item,{name:"price",label:"Gi\xe1 trị (vnđ)",style:{minWidth:"320px",flex:"1 1 0%"},children:(0,r.jsx)(d.Z,{placeholder:"Price",className:"w-full",formatter:e=>"".concat(e).replace(/\B(?=(\d{3})+(?!\d))/g,","),parser:e=>null==e?void 0:e.replace(/\$\s?|(,*)/g,"")})}),(0,r.jsx)(o.Z.Item,{name:"latch_date",label:"Hạn chốt",initialValue:"",className:" mb-0",style:{minWidth:"320px",flex:"1 1 0%"},getValueFromEvent:e=>null==e?void 0:e.format("YYYY-MM-DD"),getValueProps:e=>({value:e?f()(e):""}),children:(0,r.jsx)(u.default,{placeholder:"Select date",style:{width:"100%"}})}),(0,r.jsx)(o.Z.Item,{name:"description",label:"M\xf4 tả",style:{width:"100%"},children:(0,r.jsx)(i.default.TextArea,{placeholder:"Description",autoSize:{minRows:3}})}),(0,r.jsx)(o.Z.Item,{style:{width:"100%",display:"flex",justifyContent:"end"},children:(0,r.jsx)(l.ZP,{type:"primary",htmlType:"submit",children:"Cập nhật"})})]})]})]})}},66722:function(e,t,a){"use strict";a.d(t,{N:function(){return l}});var r=a(20301),n=a(40776);let l=(0,r.hg)("opportunity/fetchOpportunities",async(e,t)=>{try{return await n.Z.getOpportunities(e)}catch(e){return t.rejectWithValue("Failed to fetch opportunities")}}),s=(0,r.oM)({name:"opportunity",initialState:{datas:[],loading:!1,error:null},reducers:{},extraReducers:e=>{e.addCase(l.pending,e=>{e.loading=!0,e.error=null}).addCase(l.fulfilled,(e,t)=>{200===t.payload.statusCode?(e.loading=!1,e.datas=t.payload.data):(e.loading=!1,e.error="Unexpected status code")}).addCase(l.rejected,(e,t)=>{e.loading=!1,e.error=t.payload})}}).reducer;t.Z=s},29661:function(e,t,a){"use strict";a.d(t,{u:function(){return l}});var r=a(40776),n=a(20301);let l=(0,n.hg)("sourcesOpportunity/fetchSourcesOpportunity",async(e,t)=>{try{return await r.Z.getSourcesOpportunity()}catch(e){return t.rejectWithValue("Failed to fetch sources opportunity")}}),s=(0,n.oM)({name:"sources_opportunity",initialState:{datas:[],loading:!1,error:null},reducers:{},extraReducers:e=>{e.addCase(l.pending,e=>{e.loading=!0,e.error=null}).addCase(l.fulfilled,(e,t)=>{200===t.payload.statusCode&&(e.loading=!1,e.datas=t.payload.data)}).addCase(l.rejected,(e,t)=>{e.loading=!1,e.error=t.payload})}}).reducer;t.Z=s},41143:function(e,t,a){"use strict";a.d(t,{N:function(){return l}});var r=a(40776),n=a(20301);let l=(0,n.hg)("opportunity/fetchOpportunityTypes",async(e,t)=>{try{return await r.Z.getTypeOpportunity()}catch(e){return t.rejectWithValue("Failed to fetch types")}}),s=(0,n.oM)({name:"type_opportunity",initialState:{datas:[],loading:!1,error:null},reducers:{},extraReducers:e=>{e.addCase(l.pending,e=>{e.loading=!0,e.error=null}).addCase(l.fulfilled,(e,t)=>{200===t.payload.statusCode&&(e.loading=!1,e.datas=t.payload.data)}).addCase(l.rejected,(e,t)=>{e.loading=!1,e.error=t.payload})}}).reducer;t.Z=s},19518:function(e,t,a){"use strict";a.d(t,{d:function(){return l}});var r=a(64262),n=a(20301);let l=(0,n.hg)("system/fetchSystemProvinces",async(e,t)=>{try{return await r.Z.getProvinces()}catch(e){return t.rejectWithValue("Failed to fetch product Vats")}}),s=(0,n.oM)({name:"province_system",initialState:{datas:[],loading:!1,error:null},reducers:{},extraReducers:e=>{e.addCase(l.pending,e=>{e.loading=!0,e.error=null}).addCase(l.fulfilled,(e,t)=>{200===t.payload.statusCode&&(e.loading=!1,e.datas=t.payload.data)}).addCase(l.rejected,(e,t)=>{e.loading=!1,e.error=t.payload})}}).reducer;t.Z=s},41259:function(e,t,a){"use strict";a.d(t,{C:function(){return l}});var r=a(58143),n=a(20301);let l=(0,n.hg)("user/fetchUserInfo",async(e,t)=>{try{return await r.Z.getUsers()}catch(e){return t.rejectWithValue("Failed to fetch user info")}}),s=(0,n.oM)({name:"user_info",initialState:{datas:null,loading:!1,error:null},reducers:{},extraReducers:e=>{e.addCase(l.pending,e=>{e.loading=!0,e.error=null}).addCase(l.fulfilled,(e,t)=>{200===t.payload.statusCode&&(e.loading=!1,e.datas=t.payload.data)}).addCase(l.rejected,(e,t)=>{e.loading=!1,e.error=t.payload})}}).reducer;t.Z=s},28223:function(e,t,a){"use strict";a.d(t,{Y:function(){return l}});var r=a(83464);let n=r.Z.create({baseURL:"https://api.sparking.cloud",timeout:2e4,headers:{"Content-Type":"application/json"},withCredentials:!0}),l=r.Z.create({baseURL:"https://api.sparking.cloud",timeout:2e4,headers:{"Content-Type":"multipart/form-data"},withCredentials:!0});t.Z=n},40776:function(e,t,a){"use strict";var r=a(28223),n=a(90382);t.Z={getTypeOpportunity:async()=>{try{return(await r.Z.get("/opportunity/type")).data}catch(e){throw(0,n.S)(e),e}},deleteTypeOpportunity:async e=>{try{return(await r.Z.delete("/opportunity/type",{data:e})).data}catch(e){throw(0,n.S)(e),e}},getTypeFullOpportunity:async()=>{try{return(await r.Z.get("/opportunity/type-full")).data}catch(e){throw(0,n.S)(e),e}},getOpportunities:async e=>{try{let t=new URLSearchParams;return e&&Object.entries(e).forEach(e=>{let[a,r]=e;null!=r&&t.append(a,r.toString())}),(await r.Z.get("/opportunity/all?".concat(t.toString()))).data}catch(e){throw(0,n.S)(e),e}},deleteOpportunities:async e=>{try{return(await r.Z.delete("/opportunity",{data:e})).data}catch(e){throw(0,n.S)(e),e}},getOpportunity:async e=>{try{return(await r.Z.get("/opportunity/id/".concat(e))).data}catch(e){throw(0,n.S)(e),e}},getOpportunityDashboardStatus:async()=>{try{return(await r.Z.get("/opportunity/dashboard-status")).data}catch(e){throw(0,n.S)(e),e}},getFilterOpportunity:async e=>{try{let t=new URLSearchParams;return e&&Object.entries(e).forEach(e=>{let[a,r]=e;null!=r&&t.append(a,r.toString())}),(await r.Z.get("/opportunity/get-opportunity-filter?".concat(t.toString()))).data}catch(e){throw(0,n.S)(e),e}},getSourcesOpportunity:async()=>{try{return(await r.Z.get("/opportunity/source")).data}catch(e){throw(0,n.S)(e),e}},deleteSourceOpportunity:async e=>{try{return(await r.Z.delete("/opportunity/source",{data:e})).data}catch(e){throw(0,n.S)(e),e}},getSourcesFullOpportunity:async()=>{try{return(await r.Z.get("/opportunity/source-full")).data}catch(e){throw(0,n.S)(e),e}},createOpportunity:async e=>{try{return(await r.Z.post("/opportunity",e)).data}catch(e){throw(0,n.S)(e),e}},createTypeOpportunity:async e=>{try{return(await r.Z.post("/opportunity/type",e)).data}catch(e){throw(0,n.S)(e),e}},createSourceOpportunity:async e=>{try{return(await r.Z.post("/opportunity/source",e)).data}catch(e){throw(0,n.S)(e),e}},updateOpportunity:async(e,t)=>{try{return(await r.Z.put("/opportunity/update/".concat(e),t)).data}catch(e){throw(0,n.S)(e),e}},updateTypeOpportunity:async(e,t)=>{try{return(await r.Z.put("/opportunity/type/".concat(e),t)).data}catch(e){throw(0,n.S)(e),e}},updateSourceOpportunity:async(e,t)=>{try{return(await r.Z.put("/opportunity/source/".concat(e),{name:t})).data}catch(e){throw(0,n.S)(e),e}},getOpportunityFilterByType:async e=>{try{let t=new URLSearchParams;return e&&Object.entries(e).forEach(e=>{let[a,r]=e;null!=r&&t.append(a,r.toString())}),(await r.Z.get("/opportunity/type-opportunity-in-year?".concat(t.toString()))).data}catch(e){throw(0,n.S)(e),e}},getOpportunityByPriceQuote:async()=>{try{return(await r.Z.get("/opportunity/have-price-quote")).data}catch(e){throw(0,n.S)(e),e}},getOpportunityHaveContract:async e=>{try{let t=new URLSearchParams;return e&&Object.entries(e).forEach(e=>{let[a,r]=e;null!=r&&t.append(a,r.toString())}),(await r.Z.get("/opportunity/have-contract?".concat(t.toString()))).data}catch(e){throw(0,n.S)(e),e}},getOpportunityDashReason:async()=>{try{return(await r.Z.get("/opportunity/dashboard-reason")).data}catch(e){throw(0,n.S)(e),e}}}},64262:function(e,t,a){"use strict";var r=a(90382),n=a(28223);t.Z={getProvinces:async()=>{try{return(await n.Z.get("/system/provinces")).data}catch(e){throw(0,r.S)(e),e}},getVats:async()=>{try{return(await n.Z.get("/system/vats")).data}catch(e){throw(0,r.S)(e),e}},getVat:async e=>{try{return(await n.Z.get("/system/vat/".concat(e))).data}catch(e){throw(0,r.S)(e),e}},createVat:async e=>{try{return(await n.Z.post("/system/create-vat",{type_vat:e.type_vat})).data}catch(e){throw(0,r.S)(e),e}},updateVat:async(e,t)=>{try{return(await n.Z.put("/system/update-vat/".concat(e),t)).data}catch(e){throw(0,r.S)(e),e}},getProfits:async()=>{try{return(await n.Z.get("/system/profits")).data}catch(e){throw(0,r.S)(e),e}},getProfit:async e=>{try{return(await n.Z.get("/system/profit/".concat(e))).data}catch(e){throw(0,r.S)(e),e}},createProfit:async e=>{try{return(await n.Z.post("/system/create-profit",e)).data}catch(e){throw(0,r.S)(e),e}},updateProfit:async(e,t)=>{try{return(await n.Z.put("/system/profit/".concat(e),t)).data}catch(e){throw(0,r.S)(e),e}},getTargets:async()=>{try{return(await n.Z.get("/system/targets_revenue")).data}catch(e){throw(0,r.S)(e),e}},getTarget:async e=>{try{return(await n.Z.get("/system/target_revenue/".concat(e))).data}catch(e){throw(0,r.S)(e),e}},getTargetYear:async()=>{try{return(await n.Z.get("/system/target_revenue_year")).data}catch(e){throw(0,r.S)(e),e}},createTarget:async e=>{try{return(await n.Z.post("/system/target_revenue",e)).data}catch(e){throw(0,r.S)(e),e}},updateTarget:async(e,t)=>{try{return(await n.Z.put("/system/target_revenue/".concat(e),t)).data}catch(e){throw(0,r.S)(e),e}},getLinksSystem:async()=>{try{return(await n.Z.get("/system/links_system")).data}catch(e){throw(0,r.S)(e),e}},getLinkSystem:async e=>{try{return(await n.Z.get("/system/link_system/".concat(e))).data}catch(e){throw(0,r.S)(e),e}},createLinkSystem:async e=>{try{return(await n.Z.post("/system/link_system",e)).data}catch(e){throw(0,r.S)(e),e}},updateLinkSystem:async(e,t)=>{try{return(await n.Z.put("/system/link_system/".concat(e),t)).data}catch(e){throw(0,r.S)(e),e}}}},58143:function(e,t,a){"use strict";var r=a(90382),n=a(28223);t.Z={getUsers:async()=>{try{return(await n.Z.get("/user/all")).data}catch(e){throw(0,r.S)(e),e}},getProfile:async()=>{try{return(await n.Z.get("/user/profile",{withCredentials:!0})).data}catch(e){throw(0,r.S)(e),e}},getUserIDAdmin:async e=>{try{return(await n.Z.get("/user/admin/id/".concat(e))).data}catch(e){throw(0,r.S)(e),e}},getUserIDAdminByUser:async()=>{try{return(await n.Z.get("/user/user")).data}catch(e){throw(0,r.S)(e),e}},loginUser:async e=>(await n.Z.post("/auth/login",e,{withCredentials:!0})).data,sendSign:async e=>(await n.Z.post("/auth/send-req-sign",e,{withCredentials:!0})).data,logoutUser:async()=>(await n.Z.post("/auth/logout")).data,createUser:async e=>{try{return(await n.Y.post("/user/create",e)).data}catch(e){throw(0,r.S)(e),e}},deleteUser:async e=>{try{return(await n.Z.delete("/user",{data:e})).data}catch(e){throw(0,r.S)(e),e}},updateUser:async(e,t)=>{try{return(await n.Y.put("/user/update/".concat(e),t)).data}catch(e){throw(0,r.S)(e),e}},updateUserProfile:async e=>{try{return(await n.Y.put("/user/update-profile",e)).data}catch(e){throw(0,r.S)(e),e}},updatePasswordUser:async e=>{try{return(await n.Z.put("/user/update-password",e)).data}catch(e){throw(0,r.S)(e),e}},getCategoryRoleFull:async()=>{try{return(await n.Z.get("/user/category-role-full")).data}catch(e){throw(0,r.S)(e),e}},getRoleUserFullByID:async e=>{try{return(await n.Z.get("/user/get-full-role-user-id/".concat(e))).data}catch(e){throw(0,r.S)(e),e}},getRoleUserFullByUser:async()=>{try{return(await n.Z.get("/user/get-full-role-user")).data}catch(e){throw(0,r.S)(e),e}},getRoleUserFullByAccess:async()=>{try{return(await n.Z.get("/user/get-full-role-user-access/")).data}catch(e){throw(0,r.S)(e),e}},updateRoleUserFullByID:async(e,t)=>{try{return(await n.Z.post("/user/full-role-user-id/".concat(e),t)).data}catch(e){throw(0,r.S)(e),e}},updateGroupRole:async(e,t)=>{try{return(await n.Z.put("/user/group-role/".concat(e),t)).data}catch(e){throw(0,r.S)(e),e}},getRoleByGroup:async e=>{try{return(await n.Z.get("/user/group-role/".concat(e))).data}catch(e){throw(0,r.S)(e),e}},getGroupUser:async()=>{try{return(await n.Z.get("/user/get-group-user")).data}catch(e){throw(0,r.S)(e),e}},getNotifyUser:async(e,t)=>{try{return(await n.Z.get("/user/get-notify?page=".concat(e,"&limit=").concat(t))).data}catch(e){throw(0,r.S)(e),e}},updateNotifyUser:async e=>{try{if(e)return(await n.Z.put("/user/update-notify/".concat(e))).data;return(await n.Z.put("/user/update-all-notify")).data}catch(e){throw(0,r.S)(e),e}},getCountNotifyUser:async()=>{try{return(await n.Z.get("/user/get-count-notify")).data}catch(e){throw(0,r.S)(e),e}},createGroupUser:async e=>{try{return(await n.Z.post("/user/create-group-user",e)).data}catch(e){throw(0,r.S)(e),e}},updateGroupUser:async(e,t)=>{try{return(await n.Z.put("/user/update-group-user/".concat(e),t)).data}catch(e){throw(0,r.S)(e),e}},deleteGroupUser:async e=>{try{return(await n.Z.delete("/user/group-user",{data:e})).data}catch(e){throw(0,r.S)(e),e}},getFilterUser:async e=>{try{let t=new URLSearchParams;return e&&Object.entries(e).forEach(e=>{let[a,r]=e;null!=r&&t.append(a,r.toString())}),(await n.Z.get("/user/get-user-filter?".concat(t.toString()))).data}catch(e){throw(0,r.S)(e),e}},getTimeKeeping:async e=>{try{let t=new URLSearchParams;return e&&Object.entries(e).forEach(e=>{let[a,r]=e;null!=r&&t.append(a,r.toString())}),(await n.Z.get("/user/timekeeping?".concat(t.toString()))).data}catch(e){throw(0,r.S)(e),e}},getTimeKeepingPerson:async e=>{try{let t=new URLSearchParams;return e&&Object.entries(e).forEach(e=>{let[a,r]=e;null!=r&&t.append(a,r.toString())}),(await n.Z.get("/user/timekeeping-person?".concat(t.toString()))).data}catch(e){throw(0,r.S)(e),e}},createTimeKeeping:async()=>{try{return(await n.Z.post("/user/timekeeping")).data}catch(e){throw(0,r.S)(e),e}},checkTimeKeeping:async()=>{try{return(await n.Z.get("/user/check-timekeeping")).data}catch(e){throw(0,r.S)(e),e}}}},90382:function(e,t,a){"use strict";a.d(t,{S:function(){return n}});var r=a(7261);let n=e=>{var t,a,n;let l=(null===(a=e.response)||void 0===a?void 0:null===(t=a.data)||void 0===t?void 0:t.message)||"An unexpected error occurred",s=null===(n=e.response)||void 0===n?void 0:n.status;r.Am.dismiss(),403===s?r.Am.error("Bạn kh\xf4ng c\xf3 quyền"):r.Am.error(l)}},32811:function(){}},function(e){e.O(0,[2395,3622,5652,6051,7699,5706,5452,1994,6950,5319,5651,6006,1047,8143,7526,7464,7821,3464,9481,314,9970,5270,1412,3281,7651,6399,5422,1250,8970,4967,3569,3344,6498,3984,136,6612,480,7580,8026,4599,6966,4333,2971,2117,1744],function(){return e(e.s=45284)}),_N_E=e.O()}]);