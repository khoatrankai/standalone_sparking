(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2572],{66921:function(e,t,a){Promise.resolve().then(a.bind(a,11525))},11525:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return b}});var s=a(57437),r=a(78687),n=a(2265),l=a(46475),i=a(10854),c=a(64262),o=a(91626),d=a(58970),u=a(42654),m=a(44967),y=a(16836),h=a(29487),p=a(7140),x=a(32768),g=a(68575);function f(e){let{refBtnLinkSystem:t}=e,[a]=(0,h.Z)(),{postdata:r}=(0,l.Z)(),f=(0,g.I0)(),[v,w]=(0,n.useState)(!1),j=async e=>{let t=await r(()=>c.Z.createLinkSystem(e));(200===t||201===t)&&(f((0,i.j)()),w(!1))},Z=async()=>{a.submit()};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(o.ZP,{hidden:!!t,className:"bg-blue-400 border-0 text-white font-semibold",icon:(0,s.jsx)(x.b0B,{}),onClick:()=>{w(!0)},ref:t,children:"Th\xeam link"}),(0,s.jsxs)(d.Z,{title:"Tạo link",open:v,onCancel:()=>{w(!1)},footer:null,width:"100%",style:{maxWidth:"800px"},children:[(0,s.jsx)(u.Z,{defaultActiveKey:"1",style:{width:"100%"},type:"line",children:(0,s.jsx)(p.Z,{tab:"Th\xf4ng tin link",children:(0,s.jsxs)(m.Z,{layout:"vertical",form:a,onFinish:j,style:{display:"flex",flexWrap:"wrap",columnGap:"12px"},children:[(0,s.jsx)(m.Z.Item,{name:"link",label:"Link",style:{minWidth:"100%",flex:"1 1 0%"},children:(0,s.jsx)(y.default,{})}),(0,s.jsx)(m.Z.Item,{name:"name_tag",label:"Name_tag",style:{minWidth:"100%",flex:"1 1 0%"},children:(0,s.jsx)(y.default,{})})]})},1)}),(0,s.jsx)("div",{className:"flex justify-end w-full mt-4",children:(0,s.jsx)(o.ZP,{type:"primary",onClick:Z,children:"Tạo"})})]})]})}function v(){return(0,s.jsx)("div",{className:"flex items-start gap-4 w-full flex-col",children:(0,s.jsx)("div",{className:"flex gap-2 items-centerw-full ",children:(0,s.jsx)(f,{})})})}var w=a(11632),j=a(91250),Z=a(56771);function k(e){let{ID:t}=e,[a]=(0,h.Z)(),{postdata:r}=(0,l.Z)(),x=(0,g.I0)(),[f,v]=(0,n.useState)(!1),w=async()=>{let e=await c.Z.getLinkSystem(t);200===e.statusCode&&a.setFieldsValue(e.data)},j=async e=>{let a=await r(()=>c.Z.updateLinkSystem(t,e));(200===a||201===a)&&(x((0,i.j)()),v(!1))},Z=async()=>{a.submit()};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(o.ZP,{className:"  text-xs text-yellow-500 font-semibold",type:"text",onClick:()=>{v(!0),w()},children:"Chỉnh sửa"}),(0,s.jsxs)(d.Z,{title:"Cập nhật link",open:f,onCancel:()=>{v(!1)},footer:null,width:"100%",style:{maxWidth:"800px"},children:[(0,s.jsx)(u.Z,{defaultActiveKey:"1",style:{width:"100%"},type:"line",children:(0,s.jsx)(p.Z,{tab:"Th\xf4ng tin link",children:(0,s.jsxs)(m.Z,{layout:"vertical",form:a,onFinish:j,style:{display:"flex",flexWrap:"wrap",columnGap:"12px"},children:[(0,s.jsx)(m.Z.Item,{name:"link",label:"Link",style:{minWidth:"100%",flex:"1 1 0%"},children:(0,s.jsx)(y.default,{})}),(0,s.jsx)(m.Z.Item,{name:"name_tag",label:"Name_tag",style:{minWidth:"100%",flex:"1 1 0%"},children:(0,s.jsx)(y.default,{})})]})},1)}),(0,s.jsx)("div",{className:"flex justify-end w-full mt-4",children:(0,s.jsx)(o.ZP,{type:"primary",onClick:Z,children:"Cập nhật"})})]})]})}var _=a(65624);function S(){let[e,t]=(0,n.useState)(25),a=(0,_.Z)(["admin-top","system","system-edit"]),{datas:r}=(0,g.v9)(e=>e.get_link_system),[l,i]=(0,n.useState)([]),c=[{title:"#",className:"text-xs",dataIndex:"link_system_id",render:(e,t,r)=>(0,s.jsxs)("div",{className:"flex flex-col gap-1 ",children:[(0,s.jsxs)("strong",{children:["#",r+1,"."]}),(0,s.jsx)("div",{className:"flex gap-2",children:a&&(0,s.jsx)(k,{ID:e})})]}),sorter:(e,t)=>{var a,s;return(null!==(a=e.link_system_id)&&void 0!==a?a:"").localeCompare(null!==(s=t.link_system_id)&&void 0!==s?s:"")}},{title:"Link",dataIndex:"link",className:"text-xs",render:e=>"".concat(e)||"N/A",sorter:(e,t)=>{var a,s;return(null!==(a=e.link)&&void 0!==a?a:"").localeCompare(null!==(s=t.link)&&void 0!==s?s:"")}},{title:"Name_tag",dataIndex:"name_tag",className:"text-xs",render:e=>"".concat(e)||"N/A",sorter:(e,t)=>{var a,s;return(null!==(a=e.name_tag)&&void 0!==a?a:"").localeCompare(null!==(s=t.name_tag)&&void 0!==s?s:"")}}];(0,n.useEffect)(()=>{i(r.map((e,t)=>({...e,key:t})))},[r]);let o=e=>{i(null==r?void 0:r.filter(t=>String(t.link_system_id+" "+t.link+" "+t.name_tag).toLowerCase().includes(e.toLowerCase())))};return(0,s.jsxs)("div",{className:"",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-2 flex-wrap gap-y-2",children:[(0,s.jsx)("div",{className:"flex items-center gap-1",children:(0,s.jsx)(w.Z,{defaultValue:e,style:{width:83},onChange:e=>t(e),options:[{value:10,label:10},{value:25,label:25},{value:50,label:50},{value:100,label:100},{value:500,label:500},{value:1e3,label:1e3},{value:1e8,label:"Tất cả"}]})}),(0,s.jsx)("div",{className:"flex items-center",children:(0,s.jsx)(Z.Z,{onChange:e=>{o(e.target.value)},placeholder:"T\xecm kiếm",style:{width:200}})})]}),(0,s.jsx)("div",{className:"w-full overflow-auto",children:(0,s.jsx)("div",{className:"min-w-fit",children:(0,s.jsx)(j.Z,{columns:c,dataSource:l,scroll:{x:"max-content"},pagination:{pageSize:e,showTotal:(e,t)=>"".concat(t[0],"-").concat(t[1]," of ").concat(e," items")},showSorterTooltip:{target:"sorter-icon"}})})})]})}function C(){let e=(0,_.Z)(["admin-top","system","system-edit"]);return(0,s.jsxs)("div",{className:"flex flex-col gap-4 rounded-md p-4 shadow-[0_8px_30px_rgb(0,0,0,0.12)] bg-white",children:[e&&(0,s.jsx)("div",{className:"rounded-md",children:(0,s.jsx)(v,{})}),(0,s.jsx)("div",{className:"rounded-md",children:(0,s.jsx)(S,{})})]})}function b(){let e=(0,g.I0)(),t=(0,_.Z)(["admin-top","system","system-read"]);return(0,n.useEffect)(()=>{t&&e((0,i.j)())},[e,t]),(0,s.jsx)("div",{className:"p-4",children:t?(0,s.jsx)(C,{}):(0,s.jsx)(r.Z,{})})}},78687:function(e,t,a){"use strict";a.d(t,{Z:function(){return l}});var s=a(57437),r=a(71047),n=a(91626);function l(){return(0,s.jsx)(r.ZP,{status:"403",title:"403",subTitle:"Sorry, you are not authorized to access this page.",extra:(0,s.jsx)(n.ZP,{type:"primary",children:"Quay lại"})})}a(2265)},46475:function(e,t,a){"use strict";var s=a(2265),r=a(7261);t.Z=()=>{let[e,t]=(0,s.useState)(null),[a,n]=(0,s.useState)(null);return{postdata:async e=>{let a=r.Am.loading("Processing...");try{let s=await e();if(s)return t(s),n(s.statusCode),200===s.statusCode||201===s.statusCode?r.Am.update(a,{render:s.message,type:"success",isLoading:!1,autoClose:2e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}):r.Am.update(a,{render:s.message,type:"error",isLoading:!1,position:"bottom-center",autoClose:2e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),s.statusCode;return r.Am.update(a,{render:"No response received.",type:"error",isLoading:!1,autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),null}catch(e){r.Am.update(a,{render:"An unexpected error occurred",type:"error",isLoading:!1,autoClose:3e3})}},statusCode:a,response:e}}},10854:function(e,t,a){"use strict";a.d(t,{j:function(){return n}});var s=a(64262),r=a(20301);let n=(0,r.hg)("system/fetchLinkSystem",async(e,t)=>{try{return await s.Z.getLinksSystem()}catch(e){return t.rejectWithValue("Failed to fetch product Vats")}}),l=(0,r.oM)({name:"link_system",initialState:{datas:[],loading:!1,error:null},reducers:{},extraReducers:e=>{e.addCase(n.pending,e=>{e.loading=!0,e.error=null}).addCase(n.fulfilled,(e,t)=>{200===t.payload.statusCode&&(e.loading=!1,e.datas=t.payload.data)}).addCase(n.rejected,(e,t)=>{e.loading=!1,e.error=t.payload})}}).reducer;t.Z=l},28223:function(e,t,a){"use strict";a.d(t,{Y:function(){return n}});var s=a(83464);let r=s.Z.create({baseURL:"https://api.sparking.cloud",timeout:2e4,headers:{"Content-Type":"application/json"},withCredentials:!0}),n=s.Z.create({baseURL:"https://api.sparking.cloud",timeout:2e4,headers:{"Content-Type":"multipart/form-data"},withCredentials:!0});t.Z=r},64262:function(e,t,a){"use strict";var s=a(90382),r=a(28223);t.Z={getProvinces:async()=>{try{return(await r.Z.get("/system/provinces")).data}catch(e){throw(0,s.S)(e),e}},getVats:async()=>{try{return(await r.Z.get("/system/vats")).data}catch(e){throw(0,s.S)(e),e}},getVat:async e=>{try{return(await r.Z.get("/system/vat/".concat(e))).data}catch(e){throw(0,s.S)(e),e}},createVat:async e=>{try{return(await r.Z.post("/system/create-vat",{type_vat:e.type_vat})).data}catch(e){throw(0,s.S)(e),e}},updateVat:async(e,t)=>{try{return(await r.Z.put("/system/update-vat/".concat(e),t)).data}catch(e){throw(0,s.S)(e),e}},getProfits:async()=>{try{return(await r.Z.get("/system/profits")).data}catch(e){throw(0,s.S)(e),e}},getProfit:async e=>{try{return(await r.Z.get("/system/profit/".concat(e))).data}catch(e){throw(0,s.S)(e),e}},createProfit:async e=>{try{return(await r.Z.post("/system/create-profit",e)).data}catch(e){throw(0,s.S)(e),e}},updateProfit:async(e,t)=>{try{return(await r.Z.put("/system/profit/".concat(e),t)).data}catch(e){throw(0,s.S)(e),e}},getTargets:async()=>{try{return(await r.Z.get("/system/targets_revenue")).data}catch(e){throw(0,s.S)(e),e}},getTarget:async e=>{try{return(await r.Z.get("/system/target_revenue/".concat(e))).data}catch(e){throw(0,s.S)(e),e}},getTargetYear:async()=>{try{return(await r.Z.get("/system/target_revenue_year")).data}catch(e){throw(0,s.S)(e),e}},createTarget:async e=>{try{return(await r.Z.post("/system/target_revenue",e)).data}catch(e){throw(0,s.S)(e),e}},updateTarget:async(e,t)=>{try{return(await r.Z.put("/system/target_revenue/".concat(e),t)).data}catch(e){throw(0,s.S)(e),e}},getLinksSystem:async()=>{try{return(await r.Z.get("/system/links_system")).data}catch(e){throw(0,s.S)(e),e}},getLinkSystem:async e=>{try{return(await r.Z.get("/system/link_system/".concat(e))).data}catch(e){throw(0,s.S)(e),e}},createLinkSystem:async e=>{try{return(await r.Z.post("/system/link_system",e)).data}catch(e){throw(0,s.S)(e),e}},updateLinkSystem:async(e,t)=>{try{return(await r.Z.put("/system/link_system/".concat(e),t)).data}catch(e){throw(0,s.S)(e),e}}}},65624:function(e,t,a){"use strict";a.d(t,{Z:function(){return n}});var s=a(2265),r=a(68575);function n(e){let[t,a]=(0,s.useState)(!1),{datas:n}=(0,r.v9)(e=>e.get_access_roles);return(0,s.useEffect)(()=>{n&&(null==n?void 0:n.length)>0&&a(n.some(t=>e.includes(t.role_type.name_tag)))},[n,e]),t}},90382:function(e,t,a){"use strict";a.d(t,{S:function(){return r}});var s=a(7261);let r=e=>{var t,a,r;let n=(null===(a=e.response)||void 0===a?void 0:null===(t=a.data)||void 0===t?void 0:t.message)||"An unexpected error occurred",l=null===(r=e.response)||void 0===r?void 0:r.status;s.Am.dismiss(),403===l?s.Am.error("Bạn kh\xf4ng c\xf3 quyền"):s.Am.error(n)}}},function(e){e.O(0,[5706,5319,5651,6006,1047,8143,7526,7464,7821,3464,9481,314,9970,5270,1412,3281,7651,6399,5422,1250,8970,4967,3344,2971,2117,1744],function(){return e(e.s=66921)}),_N_E=e.O()}]);