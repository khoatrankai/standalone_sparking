(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7534],{89114:function(e,n,t){Promise.resolve().then(t.bind(t,26540))},66487:function(e,n,t){"use strict";t.d(n,{Z:function(){return I}});var a=t(2265),i=t(61935),l=t(36760),c=t.n(l),s=t(3199),r=t(50506),o=t(6694),d=t(71744),u=t(86586),m=t(33759),h=t(95201),x=t(36360),g=t(12918),f=t(99320),v=t(71140);let p=e=>{let{componentCls:n,trackHeightSM:t,trackPadding:a,trackMinWidthSM:i,innerMinMarginSM:l,innerMaxMarginSM:c,handleSizeSM:s,calc:r}=e,o="".concat(n,"-inner"),d=(0,h.unit)(r(s).add(r(a).mul(2)).equal()),u=(0,h.unit)(r(c).mul(2).equal());return{[n]:{["&".concat(n,"-small")]:{minWidth:i,height:t,lineHeight:(0,h.unit)(t),["".concat(n,"-inner")]:{paddingInlineStart:c,paddingInlineEnd:l,["".concat(o,"-checked, ").concat(o,"-unchecked")]:{minHeight:t},["".concat(o,"-checked")]:{marginInlineStart:"calc(-100% + ".concat(d," - ").concat(u,")"),marginInlineEnd:"calc(100% - ".concat(d," + ").concat(u,")")},["".concat(o,"-unchecked")]:{marginTop:r(t).mul(-1).equal(),marginInlineStart:0,marginInlineEnd:0}},["".concat(n,"-handle")]:{width:s,height:s},["".concat(n,"-loading-icon")]:{top:r(r(s).sub(e.switchLoadingIconSize)).div(2).equal(),fontSize:e.switchLoadingIconSize},["&".concat(n,"-checked")]:{["".concat(n,"-inner")]:{paddingInlineStart:l,paddingInlineEnd:c,["".concat(o,"-checked")]:{marginInlineStart:0,marginInlineEnd:0},["".concat(o,"-unchecked")]:{marginInlineStart:"calc(100% - ".concat(d," + ").concat(u,")"),marginInlineEnd:"calc(-100% + ".concat(d," - ").concat(u,")")}},["".concat(n,"-handle")]:{insetInlineStart:"calc(100% - ".concat((0,h.unit)(r(s).add(a).equal()),")")}},["&:not(".concat(n,"-disabled):active")]:{["&:not(".concat(n,"-checked) ").concat(o)]:{["".concat(o,"-unchecked")]:{marginInlineStart:r(e.marginXXS).div(2).equal(),marginInlineEnd:r(e.marginXXS).mul(-1).div(2).equal()}},["&".concat(n,"-checked ").concat(o)]:{["".concat(o,"-checked")]:{marginInlineStart:r(e.marginXXS).mul(-1).div(2).equal(),marginInlineEnd:r(e.marginXXS).div(2).equal()}}}}}}},j=e=>{let{componentCls:n,handleSize:t,calc:a}=e;return{[n]:{["".concat(n,"-loading-icon").concat(e.iconCls)]:{position:"relative",top:a(a(t).sub(e.fontSize)).div(2).equal(),color:e.switchLoadingIconColor,verticalAlign:"top"},["&".concat(n,"-checked ").concat(n,"-loading-icon")]:{color:e.switchColor}}}},w=e=>{let{componentCls:n,trackPadding:t,handleBg:a,handleShadow:i,handleSize:l,calc:c}=e,s="".concat(n,"-handle");return{[n]:{[s]:{position:"absolute",top:t,insetInlineStart:t,width:l,height:l,transition:"all ".concat(e.switchDuration," ease-in-out"),"&::before":{position:"absolute",top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,backgroundColor:a,borderRadius:c(l).div(2).equal(),boxShadow:i,transition:"all ".concat(e.switchDuration," ease-in-out"),content:'""'}},["&".concat(n,"-checked ").concat(s)]:{insetInlineStart:"calc(100% - ".concat((0,h.unit)(c(l).add(t).equal()),")")},["&:not(".concat(n,"-disabled):active")]:{["".concat(s,"::before")]:{insetInlineEnd:e.switchHandleActiveInset,insetInlineStart:0},["&".concat(n,"-checked ").concat(s,"::before")]:{insetInlineEnd:0,insetInlineStart:e.switchHandleActiveInset}}}}},N=e=>{let{componentCls:n,trackHeight:t,trackPadding:a,innerMinMargin:i,innerMaxMargin:l,handleSize:c,calc:s}=e,r="".concat(n,"-inner"),o=(0,h.unit)(s(c).add(s(a).mul(2)).equal()),d=(0,h.unit)(s(l).mul(2).equal());return{[n]:{[r]:{display:"block",overflow:"hidden",borderRadius:100,height:"100%",paddingInlineStart:l,paddingInlineEnd:i,transition:"padding-inline-start ".concat(e.switchDuration," ease-in-out, padding-inline-end ").concat(e.switchDuration," ease-in-out"),["".concat(r,"-checked, ").concat(r,"-unchecked")]:{display:"block",color:e.colorTextLightSolid,fontSize:e.fontSizeSM,transition:"margin-inline-start ".concat(e.switchDuration," ease-in-out, margin-inline-end ").concat(e.switchDuration," ease-in-out"),pointerEvents:"none",minHeight:t},["".concat(r,"-checked")]:{marginInlineStart:"calc(-100% + ".concat(o," - ").concat(d,")"),marginInlineEnd:"calc(100% - ".concat(o," + ").concat(d,")")},["".concat(r,"-unchecked")]:{marginTop:s(t).mul(-1).equal(),marginInlineStart:0,marginInlineEnd:0}},["&".concat(n,"-checked ").concat(r)]:{paddingInlineStart:i,paddingInlineEnd:l,["".concat(r,"-checked")]:{marginInlineStart:0,marginInlineEnd:0},["".concat(r,"-unchecked")]:{marginInlineStart:"calc(100% - ".concat(o," + ").concat(d,")"),marginInlineEnd:"calc(-100% + ".concat(o," - ").concat(d,")")}},["&:not(".concat(n,"-disabled):active")]:{["&:not(".concat(n,"-checked) ").concat(r)]:{["".concat(r,"-unchecked")]:{marginInlineStart:s(a).mul(2).equal(),marginInlineEnd:s(a).mul(-1).mul(2).equal()}},["&".concat(n,"-checked ").concat(r)]:{["".concat(r,"-checked")]:{marginInlineStart:s(a).mul(-1).mul(2).equal(),marginInlineEnd:s(a).mul(2).equal()}}}}}},b=e=>{let{componentCls:n,trackHeight:t,trackMinWidth:a}=e;return{[n]:Object.assign(Object.assign(Object.assign(Object.assign({},(0,g.Wf)(e)),{position:"relative",display:"inline-block",boxSizing:"border-box",minWidth:a,height:t,lineHeight:(0,h.unit)(t),verticalAlign:"middle",background:e.colorTextQuaternary,border:"0",borderRadius:100,cursor:"pointer",transition:"all ".concat(e.motionDurationMid),userSelect:"none",["&:hover:not(".concat(n,"-disabled)")]:{background:e.colorTextTertiary}}),(0,g.Qy)(e)),{["&".concat(n,"-checked")]:{background:e.switchColor,["&:hover:not(".concat(n,"-disabled)")]:{background:e.colorPrimaryHover}},["&".concat(n,"-loading, &").concat(n,"-disabled")]:{cursor:"not-allowed",opacity:e.switchDisabledOpacity,"*":{boxShadow:"none",cursor:"not-allowed"}},["&".concat(n,"-rtl")]:{direction:"rtl"}})}};var k=(0,f.I$)("Switch",e=>{let n=(0,v.mergeToken)(e,{switchDuration:e.motionDurationMid,switchColor:e.colorPrimary,switchDisabledOpacity:e.opacityLoading,switchLoadingIconSize:e.calc(e.fontSizeIcon).mul(.75).equal(),switchLoadingIconColor:"rgba(0, 0, 0, ".concat(e.opacityLoading,")"),switchHandleActiveInset:"-30%"});return[b(n),N(n),w(n),j(n),p(n)]},e=>{let{fontSize:n,lineHeight:t,controlHeight:a,colorWhite:i}=e,l=n*t,c=a/2,s=l-4,r=c-4;return{trackHeight:l,trackHeightSM:c,trackMinWidth:2*s+8,trackMinWidthSM:2*r+4,trackPadding:2,handleBg:i,handleSize:s,handleSizeSM:r,handleShadow:"0 2px 4px 0 ".concat(new x.C("#00230b").setAlpha(.2).toRgbString()),innerMinMargin:s/2,innerMaxMargin:s+2+4,innerMinMarginSM:r/2,innerMaxMarginSM:r+2+4}}),y=function(e,n){var t={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&0>n.indexOf(a)&&(t[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,a=Object.getOwnPropertySymbols(e);i<a.length;i++)0>n.indexOf(a[i])&&Object.prototype.propertyIsEnumerable.call(e,a[i])&&(t[a[i]]=e[a[i]]);return t};let C=a.forwardRef((e,n)=>{let{prefixCls:t,size:l,disabled:h,loading:x,className:g,rootClassName:f,style:v,checked:p,value:j,defaultChecked:w,defaultValue:N,onChange:b}=e,C=y(e,["prefixCls","size","disabled","loading","className","rootClassName","style","checked","value","defaultChecked","defaultValue","onChange"]),[I,S]=(0,r.Z)(!1,{value:null!=p?p:j,defaultValue:null!=w?w:N}),{getPrefixCls:Z,direction:_,switch:E}=a.useContext(d.E_),z=a.useContext(u.Z),D=(null!=h?h:z)||x,q=Z("switch",t),O=a.createElement("div",{className:"".concat(q,"-handle")},x&&a.createElement(i.Z,{className:"".concat(q,"-loading-icon")})),[T,M,L]=k(q),R=(0,m.Z)(l),A=c()(null==E?void 0:E.className,{["".concat(q,"-small")]:"small"===R,["".concat(q,"-loading")]:x,["".concat(q,"-rtl")]:"rtl"===_},g,f,M,L),H=Object.assign(Object.assign({},null==E?void 0:E.style),v);return T(a.createElement(o.Z,{component:"Switch"},a.createElement(s.default,Object.assign({},C,{checked:I,onChange:function(){S(arguments.length<=0?void 0:arguments[0]),null==b||b.apply(void 0,arguments)},prefixCls:q,className:A,style:H,disabled:D,ref:n,loadingIcon:O}))))});C.__ANT_SWITCH=!0;var I=C},94766:function(e,n,t){"use strict";t.d(n,{Z:function(){return a}});let a=(0,t(79205).Z)("bell",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]])},86595:function(e,n,t){"use strict";t.d(n,{Z:function(){return a}});let a=(0,t(79205).Z)("star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]])},3199:function(e,n,t){"use strict";t.r(n);var a=t(1119),i=t(11993),l=t(26365),c=t(10902),s=t(2265),r=t(36760),o=t.n(r),d=t(50506),u=t(95814),m=["prefixCls","className","checked","defaultChecked","disabled","loadingIcon","checkedChildren","unCheckedChildren","onClick","onChange","onKeyDown"],h=s.forwardRef(function(e,n){var t,r=e.prefixCls,h=void 0===r?"rc-switch":r,x=e.className,g=e.checked,f=e.defaultChecked,v=e.disabled,p=e.loadingIcon,j=e.checkedChildren,w=e.unCheckedChildren,N=e.onClick,b=e.onChange,k=e.onKeyDown,y=(0,c.Z)(e,m),C=(0,d.Z)(!1,{value:g,defaultValue:f}),I=(0,l.Z)(C,2),S=I[0],Z=I[1];function _(e,n){var t=S;return v||(Z(t=e),null==b||b(t,n)),t}var E=o()(h,x,(t={},(0,i.Z)(t,"".concat(h,"-checked"),S),(0,i.Z)(t,"".concat(h,"-disabled"),v),t));return s.createElement("button",(0,a.Z)({},y,{type:"button",role:"switch","aria-checked":S,disabled:v,className:E,ref:n,onKeyDown:function(e){e.which===u.Z.LEFT?_(!1,e):e.which===u.Z.RIGHT&&_(!0,e),null==k||k(e)},onClick:function(e){var n=_(!S,e);null==N||N(n,e)}}),p,s.createElement("span",{className:"".concat(h,"-inner")},s.createElement("span",{className:"".concat(h,"-inner-checked")},j),s.createElement("span",{className:"".concat(h,"-inner-unchecked")},w)))});h.displayName="Switch",n.default=h},26540:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return h}});var a=t(57437),i=(t(78687),t(74659)),l=t(11265),c=t(61232),s=t(96248),r=t(80841),o=t(63445),d=t(41259),u=t(2265),m=t(68575);function h(){let e=(0,m.I0)();return(0,u.useEffect)(()=>{e((0,l.ij)({})),e((0,r.LG)()),e((0,d.C)()),e((0,s.D)()),e((0,o.b)()),e((0,c.vh)())},[e,!0]),(0,a.jsx)("div",{className:"p-4",children:(0,a.jsx)(i.Z,{})})}},78687:function(e,n,t){"use strict";t.d(n,{Z:function(){return c}});var a=t(57437),i=t(71047),l=t(91626);function c(){return(0,a.jsx)(i.ZP,{status:"403",title:"403",subTitle:"Sorry, you are not authorized to access this page.",extra:(0,a.jsx)(l.ZP,{type:"primary",children:"Quay lại"})})}t(2265)},74659:function(e,n,t){"use strict";t.d(n,{Z:function(){return H}});var a=t(57437),i=t(2265),l=t(91626),c=t(66487),s=t(11632),r=t(58970),o=t(91250),d=t(56771),u=t(68575),m=t(15162),h=t(46475),x=t(24307),g=t(80841),f=t(22744),v=t(65624),p=t(99376),j=t(95805),w=t(32489),N=t(96246),b=t(12381),k=t(86595),y=t(94766),C=t(74291),I=t(23675),S=t(75060);function Z(e){let{open:n,onOpenChange:t,list_id:l,userId:c,workId:s,userName:r}=e,[o,d]=(0,i.useState)(0),[u,m]=(0,i.useState)(""),[h,g]=(0,i.useState)(""),[f,v]=(0,i.useState)(!1),p=async()=>{v(!0);try{let e={progress:o,description:u,user_work:l};h&&""!==h?await x.Z.updateReviewUser(h,e):await x.Z.createReviewUser(e),d(0),m(""),t(!1)}catch(e){}finally{v(!1)}},j=async()=>{let e=await x.Z.getReviewUserByWork(c,s);if(200===e.statusCode){var n;d(e.data.progress),m(e.data.description),g(null==e?void 0:null===(n=e.data)||void 0===n?void 0:n.review_id)}};return(0,i.useEffect)(()=>{console.log("fetchData:",c,s),c&&s&&j()},[s,c]),(0,a.jsx)(C.Vq,{open:n,onOpenChange:t,children:(0,a.jsxs)(C.cZ,{className:"sm:max-w-[425px]",children:[(0,a.jsxs)(C.fK,{children:[(0,a.jsxs)(C.$N,{className:"flex items-center gap-2",children:[(0,a.jsx)(k.Z,{className:"w-5 h-5 text-yellow-500"}),"Đ\xe1nh gi\xe1 c\xf4ng việc"]}),(0,a.jsxs)(C.Be,{children:["Đ\xe1nh gi\xe1 tiến độ v\xe0 chất lượng c\xf4ng việc của ",(0,a.jsx)("strong",{children:r})]})]}),(0,a.jsxs)("div",{className:"grid gap-4 py-4",children:[(0,a.jsxs)("div",{className:"grid gap-2",children:[(0,a.jsxs)(S._,{htmlFor:"progress",children:["Tiến độ ho\xe0n th\xe0nh: ",o,"%"]}),(0,a.jsx)("input",{id:"progress",type:"range",min:"0",max:"100",step:"5",value:o,onChange:e=>d(Number(e.target.value)),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer slider"}),(0,a.jsxs)("div",{className:"flex justify-between text-xs text-muted-foreground",children:[(0,a.jsx)("span",{children:"0%"}),(0,a.jsx)("span",{children:"50%"}),(0,a.jsx)("span",{children:"100%"})]})]}),(0,a.jsxs)("div",{className:"grid gap-2",children:[(0,a.jsx)(S._,{htmlFor:"description",children:"Nhận x\xe9t"}),(0,a.jsx)(I.g,{id:"description",placeholder:"Nhập nhận x\xe9t về c\xf4ng việc của nh\xe2n vi\xean...",value:u,onChange:e=>m(e.target.value),rows:4})]})]}),(0,a.jsxs)(C.cN,{children:[(0,a.jsx)(b.zx,{variant:"outline",onClick:()=>t(!1),disabled:f,children:"Hủy"}),(0,a.jsx)(b.zx,{onClick:p,disabled:f,className:"flex items-center gap-2",children:f?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Đang gửi..."]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(k.Z,{className:"w-4 h-4"}),"Gửi đ\xe1nh gi\xe1"]})})]})]})})}function _(e){let{open:n,onOpenChange:t,workId:l,userId:c,userName:s}=e,[r,o]=(0,i.useState)(""),[d,u]=(0,i.useState)(!1),m=async()=>{if(r.trim()){u(!0);try{await x.Z.createRemind({description:r,work:l,user_remind:c,seen:!1}),o(""),t(!1)}catch(e){}finally{u(!1)}}};return(0,a.jsx)(C.Vq,{open:n,onOpenChange:t,children:(0,a.jsxs)(C.cZ,{className:"sm:max-w-[425px]",children:[(0,a.jsxs)(C.fK,{children:[(0,a.jsxs)(C.$N,{className:"flex items-center gap-2",children:[(0,a.jsx)(y.Z,{className:"w-5 h-5 text-orange-500"}),"Nhắc nhở c\xf4ng việc"]}),(0,a.jsxs)(C.Be,{children:["Gửi nhắc nhở về c\xf4ng việc đến ",(0,a.jsx)("strong",{children:s})]})]}),(0,a.jsx)("div",{className:"grid gap-4 py-4",children:(0,a.jsxs)("div",{className:"grid gap-2",children:[(0,a.jsx)(S._,{htmlFor:"remind-description",children:"Nội dung nhắc nhở"}),(0,a.jsx)(I.g,{id:"remind-description",placeholder:"Nhập nội dung nhắc nhở cho nh\xe2n vi\xean...",value:r,onChange:e=>o(e.target.value),rows:4})]})}),(0,a.jsxs)(C.cN,{children:[(0,a.jsx)(b.zx,{variant:"outline",onClick:()=>t(!1),disabled:d,children:"Hủy"}),(0,a.jsx)(b.zx,{onClick:m,disabled:d,className:"flex items-center gap-2",children:d?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Đang gửi..."]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(y.Z,{className:"w-4 h-4"}),"Gửi nhắc nhở"]})})]})]})})}function E(e){let{workId:n,userId:t,userName:l,listId:c}=e,[s,r]=(0,i.useState)(!1),[o,d]=(0,i.useState)(!1);return(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)(b.zx,{variant:"outline",size:"sm",onClick:()=>r(!0),className:"flex items-center gap-2 hover:bg-blue-50 hover:text-blue-600 hover:border-blue-200",children:[(0,a.jsx)(k.Z,{className:"w-4 h-4"}),"Đ\xe1nh gi\xe1"]}),(0,a.jsxs)(b.zx,{variant:"outline",size:"sm",onClick:()=>d(!0),className:"flex items-center gap-2 hover:bg-orange-50 hover:text-orange-600 hover:border-orange-200",children:[(0,a.jsx)(y.Z,{className:"w-4 h-4"}),"Nhắc nhở"]}),s&&(0,a.jsx)(Z,{open:s,onOpenChange:r,workId:n,userId:t,list_id:c,userName:l}),o&&(0,a.jsx)(_,{open:o,onOpenChange:d,workId:n,userId:t,userName:l})]})}function z(e){var n,t,l;let{isOpen:c,onClose:s,work:r}=e,[o,d]=(0,i.useState)(),u=async()=>{let e=await x.Z.getWorkById(r);200===e.statusCode&&d(e.data)};return((0,i.useEffect)(()=>{r&&u()},[r]),c)?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"fixed inset-0 bg-black/50 z-40 transition-opacity duration-300",onClick:s}),(0,a.jsxs)("div",{className:"fixed right-0 top-0 h-full w-full max-w-2xl bg-background border-l shadow-2xl z-50 transform transition-transform duration-300 ease-in-out ".concat(c?"translate-x-0":"translate-x-full"),children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-6 border-b bg-muted/30",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(j.Z,{className:"w-6 h-6 text-primary"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-xl font-semibold",children:"Danh s\xe1ch nh\xe2n vi\xean"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:null==o?void 0:o.name})]})]}),(0,a.jsx)(b.zx,{variant:"ghost",size:"icon",onClick:s,className:"hover:bg-destructive/10 hover:text-destructive",children:(0,a.jsx)(w.Z,{className:"w-5 h-5"})})]}),(0,a.jsxs)("div",{className:"flex-1 overflow-y-auto p-6",children:[(0,a.jsx)("div",{className:"mb-4",children:(0,a.jsxs)("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[(0,a.jsx)(j.Z,{className:"w-4 h-4"}),(0,a.jsxs)("span",{children:[null==o?void 0:null===(n=o.list_user)||void 0===n?void 0:n.length," nh\xe2n vi\xean được ph\xe2n c\xf4ng"]})]})}),(0,a.jsxs)("div",{className:"space-y-4",children:[null==o?void 0:null===(t=o.list_user)||void 0===t?void 0:t.map(e=>(0,a.jsx)("div",{className:"p-4 bg-card border rounded-xl hover:shadow-md transition-all duration-200 hover:border-primary/20",children:(0,a.jsxs)("div",{className:"flex items-start gap-4",children:[(0,a.jsxs)(N.qE,{className:"w-12 h-12 ring-2 ring-primary/10",children:[(0,a.jsx)(N.F$,{src:(null==e?void 0:e.picture_url)||void 0}),(0,a.jsxs)(N.Q5,{className:"bg-primary/10 text-primary font-medium",children:[null==e?void 0:e.first_name.charAt(0),null==e?void 0:e.last_name.charAt(0)]})]}),(0,a.jsx)("div",{className:"flex-1 min-w-0",children:(0,a.jsxs)("div",{className:"flex items-start justify-between gap-3",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("h3",{className:"font-medium text-base",children:[null==e?void 0:e.first_name," ",null==e?void 0:e.last_name]}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:null==e?void 0:e.email}),(0,a.jsxs)("p",{className:"text-xs text-muted-foreground mt-1",children:["ID: ",null==e?void 0:e.user_id]})]}),(0,a.jsx)(E,{workId:null==o?void 0:o.work_id,userId:null==e?void 0:e.user_id,userName:"".concat(null==e?void 0:e.first_name," ").concat(null==e?void 0:e.last_name),listId:null==e?void 0:e.list_id})]})})]})},null==e?void 0:e.user_id)),(null==o?void 0:null===(l=o.list_user)||void 0===l?void 0:l.length)===0&&(0,a.jsxs)("div",{className:"text-center py-16",children:[(0,a.jsx)("div",{className:"w-20 h-20 mx-auto mb-4 rounded-full bg-muted flex items-center justify-center",children:(0,a.jsx)(j.Z,{className:"w-10 h-10 text-muted-foreground"})}),(0,a.jsx)("h3",{className:"text-lg font-medium mb-2",children:"Chưa c\xf3 nh\xe2n vi\xean"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"Chưa c\xf3 nh\xe2n vi\xean n\xe0o được ph\xe2n c\xf4ng cho c\xf4ng việc n\xe0y"})]})]})]})]})]}):null}function D(){let[e,n]=(0,i.useState)(),[t,w]=(0,i.useState)(25),N=(0,v.Z)(["admin-top","activity","activity-edit","work","work-edit"]),{datas:b}=(0,u.v9)(e=>e.get_works),[k,y]=(0,i.useState)([]),C=[{title:"#",className:"text-xs",dataIndex:"work_id",render:(e,t,i)=>{var c;return(0,a.jsxs)("div",{className:"flex flex-col gap-1 ",children:[(0,a.jsxs)("strong",{children:["#",i+1]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsxs)(l.ZP,{onClick:()=>{n(e)},className:"flex items-center gap-2",children:[(0,a.jsx)(j.Z,{className:"w-4 h-4"}),"Xem nh\xe2n vi\xean (",(null===(c=t.list_user)||void 0===c?void 0:c.length)||0,")"]}),N&&(0,a.jsx)(m.Z,{ID:e})]})]})},sorter:(e,n)=>e.work_id.localeCompare(n.work_id)},{title:"T\xean c\xf4ng việc",dataIndex:"name",className:"text-xs",render:e=>e||"N/A",sorter:(e,n)=>(e.name||"").localeCompare(n.name||"")},{title:"Hoạt động",dataIndex:["activity","name"],className:"text-xs",render:e=>e?"".concat(e):"N/A",sorter:(e,n)=>{var t,a;return((null===(t=e.activity)||void 0===t?void 0:t.name)||"").localeCompare((null===(a=n.activity)||void 0===a?void 0:a.name)||"")}},{title:"Loại c\xf4ng việc",dataIndex:["type","name"],className:"text-xs",render:e=>e||"N/A",sorter:(e,n)=>{var t,a;return((null===(t=e.type)||void 0===t?void 0:t.name)||"").localeCompare((null===(a=n.type)||void 0===a?void 0:a.name)||"")}},{title:"T\xecnh trạng",dataIndex:["status","name"],className:"text-xs",render:e=>e||"N/A",sorter:(e,n)=>{var t,a;return((null===(t=e.status)||void 0===t?void 0:t.name)||"").localeCompare((null===(a=n.status)||void 0===a?void 0:a.name)||"")}},{title:"Khẩn cấp",className:"text-xs",dataIndex:"urgent",render:(e,n)=>(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(c.Z,{defaultChecked:e,onChange:async e=>{S(n.work_id,e)}})})},{title:"Ng\xe0y bắt đầu",dataIndex:"time_start",className:"text-xs",render:e=>e?new Date(e).toLocaleDateString("vi-VN"):"N/A",sorter:(e,n)=>new Date(e.time_start||0).getTime()-new Date(n.time_start||0).getTime()},{title:"Ng\xe0y kết th\xfac",dataIndex:"time_end",className:"text-xs",render:e=>e?new Date(e).toLocaleDateString("vi-VN"):"N/A",sorter:(e,n)=>new Date(e.time_end||0).getTime()-new Date(n.time_end||0).getTime()}],I=e=>{y(null==b?void 0:b.filter(n=>{var t,a;return String(n.created_at+" "+n.name+" "+(null===(t=n.activity)||void 0===t?void 0:t.name)+" "+n.time_start+" "+n.time_end+" "+(null==n?void 0:null===(a=n.status)||void 0===a?void 0:a.name)+" "+n.work_id).toLowerCase().includes(e.toLowerCase())}))},S=async(e,n)=>{let t=await Z(()=>x.Z.updateWork(e,{urgent:n}));(200===t||201===t)&&_((0,g.LG)())},{postdata:Z}=(0,h.Z)(),_=(0,u.I0)(),[E,D]=(0,i.useState)(!1),[q,O]=(0,i.useState)([]),T=async()=>{200===await Z(()=>x.Z.deleteWorks(q))&&(_((0,g.LG)()),O([]),D(!1))},M=(0,p.useSearchParams)();return(0,i.useEffect)(()=>{let e=M.get("id");b&&e?I(e):y(b.map((e,n)=>({...e,key:n})))},[b,M]),(0,a.jsxs)("div",{className:"",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-2 flex-wrap gap-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(s.Z,{defaultValue:t,style:{width:83},onChange:e=>w(e),options:[{value:10,label:10},{value:25,label:25},{value:50,label:50},{value:100,label:100},{value:500,label:500},{value:1e3,label:1e3},{value:1e8,label:"Tất cả"}]}),(0,a.jsx)(l.ZP,{hidden:!(q.length>0),children:"Xuất ra"}),(0,a.jsx)(l.ZP,{onClick:()=>{D(!0)},danger:!0,hidden:!(q.length>0),className:"text-xl",icon:(0,a.jsx)(f.FH3,{})}),(0,a.jsx)(r.Z,{open:E,title:"X\xf3a dữ liệu",onOk:T,onCancel:()=>{D(!1)},children:"Bạn c\xf3 chắc chắn muốn x\xf3a kh\xf4ng ?"})]}),(0,a.jsx)("div",{className:"flex items-center",children:(0,a.jsx)(d.Z,{onChange:e=>{I(e.target.value)},placeholder:"T\xecm kiếm",style:{width:200}})})]}),(0,a.jsx)("div",{className:"w-full overflow-auto",children:(0,a.jsx)("div",{className:"min-w-fit",children:(0,a.jsx)(o.Z,{columns:C,rowSelection:{onChange:(e,n)=>{O(n.map(e=>e.work_id))}},dataSource:k,scroll:{x:"max-content"},pagination:{pageSize:t,showTotal:(e,n)=>"".concat(n[0],"-").concat(n[1]," of ").concat(e," items")},showSorterTooltip:{target:"sorter-icon"}})})}),(0,a.jsx)(z,{isOpen:!!e,onClose:()=>n(void 0),work:e})]})}var q=t(64150),O=t(21544),T=t(83458),M=t(27648),L=t(61273),R=t(94295);function A(){let{projectID:e}=(0,p.useParams)();return(0,a.jsx)("div",{className:"flex items-start gap-4 w-full flex-col",children:(0,a.jsxs)("div",{className:"flex gap-2 items-center w-full flex-wrap",children:[(0,a.jsx)(q.Z,{}),(0,a.jsx)("div",{className:"sm:block hidden",children:(0,a.jsx)(O.Z,{})}),(0,a.jsx)("div",{className:"sm:block hidden",children:(0,a.jsx)(T.Z,{})}),(0,a.jsx)(M.default,{href:"/work/scheduler",hidden:!!e,children:(0,a.jsx)(l.ZP,{icon:(0,a.jsx)(L.zwD,{})})}),(0,a.jsx)(M.default,{href:"/management/all_work",children:(0,a.jsx)(l.ZP,{icon:(0,a.jsx)(R.zom,{})})})]})})}function H(){let e=(0,v.Z)(["admin-top","activity","activity-edit","work","work-edit"]);return(0,a.jsxs)("div",{className:"flex flex-col gap-4 rounded-md p-4 shadow-[0_8px_30px_rgb(0,0,0,0.12)] bg-white",children:[e&&(0,a.jsx)("div",{className:"rounded-md",children:(0,a.jsx)(A,{})}),(0,a.jsx)("div",{className:"rounded-md",children:(0,a.jsx)(D,{})})]})}},96246:function(e,n,t){"use strict";t.d(n,{F$:function(){return r},Q5:function(){return o},qE:function(){return s}});var a=t(57437),i=t(2265),l=t(61146),c=t(93448);let s=i.forwardRef((e,n)=>{let{className:t,...i}=e;return(0,a.jsx)(l.fC,{ref:n,className:(0,c.cn)("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...i})});s.displayName=l.fC.displayName;let r=i.forwardRef((e,n)=>{let{className:t,...i}=e;return(0,a.jsx)(l.Ee,{ref:n,className:(0,c.cn)("aspect-square h-full w-full",t),...i})});r.displayName=l.Ee.displayName;let o=i.forwardRef((e,n)=>{let{className:t,...i}=e;return(0,a.jsx)(l.NY,{ref:n,className:(0,c.cn)("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...i})});o.displayName=l.NY.displayName},74291:function(e,n,t){"use strict";t.d(n,{$N:function(){return x},Be:function(){return g},Vq:function(){return r},cN:function(){return h},cZ:function(){return u},fK:function(){return m}});var a=t(57437),i=t(2265),l=t(49027),c=t(32489),s=t(93448);let r=l.fC;l.xz;let o=l.h_;l.x8;let d=i.forwardRef((e,n)=>{let{className:t,...i}=e;return(0,a.jsx)(l.aV,{ref:n,className:(0,s.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...i})});d.displayName=l.aV.displayName;let u=i.forwardRef((e,n)=>{let{className:t,children:i,...r}=e;return(0,a.jsxs)(o,{children:[(0,a.jsx)(d,{}),(0,a.jsxs)(l.VY,{ref:n,className:(0,s.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...r,children:[i,(0,a.jsxs)(l.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,a.jsx)(c.Z,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});u.displayName=l.VY.displayName;let m=e=>{let{className:n,...t}=e;return(0,a.jsx)("div",{className:(0,s.cn)("flex flex-col space-y-1.5 text-center sm:text-left",n),...t})};m.displayName="DialogHeader";let h=e=>{let{className:n,...t}=e;return(0,a.jsx)("div",{className:(0,s.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",n),...t})};h.displayName="DialogFooter";let x=i.forwardRef((e,n)=>{let{className:t,...i}=e;return(0,a.jsx)(l.Dx,{ref:n,className:(0,s.cn)("text-lg font-semibold leading-none tracking-tight",t),...i})});x.displayName=l.Dx.displayName;let g=i.forwardRef((e,n)=>{let{className:t,...i}=e;return(0,a.jsx)(l.dk,{ref:n,className:(0,s.cn)("text-sm text-muted-foreground",t),...i})});g.displayName=l.dk.displayName},23675:function(e,n,t){"use strict";t.d(n,{g:function(){return c}});var a=t(57437),i=t(2265),l=t(93448);let c=i.forwardRef((e,n)=>{let{className:t,...i}=e;return(0,a.jsx)("textarea",{className:(0,l.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...i})});c.displayName="Textarea"},65624:function(e,n,t){"use strict";t.d(n,{Z:function(){return l}});var a=t(2265),i=t(68575);function l(e){let[n,t]=(0,a.useState)(!1),{datas:l}=(0,i.v9)(e=>e.get_access_roles);return(0,a.useEffect)(()=>{l&&(null==l?void 0:l.length)>0&&t(l.some(n=>e.includes(n.role_type.name_tag)))},[l,e]),n}}},function(e){e.O(0,[5652,6051,7699,5706,5452,1994,6950,7240,522,5319,5651,6006,1047,8143,7526,7464,7821,3464,9481,314,9970,5270,1412,3281,7651,6399,5422,1250,8970,4967,3569,3344,6498,3984,136,6612,480,7580,8026,7648,8230,2384,4599,6966,2883,9626,5162,4519,2971,2117,1744],function(){return e(e.s=89114)}),_N_E=e.O()}]);